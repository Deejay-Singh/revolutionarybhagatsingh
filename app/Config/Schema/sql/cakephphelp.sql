-- phpMyAdmin SQL Dump
-- version 4.0.4
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Dec 25, 2013 at 08:11 PM
-- Server version: 5.5.32-0ubuntu0.12.04.1
-- PHP Version: 5.3.10-1ubuntu3.8

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `cakephphelp`
--
CREATE DATABASE IF NOT EXISTS `cakephphelp` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `cakephphelp`;

-- --------------------------------------------------------

--
-- Table structure for table `answers`
--

CREATE TABLE IF NOT EXISTS `answers` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `user_id` int(5) NOT NULL DEFAULT '1',
  `question_id` int(10) NOT NULL,
  `answer` text NOT NULL,
  `is_verified` tinyint(1) NOT NULL DEFAULT '0',
  `is_active` tinyint(1) NOT NULL DEFAULT '1',
  `rating` tinyint(1) NOT NULL,
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=97 ;

--
-- Dumping data for table `answers`
--

INSERT INTO `answers` (`id`, `user_id`, `question_id`, `answer`, `is_verified`, `is_active`, `rating`, `created`, `modified`) VALUES
(1, 1, 1, '<p><strong>The problem:</strong></p>\r\n\r\n<p>You cannot display files that are outside the webroot via a direct URL - that&#39;s the whole point in putting them above the webroot in the first place - to make them NOT directly accessible.</p>\r\n\r\n<p>So building the image src path in the controller first (not good practice anyway) won&#39;t change the fact that when that path gets to the browser, and it reads the source of the image as trying to pull an image from above webroot, it won&#39;t/can&#39;t.</p>\r\n\r\n<p><strong>The Solution:</strong></p>\r\n\r\n<p>The solution is to use a <a href="http://book.cakephp.org/2.0/en/controllers/request-response.html#cake-response-file">CakePHP&#39;s Sending files</a> (what used to be <a href="http://book.cakephp.org/2.0/en/views/media-view.html#media-views">Media Views</a>). Then, you set your img&#39;s &quot;src&quot; to a controller/action. In that action, it basically says &quot;display this action as an image&quot; (or pdf, or whatever else).</p>\r\n\r\n<p><strong>Path to use in Controller:</strong></p>\r\n\r\n<p>took this from one of my apps which is doing exactly the above, and here&#39;s the path I used for a file in &#39;files&#39; (same level as webroot):</p>\r\n\r\n<pre>\r\n<code>file_exists(APP . &#39;files&#39; . DS . $your_filename)</code></pre>\r\n', 1, 1, 0, '2013-12-21 23:18:11', '2013-12-21 23:18:11'),
(2, 1, 2, '<p>There is a section in the <a href="http://book.cakephp.org/2.0/en/index.html">CakePHP book</a> answering directly that:</p>\r\n\r\n<p><a href="http://book.cakephp.org/2.0/en/deployment.html">http://book.cakephp.org/2.0/en/deployment.html</a></p>\r\n', 1, 1, 0, '2013-12-21 23:18:50', '2013-12-21 23:18:50'),
(3, 1, 3, '<p>By the logic of it, are you trying to find upcoming birthdays for current month? If so, you should check the <a href="http://book.cakephp.org/2.0/en/core-utility-libraries/time.html">CakeTime Helper</a>, it has useful functions. In this case you can make a combination of isThisMonth with isToday and isFuture.</p>\r\n', 0, 1, 0, '2013-12-21 23:23:11', '2013-12-21 23:23:11'),
(4, 1, 3, '<p>how about</p>\r\n\r\n<p>&#39;conditions&#39;=&gt; array( &#39;MONTH(Profile.DOB)&#39; =&gt; date(&#39;m&#39;), &#39;DAY(Profile.DOB) &gt;= &#39;=&gt; date(&#39;d&#39;), )</p>\r\n', 0, 1, 0, '2013-12-21 23:25:13', '2013-12-21 23:25:13'),
(5, 1, 5, '<p>Set a different datasource in AppModel::beforeSave() and set it back to another one in afterSave().</p>\r\n', 0, 1, 0, '2013-12-21 23:28:38', '2013-12-21 23:28:38'),
(6, 1, 6, '<p>Whether queries are being logged depends on the <a href="http://api.cakephp.org/2.4/class-DboSource.html#%24fullDebug"><strong><code>DboSource::$fullDebug</code></strong></a> property, it&#39;s being set in the <code>DboSource</code> constructur, and by default it&#39;s <code>true</code> in case <code>debug</code> is <code>&gt; 1</code>.</p>\r\n\r\n<p>So all you have to do is overwrite the value of this property with <code>true</code>, this will ensure that as of this point the queries are being logged regardless of the <code>debug</code> setting.</p>\r\n\r\n<pre>\r\n<code>App::uses(&#39;ConnectionManager&#39;, &#39;Model&#39;);\r\nConnectionManager::getDataSource(&#39;default&#39;)-&gt;fullDebug = true;</code></pre>\r\n', 1, 1, 0, '2013-12-21 23:35:36', '2013-12-21 23:35:36'),
(7, 1, 6, '<p>Create your own dbo file in the specified path:</p>\r\n\r\n<pre>\r\n<code>\\app\\models\\datasources\\dbo\\dbo_mysql_with_log.php</code></pre>\r\n\r\n<p>and the content of this file will be</p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\n\r\nclass DboMysqlBase extends DboSource {\r\n/**\r\n * Description property.\r\n *\r\n * @var string\r\n */\r\n    var $description = &quot;MySQL DBO Base Driver&quot;;\r\n/**\r\n * Start quote\r\n *\r\n * @var string\r\n */\r\n    var $startQuote = &quot;`&quot;;\r\n/**\r\n * End quote\r\n *\r\n * @var string\r\n */\r\n    var $endQuote = &quot;`&quot;;\r\n/**\r\n * use alias for update and delete. Set to true if version &gt;= 4.1\r\n *\r\n * @var boolean\r\n * @access protected\r\n */\r\n    var $_useAlias = true;\r\n/**\r\n * Index of basic SQL commands\r\n *\r\n * @var array\r\n * @access protected\r\n */\r\n    var $_commands = array(\r\n        &#39;begin&#39;    =&gt; &#39;START TRANSACTION&#39;,\r\n        &#39;commit&#39;   =&gt; &#39;COMMIT&#39;,\r\n        &#39;rollback&#39; =&gt; &#39;ROLLBACK&#39;\r\n    );\r\n/**\r\n * MySQL column definition\r\n *\r\n * @var array\r\n */\r\n    var $columns = array(\r\n        &#39;primary_key&#39; =&gt; array(&#39;name&#39; =&gt; &#39;NOT NULL AUTO_INCREMENT&#39;),\r\n        &#39;string&#39; =&gt; array(&#39;name&#39; =&gt; &#39;varchar&#39;, &#39;limit&#39; =&gt; &#39;255&#39;),\r\n        &#39;text&#39; =&gt; array(&#39;name&#39; =&gt; &#39;text&#39;),\r\n        &#39;integer&#39; =&gt; array(&#39;name&#39; =&gt; &#39;int&#39;, &#39;limit&#39; =&gt; &#39;11&#39;, &#39;formatter&#39; =&gt; &#39;intval&#39;),\r\n        &#39;float&#39; =&gt; array(&#39;name&#39; =&gt; &#39;float&#39;, &#39;formatter&#39; =&gt; &#39;floatval&#39;),\r\n        &#39;datetime&#39; =&gt; array(&#39;name&#39; =&gt; &#39;datetime&#39;, &#39;format&#39; =&gt; &#39;Y-m-d H:i:s&#39;, &#39;formatter&#39; =&gt; &#39;date&#39;),\r\n        &#39;timestamp&#39; =&gt; array(&#39;name&#39; =&gt; &#39;timestamp&#39;, &#39;format&#39; =&gt; &#39;Y-m-d H:i:s&#39;, &#39;formatter&#39; =&gt; &#39;date&#39;),\r\n        &#39;time&#39; =&gt; array(&#39;name&#39; =&gt; &#39;time&#39;, &#39;format&#39; =&gt; &#39;H:i:s&#39;, &#39;formatter&#39; =&gt; &#39;date&#39;),\r\n        &#39;date&#39; =&gt; array(&#39;name&#39; =&gt; &#39;date&#39;, &#39;format&#39; =&gt; &#39;Y-m-d&#39;, &#39;formatter&#39; =&gt; &#39;date&#39;),\r\n        &#39;binary&#39; =&gt; array(&#39;name&#39; =&gt; &#39;blob&#39;),\r\n        &#39;boolean&#39; =&gt; array(&#39;name&#39; =&gt; &#39;tinyint&#39;, &#39;limit&#39; =&gt; &#39;1&#39;)\r\n    );\r\n/**\r\n * Generates and executes an SQL UPDATE statement for given model, fields, and values.\r\n *\r\n * @param Model $model\r\n * @param array $fields\r\n * @param array $values\r\n * @param mixed $conditions\r\n * @return array\r\n */\r\n    function update(&amp;$model, $fields = array(), $values = null, $conditions = null) {\r\n        if (!$this-&gt;_useAlias) {\r\n            return parent::update($model, $fields, $values, $conditions);\r\n        }\r\n\r\n        if ($values == null) {\r\n            $combined = $fields;\r\n        } else {\r\n            $combined = array_combine($fields, $values);\r\n        }\r\n\r\n        $alias = $joins = false;\r\n        $fields = $this-&gt;_prepareUpdateFields($model, $combined, empty($conditions), !empty($conditions));\r\n        $fields = join(&#39;, &#39;, $fields);\r\n        $table = $this-&gt;fullTableName($model);\r\n\r\n        if (!empty($conditions)) {\r\n            $alias = $this-&gt;name($model-&gt;alias);\r\n            if ($model-&gt;name == $model-&gt;alias) {\r\n                $joins = implode(&#39; &#39;, $this-&gt;_getJoins($model));\r\n            }\r\n        }\r\n        $conditions = $this-&gt;conditions($this-&gt;defaultConditions($model, $conditions, $alias), true, true, $model);\r\n\r\n        if ($conditions === false) {\r\n            return false;\r\n        }\r\n\r\n        if (!$this-&gt;execute($this-&gt;renderStatement(&#39;update&#39;, compact(&#39;table&#39;, &#39;alias&#39;, &#39;joins&#39;, &#39;fields&#39;, &#39;conditions&#39;)))) {\r\n            $model-&gt;onError();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n/**\r\n * Generates and executes an SQL DELETE statement for given id/conditions on given model.\r\n *\r\n * @param Model $model\r\n * @param mixed $conditions\r\n * @return boolean Success\r\n */\r\n    function delete(&amp;$model, $conditions = null) {\r\n        if (!$this-&gt;_useAlias) {\r\n            return parent::delete($model, $conditions);\r\n        }\r\n        $alias = $this-&gt;name($model-&gt;alias);\r\n        $table = $this-&gt;fullTableName($model);\r\n        $joins = implode(&#39; &#39;, $this-&gt;_getJoins($model));\r\n\r\n        if (empty($conditions)) {\r\n            $alias = $joins = false;\r\n        }\r\n        $conditions = $this-&gt;conditions($this-&gt;defaultConditions($model, $conditions, $alias), true, true, $model);\r\n\r\n        if ($conditions === false) {\r\n            return false;\r\n        }\r\n\r\n        if ($this-&gt;execute($this-&gt;renderStatement(&#39;delete&#39;, compact(&#39;alias&#39;, &#39;table&#39;, &#39;joins&#39;, &#39;conditions&#39;))) === false) {\r\n            $model-&gt;onError();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n/**\r\n * Sets the database encoding\r\n *\r\n * @param string $enc Database encoding\r\n */\r\n    function setEncoding($enc) {\r\n        return $this-&gt;_execute(&#39;SET NAMES &#39; . $enc) != false;\r\n    }\r\n/**\r\n * Returns an array of the indexes in given datasource name.\r\n *\r\n * @param string $model Name of model to inspect\r\n * @return array Fields in table. Keys are column and unique\r\n */\r\n    function index($model) {\r\n        $index = array();\r\n        $table = $this-&gt;fullTableName($model);\r\n        if ($table) {\r\n            $indexes = $this-&gt;query(&#39;SHOW INDEX FROM &#39; . $table);\r\n            if (isset($indexes[0][&#39;STATISTICS&#39;])) {\r\n                $keys = Set::extract($indexes, &#39;{n}.STATISTICS&#39;);\r\n            } else {\r\n                $keys = Set::extract($indexes, &#39;{n}.0&#39;);\r\n            }\r\n            foreach ($keys as $i =&gt; $key) {\r\n                if (!isset($index[$key[&#39;Key_name&#39;]])) {\r\n                    $col = array();\r\n                    $index[$key[&#39;Key_name&#39;]][&#39;column&#39;] = $key[&#39;Column_name&#39;];\r\n                    $index[$key[&#39;Key_name&#39;]][&#39;unique&#39;] = intval($key[&#39;Non_unique&#39;] == 0);\r\n                } else {\r\n                    if (!is_array($index[$key[&#39;Key_name&#39;]][&#39;column&#39;])) {\r\n                        $col[] = $index[$key[&#39;Key_name&#39;]][&#39;column&#39;];\r\n                    }\r\n                    $col[] = $key[&#39;Column_name&#39;];\r\n                    $index[$key[&#39;Key_name&#39;]][&#39;column&#39;] = $col;\r\n                }\r\n            }\r\n        }\r\n        return $index;\r\n    }\r\n/**\r\n * Generate a MySQL Alter Table syntax for the given Schema comparison\r\n *\r\n * @param array $compare Result of a CakeSchema::compare()\r\n * @return array Array of alter statements to make.\r\n */\r\n    function alterSchema($compare, $table = null) {\r\n        if (!is_array($compare)) {\r\n            return false;\r\n        }\r\n        $out = &#39;&#39;;\r\n        $colList = array();\r\n        foreach ($compare as $curTable =&gt; $types) {\r\n            $indexes = array();\r\n            if (!$table || $table == $curTable) {\r\n                $out .= &#39;ALTER TABLE &#39; . $this-&gt;fullTableName($curTable) . &quot; \\n&quot;;\r\n                foreach ($types as $type =&gt; $column) {\r\n                    if (isset($column[&#39;indexes&#39;])) {\r\n                        $indexes[$type] = $column[&#39;indexes&#39;];\r\n                        unset($column[&#39;indexes&#39;]);\r\n                    }\r\n                    switch ($type) {\r\n                        case &#39;add&#39;:\r\n                            foreach ($column as $field =&gt; $col) {\r\n                                $col[&#39;name&#39;] = $field;\r\n                                $alter = &#39;ADD &#39;.$this-&gt;buildColumn($col);\r\n                                if (isset($col[&#39;after&#39;])) {\r\n                                    $alter .= &#39; AFTER &#39;. $this-&gt;name($col[&#39;after&#39;]);\r\n                                }\r\n                                $colList[] = $alter;\r\n                            }\r\n                        break;\r\n                        case &#39;drop&#39;:\r\n                            foreach ($column as $field =&gt; $col) {\r\n                                $col[&#39;name&#39;] = $field;\r\n                                $colList[] = &#39;DROP &#39;.$this-&gt;name($field);\r\n                            }\r\n                        break;\r\n                        case &#39;change&#39;:\r\n                            foreach ($column as $field =&gt; $col) {\r\n                                if (!isset($col[&#39;name&#39;])) {\r\n                                    $col[&#39;name&#39;] = $field;\r\n                                }\r\n                                $colList[] = &#39;CHANGE &#39;. $this-&gt;name($field).&#39; &#39;.$this-&gt;buildColumn($col);\r\n                            }\r\n                        break;\r\n                    }\r\n                }\r\n                $colList = array_merge($colList, $this-&gt;_alterIndexes($curTable, $indexes));\r\n                $out .= &quot;\\t&quot; . join(&quot;,\\n\\t&quot;, $colList) . &quot;;\\n\\n&quot;;\r\n            }\r\n        }\r\n        return $out;\r\n    }\r\n/**\r\n * Generate a MySQL &quot;drop table&quot; statement for the given Schema object\r\n *\r\n * @param object $schema An instance of a subclass of CakeSchema\r\n * @param string $table Optional.  If specified only the table name given will be generated.\r\n *                      Otherwise, all tables defined in the schema are generated.\r\n * @return string\r\n */\r\n    function dropSchema($schema, $table = null) {\r\n        if (!is_a($schema, &#39;CakeSchema&#39;)) {\r\n            trigger_error(__(&#39;Invalid schema object&#39;, true), E_USER_WARNING);\r\n            return null;\r\n        }\r\n        $out = &#39;&#39;;\r\n        foreach ($schema-&gt;tables as $curTable =&gt; $columns) {\r\n            if (!$table || $table == $curTable) {\r\n                $out .= &#39;DROP TABLE IF EXISTS &#39; . $this-&gt;fullTableName($curTable) . &quot;;\\n&quot;;\r\n            }\r\n        }\r\n        return $out;\r\n    }\r\n/**\r\n * Generate MySQL index alteration statements for a table.\r\n *\r\n * @param string $table Table to alter indexes for\r\n * @param array $new Indexes to add and drop\r\n * @return array Index alteration statements\r\n */\r\n    function _alterIndexes($table, $indexes) {\r\n        $alter = array();\r\n        if (isset($indexes[&#39;drop&#39;])) {\r\n            foreach($indexes[&#39;drop&#39;] as $name =&gt; $value) {\r\n                $out = &#39;DROP &#39;;\r\n                if ($name == &#39;PRIMARY&#39;) {\r\n                    $out .= &#39;PRIMARY KEY&#39;;\r\n                } else {\r\n                    $out .= &#39;KEY &#39; . $name;\r\n                }\r\n                $alter[] = $out;\r\n            }\r\n        }\r\n        if (isset($indexes[&#39;add&#39;])) {\r\n            foreach ($indexes[&#39;add&#39;] as $name =&gt; $value) {\r\n                $out = &#39;ADD &#39;;\r\n                if ($name == &#39;PRIMARY&#39;) {\r\n                    $out .= &#39;PRIMARY &#39;;\r\n                    $name = null;\r\n                } else {\r\n                    if (!empty($value[&#39;unique&#39;])) {\r\n                        $out .= &#39;UNIQUE &#39;;\r\n                    }\r\n                }\r\n                if (is_array($value[&#39;column&#39;])) {\r\n                    $out .= &#39;KEY &#39;. $name .&#39; (&#39; . join(&#39;, &#39;, array_map(array(&amp;$this, &#39;name&#39;), $value[&#39;column&#39;])) . &#39;)&#39;;\r\n                } else {\r\n                    $out .= &#39;KEY &#39;. $name .&#39; (&#39; . $this-&gt;name($value[&#39;column&#39;]) . &#39;)&#39;;\r\n                }\r\n                $alter[] = $out;\r\n            }\r\n        }\r\n        return $alter;\r\n    }\r\n/**\r\n * Inserts multiple values into a table\r\n *\r\n * @param string $table\r\n * @param string $fields\r\n * @param array $values\r\n */\r\n    function insertMulti($table, $fields, $values) {\r\n        $table = $this-&gt;fullTableName($table);\r\n        if (is_array($fields)) {\r\n            $fields = join(&#39;, &#39;, array_map(array(&amp;$this, &#39;name&#39;), $fields));\r\n        }\r\n        $values = implode(&#39;, &#39;, $values);\r\n        $this-&gt;query(&quot;INSERT INTO {$table} ({$fields}) VALUES {$values}&quot;);\r\n    }\r\n}\r\nclass DboMysql extends DboMysqlBase {\r\n/**\r\n * Enter description here...\r\n *\r\n * @var unknown_type\r\n */\r\n    var $description = &quot;MySQL DBO Driver&quot;;\r\n/**\r\n * Base configuration settings for MySQL driver\r\n *\r\n * @var array\r\n */\r\n    var $_baseConfig = array(\r\n        &#39;persistent&#39; =&gt; true,\r\n        &#39;host&#39; =&gt; &#39;localhost&#39;,\r\n        &#39;login&#39; =&gt; &#39;root&#39;,\r\n        &#39;password&#39; =&gt; &#39;&#39;,\r\n        &#39;database&#39; =&gt; &#39;cake&#39;,\r\n        &#39;port&#39; =&gt; &#39;3306&#39;,\r\n        &#39;connect&#39; =&gt; &#39;mysql_pconnect&#39;\r\n    );\r\n/**\r\n * Connects to the database using options in the given configuration array.\r\n *\r\n * @return boolean True if the database could be connected, else false\r\n */\r\n    function connect() {\r\n        $config = $this-&gt;config;\r\n        $connect = $config[&#39;connect&#39;];\r\n        $this-&gt;connected = false;\r\n\r\n        if (!$config[&#39;persistent&#39;]) {\r\n            $this-&gt;connection = mysql_connect($config[&#39;host&#39;] . &#39;:&#39; . $config[&#39;port&#39;], $config[&#39;login&#39;], $config[&#39;password&#39;], true);\r\n        } else {\r\n            $this-&gt;connection = $connect($config[&#39;host&#39;] . &#39;:&#39; . $config[&#39;port&#39;], $config[&#39;login&#39;], $config[&#39;password&#39;]);\r\n        }\r\n\r\n        if (mysql_select_db($config[&#39;database&#39;], $this-&gt;connection)) {\r\n            $this-&gt;connected = true;\r\n        }\r\n\r\n        if (isset($config[&#39;encoding&#39;]) &amp;&amp; !empty($config[&#39;encoding&#39;])) {\r\n            $this-&gt;setEncoding($config[&#39;encoding&#39;]);\r\n        }\r\n\r\n        $this-&gt;_useAlias = (bool)version_compare(mysql_get_server_info($this-&gt;connection), &quot;4.1&quot;, &quot;&gt;=&quot;);\r\n\r\n        return $this-&gt;connected;\r\n    }\r\n/**\r\n * Disconnects from database.\r\n *\r\n * @return boolean True if the database could be disconnected, else false\r\n */\r\n    function disconnect() {\r\n        if (isset($this-&gt;results) &amp;&amp; is_resource($this-&gt;results)) {\r\n            mysql_free_result($this-&gt;results);\r\n        }\r\n        $this-&gt;connected = !@mysql_close($this-&gt;connection);\r\n        return !$this-&gt;connected;\r\n    }\r\n/**\r\n * Executes given SQL statement.\r\n *\r\n * @param string $sql SQL statement\r\n * @return resource Result resource identifier\r\n * @access protected\r\n */\r\n    function _execute($sql) {\r\n        return mysql_query($sql, $this-&gt;connection);\r\n    }\r\n/**\r\n * Returns an array of sources (tables) in the database.\r\n *\r\n * @return array Array of tablenames in the database\r\n */\r\n    function listSources() {\r\n        $cache = parent::listSources();\r\n        if ($cache != null) {\r\n            return $cache;\r\n        }\r\n        $result = $this-&gt;_execute(&#39;SHOW TABLES FROM &#39; . $this-&gt;name($this-&gt;config[&#39;database&#39;]) . &#39;;&#39;);\r\n\r\n        if (!$result) {\r\n            return array();\r\n        } else {\r\n            $tables = array();\r\n\r\n            while ($line = mysql_fetch_array($result)) {\r\n                $tables[] = $line[0];\r\n            }\r\n            parent::listSources($tables);\r\n            return $tables;\r\n        }\r\n    }\r\n/**\r\n * Returns an array of the fields in given table name.\r\n *\r\n * @param string $tableName Name of database table to inspect\r\n * @return array Fields in table. Keys are name and type\r\n */\r\n    function describe(&amp;$model) {\r\n        $cache = parent::describe($model);\r\n        if ($cache != null) {\r\n            return $cache;\r\n        }\r\n        $fields = false;\r\n        $cols = $this-&gt;query(&#39;DESCRIBE &#39; . $this-&gt;fullTableName($model));\r\n\r\n        foreach ($cols as $column) {\r\n            $colKey = array_keys($column);\r\n            if (isset($column[$colKey[0]]) &amp;&amp; !isset($column[0])) {\r\n                $column[0] = $column[$colKey[0]];\r\n            }\r\n            if (isset($column[0])) {\r\n                $fields[$column[0][&#39;Field&#39;]] = array(\r\n                    &#39;type&#39;      =&gt; $this-&gt;column($column[0][&#39;Type&#39;]),\r\n                    &#39;null&#39;      =&gt; ($column[0][&#39;Null&#39;] == &#39;YES&#39; ? true : false),\r\n                    &#39;default&#39;   =&gt; $column[0][&#39;Default&#39;],\r\n                    &#39;length&#39;    =&gt; $this-&gt;length($column[0][&#39;Type&#39;]),\r\n                );\r\n                if (!empty($column[0][&#39;Key&#39;]) &amp;&amp; isset($this-&gt;index[$column[0][&#39;Key&#39;]])) {\r\n                    $fields[$column[0][&#39;Field&#39;]][&#39;key&#39;] = $this-&gt;index[$column[0][&#39;Key&#39;]];\r\n                }\r\n            }\r\n        }\r\n        $this-&gt;__cacheDescription($this-&gt;fullTableName($model, false), $fields);\r\n        return $fields;\r\n    }\r\n/**\r\n * Returns a quoted and escaped string of $data for use in an SQL statement.\r\n *\r\n * @param string $data String to be prepared for use in an SQL statement\r\n * @param string $column The column into which this data will be inserted\r\n * @param boolean $safe Whether or not numeric data should be handled automagically if no column data is provided\r\n * @return string Quoted and escaped data\r\n */\r\n    function value($data, $column = null, $safe = false) {\r\n        $parent = parent::value($data, $column, $safe);\r\n\r\n        if ($parent != null) {\r\n            return $parent;\r\n        }\r\n        if ($data === null || (is_array($data) &amp;&amp; empty($data))) {\r\n            return &#39;NULL&#39;;\r\n        }\r\n        if ($data === &#39;&#39; &amp;&amp; $column !== &#39;integer&#39; &amp;&amp; $column !== &#39;float&#39; &amp;&amp; $column !== &#39;boolean&#39;) {\r\n            return  &quot;&#39;&#39;&quot;;\r\n        }\r\n        if (empty($column)) {\r\n            $column = $this-&gt;introspectType($data);\r\n        }\r\n\r\n        switch ($column) {\r\n            case &#39;boolean&#39;:\r\n                return $this-&gt;boolean((bool)$data);\r\n            break;\r\n            case &#39;integer&#39;:\r\n            case &#39;float&#39;:\r\n                if ($data === &#39;&#39;) {\r\n                    return &#39;NULL&#39;;\r\n                }\r\n                if ((is_int($data) || is_float($data) || $data === &#39;0&#39;) || (\r\n                    is_numeric($data) &amp;&amp; strpos($data, &#39;,&#39;) === false &amp;&amp;\r\n                    $data[0] != &#39;0&#39; &amp;&amp; strpos($data, &#39;e&#39;) === false)) {\r\n                        return $data;\r\n                    }\r\n            default:\r\n                $data = &quot;&#39;&quot; . mysql_real_escape_string($data, $this-&gt;connection) . &quot;&#39;&quot;;\r\n            break;\r\n        }\r\n        return $data;\r\n    }\r\n/**\r\n * Returns a formatted error message from previous database operation.\r\n *\r\n * @return string Error message with error number\r\n */\r\n    function lastError() {\r\n        if (mysql_errno($this-&gt;connection)) {\r\n            return mysql_errno($this-&gt;connection).&#39;: &#39;.mysql_error($this-&gt;connection);\r\n        }\r\n        return null;\r\n    }\r\n/**\r\n * Returns number of affected rows in previous database operation. If no previous operation exists,\r\n * this returns false.\r\n *\r\n * @return integer Number of affected rows\r\n */\r\n    function lastAffected() {\r\n        if ($this-&gt;_result) {\r\n            return mysql_affected_rows($this-&gt;connection);\r\n        }\r\n        return null;\r\n    }\r\n/**\r\n * Returns number of rows in previous resultset. If no previous resultset exists,\r\n * this returns false.\r\n *\r\n * @return integer Number of rows in resultset\r\n */\r\n    function lastNumRows() {\r\n        if ($this-&gt;hasResult()) {\r\n            return mysql_num_rows($this-&gt;_result);\r\n        }\r\n        return null;\r\n    }\r\n/**\r\n * Returns the ID generated from the previous INSERT operation.\r\n *\r\n * @param unknown_type $source\r\n * @return in\r\n */\r\n    function lastInsertId($source = null) {\r\n        $id = $this-&gt;fetchRow(&#39;SELECT LAST_INSERT_ID() AS insertID&#39;, false);\r\n        if ($id !== false &amp;&amp; !empty($id) &amp;&amp; !empty($id[0]) &amp;&amp; isset($id[0][&#39;insertID&#39;])) {\r\n            return $id[0][&#39;insertID&#39;];\r\n        }\r\n\r\n        return null;\r\n    }\r\n/**\r\n * Converts database-layer column types to basic types\r\n *\r\n * @param string $real Real database-layer column type (i.e. &quot;varchar(255)&quot;)\r\n * @return string Abstract column type (i.e. &quot;string&quot;)\r\n */\r\n    function column($real) {\r\n        if (is_array($real)) {\r\n            $col = $real[&#39;name&#39;];\r\n            if (isset($real[&#39;limit&#39;])) {\r\n                $col .= &#39;(&#39;.$real[&#39;limit&#39;].&#39;)&#39;;\r\n            }\r\n            return $col;\r\n        }\r\n\r\n        $col = str_replace(&#39;)&#39;, &#39;&#39;, $real);\r\n        $limit = $this-&gt;length($real);\r\n        if (strpos($col, &#39;(&#39;) !== false) {\r\n            list($col, $vals) = explode(&#39;(&#39;, $col);\r\n        }\r\n\r\n        if (in_array($col, array(&#39;date&#39;, &#39;time&#39;, &#39;datetime&#39;, &#39;timestamp&#39;))) {\r\n            return $col;\r\n        }\r\n        if (($col == &#39;tinyint&#39; &amp;&amp; $limit == 1) || $col == &#39;boolean&#39;) {\r\n            return &#39;boolean&#39;;\r\n        }\r\n        if (strpos($col, &#39;int&#39;) !== false) {\r\n            return &#39;integer&#39;;\r\n        }\r\n        if (strpos($col, &#39;char&#39;) !== false || $col == &#39;tinytext&#39;) {\r\n            return &#39;string&#39;;\r\n        }\r\n        if (strpos($col, &#39;text&#39;) !== false) {\r\n            return &#39;text&#39;;\r\n        }\r\n        if (strpos($col, &#39;blob&#39;) !== false || $col == &#39;binary&#39;) {\r\n            return &#39;binary&#39;;\r\n        }\r\n        if (strpos($col, &#39;float&#39;) !== false || strpos($col, &#39;double&#39;) !== false || strpos($col, &#39;decimal&#39;) !== false) {\r\n            return &#39;float&#39;;\r\n        }\r\n        if (strpos($col, &#39;enum&#39;) !== false) {\r\n            return &quot;enum($vals)&quot;;\r\n        }\r\n        return &#39;text&#39;;\r\n    }\r\n/**\r\n * Enter description here...\r\n *\r\n * @param unknown_type $results\r\n */\r\n    function resultSet(&amp;$results) {\r\n        if (isset($this-&gt;results) &amp;&amp; is_resource($this-&gt;results) &amp;&amp; $this-&gt;results != $results) {\r\n            mysql_free_result($this-&gt;results);\r\n        }\r\n        $this-&gt;results =&amp; $results;\r\n        $this-&gt;map = array();\r\n        $numFields = mysql_num_fields($results);\r\n        $index = 0;\r\n        $j = 0;\r\n\r\n        while ($j &lt; $numFields) {\r\n\r\n            $column = mysql_fetch_field($results,$j);\r\n            if (!empty($column-&gt;table)) {\r\n                $this-&gt;map[$index++] = array($column-&gt;table, $column-&gt;name);\r\n            } else {\r\n                $this-&gt;map[$index++] = array(0, $column-&gt;name);\r\n            }\r\n            $j++;\r\n        }\r\n    }\r\n/**\r\n * Fetches the next row from the current result set\r\n *\r\n * @return unknown\r\n */\r\n    function fetchResult() {\r\n        if ($row = mysql_fetch_row($this-&gt;results)) {\r\n            $resultRow = array();\r\n            $i = 0;\r\n            foreach ($row as $index =&gt; $field) {\r\n                list($table, $column) = $this-&gt;map[$index];\r\n                $resultRow[$table][$column] = $row[$index];\r\n                $i++;\r\n            }\r\n            return $resultRow;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n/**\r\n * Gets the database encoding\r\n *\r\n * @return string The database encoding\r\n */\r\n    function getEncoding() {\r\n        return mysql_client_encoding($this-&gt;connection);\r\n    }\r\n}\r\nclass DboMysqlWithLog extends DboMysql {\r\nfunction _execute($sql) {  \r\n        //exclude these types of queries from being logged, change if required\r\n        if(!preg_match(&#39;/^SHOW|SELECT|DESCRIBE|cake_sessions.*/&#39;,$sql) &amp;&amp; !preg_match(&#39;/^SET.*/&#39;,$sql)){\r\n\r\n            //HH_DOCUMENT_ROOT should be defined in one of the core files pointing to the project root directory, if its not there define it\r\n            //do not commit changes, if its specific to local machine\r\n            //$filename = HH_DOCUMENT_ROOT.DS.&#39;sql.txt&#39;;\r\n            $filename = &#39;C:\\xampp\\htdocs\\your_project_dir\\app\\sql.txt&#39;;\r\n            $patfile = fopen($filename, &#39;a+&#39;);\r\n              $textdata = &quot;$sql\\n&quot;;\r\n              fwrite($patfile, $textdata);\r\n\r\n              fclose($patfile);\r\n        } \r\n\r\n        return parent::_execute($sql);\r\n  }\r\n}\r\n\r\n?&gt;</code></pre>\r\n\r\n<p>change sql log file path $filename = &#39;C:\\xampp\\htdocs\\your_project_dir\\app\\sql.txt&#39;;</p>\r\n\r\n<p>Step 2: Open <code>/app/config/database.php</code> and change <code>&#39;driver&#39; =&gt; &#39;dbo_mysql_with_log&#39;,</code></p>\r\n\r\n<p>This will record all your sql scripts in the below path</p>\r\n\r\n<pre>\r\n<code>C:\\xampp\\htdocs\\your_project_dir\\app\\sql.txt</code></pre>\r\n', 0, 1, 0, '2013-12-21 23:36:48', '2013-12-21 23:36:48'),
(8, 1, 7, '<p>Try this query it will give you latest date on the basis of day and month, after that you have to change year to current year using php date functions.</p>\r\n\r\n<pre>\r\n<code>   $date= $this-&gt;Profile-&gt;find(&#39;first&#39;,array(\r\n                  &#39;fields&#39;=&gt;array(&#39;date(Profile.DOB)&#39;),\r\n                  &#39;order&#39; =&gt; &#39;day(Profile.DOB), month(Profile.DOB) DESC&#39;\r\n\r\n              ));</code></pre>\r\n\r\n<p>Hope it will work!</p>\r\n', 0, 1, 0, '2013-12-21 23:38:46', '2013-12-21 23:38:46'),
(9, 1, 8, '<p>Instead of using this in the OAuthController:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;OAuth-&gt;authenticate = array(\r\n    &#39;Form&#39; =&gt; array(\r\n        &#39;passwordHasher&#39; =&gt; &#39;Blowfish&#39;,\r\n        &#39;fields&#39; =&gt; array(&#39;username&#39;=&gt;&#39;email&#39;, &#39;password&#39;=&gt;&#39;password&#39;),\r\n    )\r\n);</code></pre>\r\n\r\n<p>Change it to this (notice removal of the &quot;O&quot; so it calls the regular &quot;Auth&quot;):</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Auth-&gt;authenticate = array(\r\n    &#39;Form&#39; =&gt; array(\r\n        &#39;passwordHasher&#39; =&gt; &#39;Blowfish&#39;,\r\n        &#39;fields&#39; =&gt; array(&#39;username&#39;=&gt;&#39;email&#39;, &#39;password&#39;=&gt;&#39;password&#39;),\r\n    )\r\n);</code></pre>\r\n\r\n<p>Or, take it a step further, and set your <code>$this-&gt;OAuth-&gt;authenticate</code> array in your own AppController, then, in the OAuthController do this (instead of the above):</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Auth-&gt;authenticate = $this-&gt;OAuth-&gt;authenticate;</code></pre>\r\n', 1, 1, 0, '2013-12-21 23:42:21', '2013-12-21 23:42:21'),
(10, 1, 10, '<p>Your model class is not found, CakePHP creates an instance on the fly for that table but this is not more than the basic Model class. When the code is then called it tries to call that method on an instance that is not your Question model in your app. You&#39;ll have to figure out what that happens.</p>\r\n', 0, 1, 0, '2013-12-22 13:24:34', '2013-12-22 13:24:34'),
(11, 1, 11, '<p>It really depends on the &quot;other&quot; rule that you&#39;re using.</p>\r\n\r\n<p>You can see exactly what each rule is ACTUALLY checking for in the CakePHP Validation utility:</p>\r\n\r\n<p><a href="https://github.com/cakephp/cakephp/blob/44b7d013ae304a05699179bb4ea0077956c57e10/lib/Cake/Utility/Validation.php">https://github.com/cakephp/cakephp/blob/44b7d013ae304a05699179bb4ea0077956c57e10/lib/Cake/Utility/Validation.php</a></p>\r\n\r\n<p>For instance, in that file you can see the alphanumiric check:</p>\r\n\r\n<pre>\r\n<code>public static function alphaNumeric($check) {\r\n    if (is_array($check)) {\r\n        extract(self::_defaults($check));\r\n    }\r\n\r\n    if (empty($check) &amp;&amp; $check != &#39;0&#39;) {\r\n        return false;\r\n    }\r\n    return self::_check($check, &#39;/^[\\p{Ll}\\p{Lm}\\p{Lo}\\p{Lt}\\p{Lu}\\p{Nd}]+$/Du&#39;);\r\n}</code></pre>\r\n\r\n<p>In the case of alphanumeric, you can see that it has an empty check already, so you shouldn&#39;t also need the allowEmpty rule.</p>\r\n\r\n<p>Lastly, to your point, <strong>the only benefit I see in adding it as a separate rule is that you can give a better error message to the user.</strong></p>\r\n', 1, 1, 0, '2013-12-22 13:26:18', '2013-12-22 13:26:18'),
(12, 1, 11, '<p>Please read... <a href="http://book.cakephp.org/2.0/en/models/model-attributes.html">http://book.cakephp.org/2.0/en/models/model-attributes.html</a></p>\r\n\r\n<p>Model attributes allow you to set properties that can override the default model behavior and rules in your context is the business logic of your application.</p>\r\n\r\n<p>The answer of your question lies in the below link: <a href="http://book.cakephp.org/2.0/en/models/data-validation.html#allowempty">http://book.cakephp.org/2.0/en/models/data-validation.html#allowempty</a></p>\r\n\r\n<p>Actually you are absolutely correct, if you there is field in which you have to apply more than one validation, eventually one is nonEmpty in that case you can simply use allowEmpty=&gt;false. But if your datafield requires only one validation for non empty check in that case you should use nonEmpty for better understanding of your code!</p>\r\n\r\n<p>I guess I had made my point...thanks</p>\r\n', 0, 1, 0, '2013-12-22 13:28:33', '2013-12-22 13:28:33'),
(13, 1, 12, '<pre>\r\n<code>$this-&gt;Menu-&gt;getLastInsertId();</code></pre>\r\n\r\n<p>you can get the last insert ID by this</p>\r\n', 1, 1, 0, '2013-12-22 13:30:19', '2013-12-22 13:30:19'),
(14, 1, 13, '<p>public $circumstances = array();</p>\r\n\r\n<p>Because this is a empry array that why it&#39;s return empty</p>\r\n\r\n<pre>\r\n<code>public $circumstances = array(3,5);</code></pre>\r\n\r\n<p>Please use this and check</p>\r\n', 0, 1, 0, '2013-12-22 13:31:12', '2013-12-22 13:31:12'),
(15, 1, 13, '<p>push some values into array.. and after debug() or print it to exactly view the array values. try it .</p>\r\n', 0, 1, 0, '2013-12-22 13:31:28', '2013-12-22 13:31:28'),
(16, 1, 13, '<p>You need to rename your init() function to beforeFilter().</p>\r\n\r\n<p><a href="http://book.cakephp.org/2.0/en/controllers.html#Controller%3a%3abeforeFilter">BeforeFilter documentation</a></p>\r\n', 0, 1, 0, '2013-12-22 13:32:04', '2013-12-22 13:32:04'),
(17, 1, 14, '<p>Make sure your conditions array is declared like this:</p>\r\n\r\n<pre>\r\n<code>&#39;conditions&#39; =&gt; array(&#39;field &gt;=&#39; =&gt; $value) // when condition is &gt;=\r\n&#39;conditions&#39; =&gt; array(&#39;field &lt;=&#39; =&gt; $value) // when condition is &lt;=\r\n&#39;conditions&#39; =&gt; array(&#39;field&#39; =&gt; $value) // when condition is =</code></pre>\r\n\r\n<p>And if it is not working, maybe you should use <a href="http://stackoverflow.com/questions/15170852/how-to-create-custom-mysql-queries-in-cakephp">custom queries</a> instead of the find function.</p>\r\n', 0, 1, 0, '2013-12-22 13:33:59', '2013-12-22 13:33:59'),
(18, 1, 16, '<p>The projects you list can be divided into two categories:</p>\r\n\r\n<ul>\r\n	<li><strong>Frameworks</strong>: Code Ignitor, CakePHP , Zend, Ruby on rails</li>\r\n	<li><strong>CMS</strong>: Wordpress and Joomla</li>\r\n</ul>\r\n\r\n<p>I don&#39;t know why you list RoR because all other projects are php based while RoR is Ruby.</p>\r\n\r\n<p>Check the difference between a <a href="http://en.wikipedia.org/wiki/Web_application_framework">web application framework</a> and a <a href="http://en.wikipedia.org/wiki/Content_management_system">CMS</a>.</p>\r\n\r\n<p>Basic difference is that a framework is a base that can be used to build anything without having a large footprint while a CMS already is a production ready core system that can be extended. It depends on the use case what the better choice is for a specific project.</p>\r\n\r\n<p>The frameworks (You don&#39;t have to like my <em>opinion</em>)</p>\r\n\r\n<ul>\r\n	<li><strong>Code Igniter</strong> lost it&#39;s primary supporter, I would not use it for new projects anymore.</li>\r\n	<li><strong>Larvel4 &amp; Symfony2</strong> Nice frameworks if you like DI, IoC and to configure a ton of things</li>\r\n	<li><strong>CakePHP</strong> Convention over configuration says it all, different philosophy than most other frameworks but not less good.</li>\r\n	<li><strong>Zend</strong> can&#39;t say much about it because it&#39;s the one I&#39;ve played the less with: Don&#39;t like it</li>\r\n	<li><strong>Yii</strong> Don&#39;t like it, feels to basic and not well done. But thats my &quot;feeling&quot; and opinion I&#39;ve got from playing around with it.</li>\r\n</ul>\r\n\r\n<p>The CMS (You don&#39;t have to like my <em>opinion</em>)</p>\r\n\r\n<ul>\r\n	<li><strong>Wordpress</strong> fugly code, feels like stepping back in the stonage for php, seriously if you like to write clean code and good architecture stay far far away from it. I hate to work with it and luckely it don&#39;t have to but did three private sites with it and still hate it.</li>\r\n	<li><strong>Joomla</strong> last time I&#39;ve looked at the codebase my feelings about it are the same as about wordpess.</li>\r\n</ul>\r\n\r\n<p>Honestly I don&#39;t know a single well done and modern php open source CMS. <strong>Typo3</strong> based on the <strong>Flow3</strong> framework might be a good one but it&#39;s pretty much mostly used in germany and my impression it that it is over-engineered. If somebody knows a well done and modern CMS system I would appreciate if you name it.</p>\r\n\r\n<p><strong>If you want to make <em>good</em> money</strong> with one of the frameworks or CMS I would say you can pick them all but should put a good amount of effort in becoming an expert in one or two of them. <strong>If you like to work with nice code</strong> I would stay away from the CMS and pick a framework.</p>\r\n', 0, 1, 0, '2013-12-22 13:37:25', '2013-12-22 13:37:25'),
(19, 1, 16, '<p>All frameworks are a tool set, which will help you to do your work quick and easy by providing some helpful functions and classes, underneath is always good old plain php.</p>\r\n\r\n<p>My advice is always: it doesn&#39;t matter what framework you choose, just use one and stick with it.</p>\r\n\r\n<p>Most important criteria to choose framework is to have a big and active community around it, which could answer your questions fast and adequate.</p>\r\n\r\n<p>Although I am big fan of CakePHP, in the link below you will find basic comparison between most popular frameworks and as far I can see Yii comply with all criteria (I haven&#39;t even try it).</p>\r\n\r\n<p><a href="http://www.phpframeworks.com/">http://www.phpframeworks.com/</a></p>\r\n', 0, 1, 0, '2013-12-22 13:37:46', '2013-12-22 13:37:46'),
(20, 1, 17, '<p>You need to send the data to the view from the controller at the end of the index() function.</p>\r\n\r\n<p>You can do it like this:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;set(&#39;userSpecific&#39;, $userSpecific);</code></pre>\r\n\r\n<p>or like this (my preferred way)</p>\r\n\r\n<pre>\r\n<code>$this-&gt;set(compact(&#39;userSpecific&#39;);</code></pre>\r\n\r\n<p>Once you&#39;ve done this, you can then modify your view to show the user specific fields as shown:</p>\r\n\r\n<pre>\r\n<code>&lt;?php foreach ($userSpecific as $menu): ?&gt;\r\n\r\n    &lt;?php echo $menu[&#39;Menu&#39;][&#39;id&#39;]; ?&gt;\r\n    &lt;?php echo $menu[&#39;Menu&#39;][&#39;user_id&#39;]; ?&gt;\r\n\r\n&lt;?php endforeach; ?&gt;</code></pre>\r\n', 0, 1, 0, '2013-12-22 13:38:41', '2013-12-22 13:38:41'),
(21, 1, 18, '<p>You can disable the debug feature by turning debug to 0 in the app\\Config\\core.php file</p>\r\n\r\n<pre>\r\n<code>Configure::write(&#39;debug&#39;, 0);</code></pre>\r\n\r\n<p>If still you get the same issue so please check your live server Php version and also check the same on development server, I think there is php version compatibility issue so please see link <a href="http://bakery.cakephp.org/articles/markstory/2013/07/05/cakephp_2_3_7_2_4_0-beta_released">http://bakery.cakephp.org/articles/markstory/2013/07/05/cakephp_2_3_7_2_4_0-beta_released</a></p>\r\n\r\n<p>Hope it should work for you.</p>\r\n', 0, 1, 0, '2013-12-22 13:39:26', '2013-12-22 13:39:26'),
(22, 1, 18, '<p>Open config/core.php</p>\r\n\r\n<ul>\r\n	<li>0: No error messages, errors, or warnings shown. Flash messages redirect. *</li>\r\n	<li>Development Mode:</li>\r\n	<li>1: Errors and warnings shown, model caches refreshed, flash messages halted.</li>\r\n	<li>2: As in 1, but also with full debug messages and SQL output.</li>\r\n</ul>\r\n\r\n<p>seach this</p>\r\n\r\n<pre>\r\n<code>Configure::write(&#39;debug&#39;, 0);</code></pre>\r\n', 0, 1, 0, '2013-12-22 13:43:02', '2013-12-22 13:43:02'),
(23, 1, 22, '<p>You could refactor it like so:</p>\r\n\r\n<pre>\r\n<code>var json = &#39;[{&quot;Note&quot;:{&quot;id&quot;:&quot;1&quot;,&quot;clas&quot;:&quot;test&quot;,&quot;obj_id&quot;:null,&quot;note&quot;:&quot;test&quot;}},{&quot;Note&quot;:{&quot;id&quot;:&quot;2&quot;,&quot;clas&quot;:&quot;another&quot;,&quot;obj_id&quot;:null,&quot;note&quot;:&quot;another&quot;}}]&#39;;\r\n\r\nvar obj = JSON.parse(json);\r\nvar arr = [];\r\nfor (i = 0; i &lt; obj.length; i++)\r\n{\r\n    arr.push(obj[i].Note);\r\n}</code></pre>\r\n\r\n<p>Working example <a href="http://jsfiddle.net/remus/epd83/"><code>here</code></a></p>\r\n\r\n<p>(<strong>Note</strong> also that if your key value &#39;Note&#39; isn&#39;t always the same, this will change dramatically. It&#39;s likely that &#39;Note&#39; isn&#39;t going to be the same in each instance either; that would generate an improperly keyed object. Alternatively, if you always need the first object in the array, you could use <code>obj[i][0]</code> instead).</p>\r\n\r\n<p>(<strong>More note</strong> if you&#39;re using cakephp, this would be much easier done using <a href="http://book.cakephp.org/2.0/en/core-utility-libraries/hash.html"><code>Hash::</code></a>, but if you need to do it client side, this is the solution).</p>\r\n', 1, 1, 0, '2013-12-22 13:47:34', '2013-12-22 13:47:34'),
(24, 1, 23, '<p>I think you would just need to change this line</p>\r\n\r\n<pre>\r\n<code>&lt;td&gt;&lt;?php echo $part[&#39;MstrPart&#39;][&#39;mstr_source_id&#39;][&#39;name&#39;]; ?&gt;&lt;/td&gt;</code></pre>\r\n\r\n<p>To this</p>\r\n\r\n<pre>\r\n<code>&lt;td&gt;&lt;?php echo $part[&#39;MstrSource&#39;][&#39;name&#39;]; ?&gt;&lt;/td&gt;</code></pre>\r\n\r\n<p><strong>EDIT:</strong> I&#39;ll explain a bit. In cakephp, all joined models (either joined via the &#39;join&#39; tag within the <code>Model-&gt;find</code>, a containable behavior, or via the default bindings established in the model file) are included in the results array via a key of their model name. *it&#39;s their model name, not the table name. See <a href="http://book.cakephp.org/2.0/en/getting-started/cakephp-conventions.html">cakephp naming conventions</a> for more.</p>\r\n\r\n<p>Since you want the column from <code>mstr_source</code> and not <code>mstr_part</code>, you want to reference the data inside the <code>MstrSource</code> dictionary and not <code>MstrPart</code></p>\r\n', 1, 1, 0, '2013-12-22 13:48:44', '2013-12-22 13:48:44'),
(25, 1, 24, '<p>if you are following cake namning convention it should be</p>\r\n\r\n<pre>\r\n<code>$result[&#39;User&#39;][&#39;username&#39;],</code></pre>\r\n\r\n<p>(Model name must be singular and not plural)</p>\r\n\r\n<p><strong>edited after seeing Scuplure model file:</strong></p>\r\n\r\n<p>Because User is related to Artist Model (and not directly to Sculpture Model) you have to set &#39;recursive&#39; parameter in your find call:</p>\r\n\r\n<pre>\r\n<code>$results = $this-&gt;Sculpture-&gt;find(\r\n    &#39;all&#39;, \r\n    array(\r\n        &#39;conditions&#39; =&gt; array(&#39;event_id&#39; =&gt; $event_id), \r\n        &#39;order&#39; =&gt; &#39;artist_id&#39;,\r\n        &#39;recursive&#39; =&gt; 2\r\n    )\r\n);</code></pre>\r\n', 1, 1, 0, '2013-12-22 13:51:39', '2013-12-22 13:51:39'),
(26, 1, 25, '<p>Have You tried it .. refer the book , ajax pagination example also there, and in paginator add condition option ... ie. `</p>\r\n\r\n<pre>\r\n<code>$this-&gt;paginate=array((`array(&#39;condition&#39;=&gt;model.field )like=&gt;%key%),limit=&gt;10) ; </code></pre>\r\n', 0, 1, 0, '2013-12-22 13:52:18', '2013-12-22 13:52:18'),
(27, 1, 26, '<p>replace below</p>\r\n\r\n<pre>\r\n<code>`DISTINCT year(posts.Post_date)`</code></pre>\r\n\r\n<p>with below:-</p>\r\n\r\n<pre>\r\n<code>YEAR(DISTINCT posts.Post_date) as year</code></pre>\r\n', 0, 1, 0, '2013-12-22 13:53:03', '2013-12-22 13:53:03'),
(28, 1, 27, '<p>Try</p>\r\n\r\n<pre>\r\n<code>echo  $this-&gt;Html-&gt;script(&#39;jquery&#39;);</code></pre>\r\n\r\n<p>Hope it will work!</p>\r\n', 0, 1, 0, '2013-12-22 13:53:59', '2013-12-22 13:53:59'),
(29, 1, 27, '<p>Try it:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Html-&gt;script(array(&#39;jquery.js&#39;));\r\n$this-&gt;fetch(&#39;script&#39;);</code></pre>\r\n', 0, 1, 0, '2013-12-22 13:54:13', '2013-12-22 13:54:13'),
(30, 1, 27, '<p>Do you have app/webroot/js/jquery.js in place?</p>\r\n\r\n<pre>\r\n<code>echo  $this-&gt;Html-&gt;script(&#39;jquery&#39;);</code></pre>\r\n', 0, 1, 0, '2013-12-22 13:54:26', '2013-12-22 13:54:26'),
(31, 1, 27, '<p>You must include js file into the webroot/js folder to use the corresponding js file.</p>\r\n', 0, 1, 0, '2013-12-22 13:54:45', '2013-12-22 13:54:45'),
(32, 1, 28, '<p>Never use App::import. Always either use loadModel in controller or shell scope or the always working</p>\r\n\r\n<pre>\r\n<code>$Partner = ClassRegistry::init(&#39;Partner&#39;);</code></pre>\r\n', 1, 1, 0, '2013-12-22 13:56:53', '2013-12-22 13:56:53'),
(33, 1, 29, '<p>You need to include the below at the top of your <code>UsersController</code> class. This will include the <code>AppController</code> class. It is after this you can now extend the AppController or even make reference to it.</p>\r\n\r\n<pre>\r\n<code>App::uses(&#39;AppController&#39;, &#39;Controller&#39;);</code></pre>\r\n', 1, 1, 0, '2013-12-22 13:57:38', '2013-12-22 13:57:38'),
(34, 1, 30, '<blockquote>\r\n<p>I have no idea why standard set(&#39;_serialize, ...) method isn&#39;t working properly :(</p>\r\n</blockquote>\r\n\r\n<p>But I have: Did you add the RequestHandlerComponent in yor AppController?</p>\r\n\r\n<p>You don&#39;t have to call</p>\r\n\r\n<pre>\r\n<code>  $this-&gt;autoRender = false;\r\n  $this-&gt;layout = &#39;ajax&#39;;</code></pre>\r\n\r\n<p>This as well, the RequestHandler will take care of it.</p>\r\n', 0, 1, 0, '2013-12-22 13:58:33', '2013-12-22 13:58:33'),
(35, 1, 30, '<p>Check your version of CakePHP. I had this problem with version 2.4.2 and fixed it by upgrading to 2.4.3.</p>\r\n', 0, 1, 0, '2013-12-22 13:58:55', '2013-12-22 13:58:55'),
(36, 1, 31, '<p>1) Strict errors are not a big deal. IMO just turn off Strict Error Reporting.</p>\r\n\r\n<p>2) The errors you&#39;re seeing are because the two methods in the Behavior (<code>beforeValidate()</code> and <code>beforeSave()</code>) don&#39;t have the full options.</p>\r\n\r\n<p>Just make sure they have the correct options like below, and the strict errors will go away:</p>\r\n\r\n<pre>\r\n<code>public function beforeValidate(Model $model, $options = array()) {\r\n    //...\r\n\r\npublic function beforeSave(Model $model, $options = array()) {\r\n    //...</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:00:58', '2013-12-22 14:00:58'),
(37, 1, 32, '<ul>\r\n	<li>fetch() is used mainly in layout file to output a block of content.</li>\r\n	<li>extend() is used to extend view. which allows you to wrap one view in another.</li>\r\n	<li>element() is used to group an reusable piece of view.</li>\r\n</ul>\r\n', 1, 1, 0, '2013-12-22 14:01:59', '2013-12-22 14:01:59'),
(38, 1, 32, '<p>Please read <a href="http://book.cakephp.org/2.0/en/views.html">http://book.cakephp.org/2.0/en/views.html</a></p>\r\n\r\n<p>Hope it will help you!</p>\r\n', 0, 1, 0, '2013-12-22 14:02:16', '2013-12-22 14:02:16'),
(39, 1, 33, '<p>You could use a multidimensional array. One dimension can be the ordinary shopping cart, the other can be the &#39;quick&#39; cart.</p>\r\n\r\n<p>Another solution that would solve your problem is to implement a button that goes next to each item that passes only that item&#39;s ID to the checkout screen, ignoring what&#39;s in your cart. Amazon does this with &quot;one-click&quot;.</p>\r\n', 0, 1, 0, '2013-12-22 14:03:17', '2013-12-22 14:03:17');
INSERT INTO `answers` (`id`, `user_id`, `question_id`, `answer`, `is_verified`, `is_active`, `rating`, `created`, `modified`) VALUES
(40, 1, 34, '<p>Its depends. but for your purpose for Firstname, Lastname, City, camelCase is good practice. specially if its in front user side. For admin panel you can leave as its entered. because you might need to fix this incorrect entry from admin panel.</p>\r\n\r\n<p>here is an example for admin panel table view <a href="http://codex.wordpress.org/File%3amanagelinks.png">http://codex.wordpress.org/File:managelinks.png</a></p>\r\n', 0, 1, 0, '2013-12-22 14:04:55', '2013-12-22 14:04:55'),
(41, 1, 35, '<p>Create one function inside Product model and write below code:</p>\r\n\r\n<pre>\r\n<code>$options = array(\r\n        &#39;conditions&#39; =&gt; array(&lsquo;ProductsLike.user_id&rsquo;=&gt;9),\r\n        &#39;joins&#39; =&gt; array(\r\n            array(\r\n                &#39;alias&#39; =&gt; &#39;ProductLike&#39;,  \r\n                &#39;table&#39; =&gt; &lsquo;products_likes&rsquo;,\r\n                &#39;type&#39; =&gt; &#39;LEFT&#39;,\r\n                &#39;conditions&#39; =&gt; array(\r\n                    &#39;ProductLike.product_id = Product.id&#39;,\r\n                ),\r\n            ),\r\n            array(\r\n                &#39;alias&#39; =&gt; &#39;Order&#39;,  \r\n                &#39;table&#39; =&gt; &lsquo;orders&#39;,\r\n                &#39;type&#39; =&gt; &#39;LEFT&#39;,\r\n                &#39;conditions&#39; =&gt; array(\r\n                    &#39;Order.product_id = Product.id&#39;,\r\n                ),\r\n            )\r\n        ),\r\n        &#39;fields&#39; =&gt; array(&ldquo;Product.*&rdquo;),\r\n        &#39;group&#39; =&gt; array(&#39;Product.id&#39;)\r\n    );\r\n\r\n $returnData = $this-&gt;find(&#39;all&#39;,$options);</code></pre>\r\n\r\n<p>This will give you desired result!</p>\r\n', 1, 1, 0, '2013-12-22 14:05:54', '2013-12-22 14:05:54'),
(42, 1, 36, '<p>When You editing record, You must set ID of this record.</p>\r\n\r\n<p>Add to form <code>$this-&gt;Form-&gt;input(&#39;id&#39;)</code> or set ID in controller before <code>save()</code> action</p>\r\n', 1, 1, 0, '2013-12-22 14:08:38', '2013-12-22 14:08:38'),
(43, 1, 37, '<p>use the following instead. Note the extra array argument passed to the function</p>\r\n\r\n<p><code>bare</code> indicates whether or not to include layout. setting it to <code>0</code> i.e <code>false</code> forces it to include layout. Including <code>return</code> sets <code>requested</code> to <code>1</code>. <code>requested</code> indicates whether request is from requestAction or not.</p>\r\n\r\n<p>Visit <a href="http://book.cakephp.org/2.0/en/controllers/request-response.html">http://book.cakephp.org/2.0/en/controllers/request-response.html</a> and <a href="http://book.cakephp.org/2.0/en/controllers.html">http://book.cakephp.org/2.0/en/controllers.html</a> for reference</p>\r\n\r\n<blockquote>\r\n<p>$this-&gt;requestAction(&#39;/controller/report&#39;, array(&#39;return&#39;, &#39;bare&#39; =&gt; 0));</p>\r\n</blockquote>\r\n', 1, 1, 0, '2013-12-22 14:09:27', '2013-12-22 14:09:27'),
(44, 1, 38, '<p>first of all it is pretty similar to the core PHP with Ajax pagination. In controller:</p>\r\n\r\n<pre>\r\n<code>var $components = array(&#39;RequestHandler&#39;); //load Requesthandler for ajax\r\nfunction view_data(){\r\n\r\n     $this-&gt;RequestHandler-&gt;isAjax(){  // checking for ajax request \r\n        // code goes here\r\n        $start = $_POST[&#39;start&#39;] ;\r\n        $limit = $_POST[&#39;limit&#39;] ;\r\n        // with conditions also . and the execute query\r\n        $table_data = $this-&gt;Model-&gt;query(&quot;SELECT * FROM books limit &quot; . $start. &quot;, &quot;. $limit) ; \r\n       // OR any method you want like $this-&gt;Model-&gt;find(&#39;list&#39;, &#39;any&#39;....)\r\n       $total_count = $this-&gt;Model-&gt;find(&#39;count&#39;, &quot;$your_query&quot;) ;\r\n       echo json_encode(array( $table_data, $total_count) ; // you can also loop the data ..\r\n    }\r\n}</code></pre>\r\n\r\n<p>Now in view receive the data and loop through it. Also look at <a href="http://beneverard.github.io/jqPagination/">Here</a> for pagination div styling.</p>\r\n', 1, 1, 0, '2013-12-22 14:10:18', '2013-12-22 14:10:18'),
(45, 1, 38, '<p>Find the simplest way .. using like option in paginator component of cakephp and set the value as the posted value from the form.. it works better.</p>\r\n', 0, 1, 0, '2013-12-22 14:10:33', '2013-12-22 14:10:33'),
(46, 1, 40, '<p>What you&#39;re looking for is the Model attribute <code>recursive</code>.</p>\r\n\r\n<p><a href="http://book.cakephp.org/2.0/en/models/model-attributes.html#recursive">http://book.cakephp.org/2.0/en/models/model-attributes.html#recursive</a></p>\r\n\r\n<p>Setting it to level <code>0</code> will pull one level of associations.</p>\r\n\r\n<p>Containable is for when you want to specify which models and is almost always recommended over using recursive, BUT - in your case pulling &quot;all&quot; top-level associated models would be done w/ recursive without the need for Containable at all.</p>\r\n\r\n<p>Recursive is, by default set to <code>1</code>, however I have heard in future versions of Cake, recursive will be going away (good riddance). Most people set <code>public $recursive = -1;</code> in their AppModel to default it to &quot;off&quot;.</p>\r\n', 1, 1, 0, '2013-12-22 14:14:03', '2013-12-22 14:14:03'),
(47, 1, 41, '<p>You don&#39;t have to do another query, just instead configure the authentication adapter to fetch the data for you:</p>\r\n\r\n<pre>\r\n<code>public $components = array(\r\n    &#39;Auth&#39; =&gt; array(\r\n        &#39;authenticate&#39; =&gt; array(\r\n            &#39;Form&#39; =&gt; array(\r\n                &#39;contain&#39; =&gt; array(\r\n                    // Whatever you want here\r\n                    &#39;Profile&#39;,\r\n                    &#39;Setting&#39;\r\n                )\r\n            )\r\n        )\r\n    )\r\n);</code></pre>\r\n\r\n<p>All your current logged in user data is then already available through:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Auth-&gt;user()</code></pre>\r\n\r\n<p>Even if you don&#39;t redirect and if you do it will be still there.</p>\r\n\r\n<p>You should use this way to access the user data over directly accessing the session because the user component abstracts it properly. See:</p>\r\n\r\n<ul>\r\n	<li><a href="http://api.cakephp.org/2.4/class-AuthComponent.html#_user">http://api.cakephp.org/2.4/class-AuthComponent.html#_user</a></li>\r\n	<li><a href="http://api.cakephp.org/2.4/source-class-AuthComponent.html#634-657">http://api.cakephp.org/2.4/source-class-AuthComponent.html#634-657</a></li>\r\n</ul>\r\n\r\n<p><strong>Why CakeSession::read() is not the best choice:</strong></p>\r\n\r\n<p>If your&#39;re not using a session based authentication system CakeSession::read(&quot;Auth.User&quot;); will break. It will also break if the Auth session key changes for some reason, unlikely but not impossible.</p>\r\n\r\n<p>Also calling the static CakeSession::read(&quot;Auth.User&quot;) method is not best practice here either. The session component can be extended and you can access the customized SessionComponent still through $this-&gt;Session using aliasing.</p>\r\n\r\n<p>Overall I would avoid adding statics and singletons into my methods - it makes it hard to test them or change them. I would always wrap them in a method. This way you can mock them in a test.</p>\r\n', 0, 1, 0, '2013-12-22 14:15:01', '2013-12-22 14:15:01'),
(48, 1, 41, '<p>I access current logged in user in my app this way:</p>\r\n\r\n<pre>\r\n<code>CakeSession::read(&quot;Auth.User&quot;);</code></pre>\r\n\r\n<p>It&#39;s in my AppController::beforeFilter()</p>\r\n', 0, 1, 0, '2013-12-22 14:15:14', '2013-12-22 14:15:14'),
(49, 1, 41, '<pre>\r\n<code>$this-&gt;Session-&gt;read(&#39;Auth.User&#39;)</code></pre>\r\n\r\n<p>This should be available in all those locations as well as views.</p>\r\n', 0, 1, 0, '2013-12-22 14:15:29', '2013-12-22 14:15:29'),
(50, 1, 42, '<p>Try to read the documentation first. Modules is the amount of records shown around the page you&#39;re on. <a href="http://book.cakephp.org/2.0/en/core-libraries/helpers/paginator.html#creating-page-number-links">The documentation</a> explains this pretty clearly:</p>\r\n\r\n<blockquote>\r\n<p>Uses a modulus to decide how many numbers to show on each side of the current page By default 8</p>\r\n</blockquote>\r\n\r\n<p>There is even an example for what you want:</p>\r\n\r\n<pre>\r\n<code>echo $this-&gt;Paginator-&gt;numbers(array(\r\n        &#39;first&#39; =&gt; 2,\r\n        &#39;last&#39; =&gt; 2,\r\n        &#39;modulus&#39; =&gt; 2\r\n    )\r\n);</code></pre>\r\n\r\n<p>Output:</p>\r\n\r\n<blockquote>\r\n<p>1 | 2...5 | 6 | 7...56480 | 56481</p>\r\n</blockquote>\r\n\r\n<p>Yea I&#39;ve got a ton of records in that table. ;)</p>\r\n', 0, 1, 0, '2013-12-22 14:16:09', '2013-12-22 14:16:09'),
(51, 1, 42, '<p>Are you overriding the &#39;first&#39; and &#39;last&#39; parameters?</p>\r\n\r\n<p>This code should give you what you&#39;re after:</p>\r\n\r\n<pre>\r\n<code>echo $this-&gt;Paginator-&gt;numbers(array(\r\n    &#39;separator&#39; =&gt; &#39; &#39;,\r\n    &#39;modulus&#39; =&gt; 4,\r\n    &#39;first&#39; =&gt; 1,\r\n    &#39;last&#39; =&gt; 1\r\n));</code></pre>\r\n\r\n<p>On my system it gives the following output:</p>\r\n\r\n<pre>\r\n<code>1...5 6 7 8 9...13</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:16:27', '2013-12-22 14:16:27'),
(52, 1, 43, '<p>Is this what you are looking for?</p>\r\n\r\n<pre>\r\n<code>select (case when discounted_price is not null and discounted_price &lt;&gt; 0\r\n             then discounted_price + extras_price\r\n             else base_price + extras_price\r\n        end) as total_price\r\nfrom t;</code></pre>\r\n\r\n<p>By the way, the first condition is redundant in SQL. You can write this as:</p>\r\n\r\n<pre>\r\n<code>select ((case when discounted_price &lt;&gt; 0 then discounted_price else base_price end) +  \r\n        extras_price) as total_price\r\nfrom t;</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:17:23', '2013-12-22 14:17:23'),
(53, 1, 45, '<p>This is documented at <a href="http://book.cakephp.org/2.0/en/core-libraries/global-constants-and-functions.html#FULL_BASE_URL">http://book.cakephp.org/2.0/en/core-libraries/global-constants-and-functions.html#FULL_BASE_URL</a>. Please check.</p>\r\n', 0, 1, 0, '2013-12-22 14:19:32', '2013-12-22 14:19:32'),
(54, 1, 46, '<p>Open app/Config/routes.php, and add following to the beginning of the file:</p>\r\n\r\n<pre>\r\n<code>Router::connect(&#39;/&#39;, array(&#39;controller&#39; =&gt; &#39;Poker&#39;, &#39;action&#39; =&gt; &#39;index&#39;));</code></pre>\r\n\r\n<p>By the way, according to CakePHP naming convention. You should have PokersController instead of PokerController.</p>\r\n', 0, 1, 0, '2013-12-22 14:22:48', '2013-12-22 14:22:48'),
(55, 1, 47, '<p>What you need is called <em>authorization</em>, and is the process of granting/denying actions usually built on top of an <em>authentication</em> step, which maps HTTP requests to logical users.</p>\r\n\r\n<p>The authorization scheme can be implemented in a number of ways, for example with simple role-based rules, where users are grouped exactly for the purpose of assigning rights, or with more complex ACL (access control lists). Both can be adopted at the same time for different parts of the system, depending on your needs.</p>\r\n\r\n<p>Whatever scheme you pick, you absolutely need to query it at the beginning of your controllers actions (if applicable, you may and up with a standardized authorization filter in your <code>AppController</code>), because the HTTP request doesn&#39;t need to come from a previously sent HTTP page, but could be a (possibly) malicious, hand-craften one. Also, you&#39;ll likely need to adjust the UI after the user rights. Maybe you&#39;ll better start with a bunch of <code>if</code> statements, and then after some days of work you&#39;ll be able to identify your needs and build your libraries/helpers/blocks/whatever to avoid code duplication and easing reading the templates.</p>\r\n', 0, 1, 0, '2013-12-22 14:23:33', '2013-12-22 14:23:33'),
(56, 1, 47, '<p>If you have predefined user permissions (like &#39;admin&#39;, &#39;moderator&#39;, &#39;editor&#39;, &#39;publisher&#39;...) you can just read the user role and current action in the controller function isAuthorized and set it to true or false.</p>\r\n\r\n<p>If you want custom permissions per user, you can store those values in the database, read them in the isAuthorized function and make your logic to determine if you should allow him or not.</p>\r\n\r\n<p>My solution to this was a separate table <code>user_permissions</code> that was something like this:</p>\r\n\r\n<pre>\r\n<code>user_id | action</code></pre>\r\n\r\n<p>where action would be `controller/action&#39; or &#39;view/block&#39; or whatever you want to save there.</p>\r\n\r\n<p>I would read all values for current user in the controller and if the current controller/action was found in the array, i&#39;d set isAuthorized to true. You can apply your logic to the blocks also.</p>\r\n', 0, 1, 0, '2013-12-22 14:23:47', '2013-12-22 14:23:47'),
(57, 1, 47, '<p>It sounds to me like you just want to render some parts of a view based on the permissions of the user. Well, in this case I think a helper is the right choice. The user should already have all the permissions he has loaded - except they&#39;re very fine grained and you got thousands of permissions.</p>\r\n\r\n<p>Check this <a href="https://github.com/burzum/cakephp-user-tools/blob/develop/View/Helper/AuthHelper.php">AuthHelper</a>, it allows you to check if the user is logged in, for a role or a set of roles in a field. Alternatively implement your own solution to match whatever your permission system is.</p>\r\n\r\n<p>Note that the helper relies on passing the user data to the view in a view variable. It can be also configured to read the data from the auth part of the session directly.</p>\r\n\r\n<p>Here is the example taken from it&#39;s <a href="https://github.com/burzum/cakephp-user-tools/blob/develop/Docs/Documentation/The-Auth-Helper.md">documentation</a>:</p>\r\n\r\n<pre>\r\n<code>if ($this-&gt;Auth-&gt;isLoggedIn()) {\r\n    echo __(&#39;Hello %s!&#39;, $this-&gt;Auth-&gt;user(&#39;username&#39;));\r\n}\r\n\r\nif ($this-&gt;Auth-&gt;isMe($record[&#39;Record&#39;][&#39;user_id&#39;]) {\r\n    // or your edit button here\r\n    echo &#39;&lt;h2&gt;&#39; . __(&#39;Your records&#39;) . &#39;&lt;/h2&gt;&#39;;\r\n}\r\n\r\nif ($this-&gt;Auth-&gt;hasRole(&#39;admin&#39;) {\r\n    echo $this-&gt;Html-&gt;link(__(&#39;delete&#39;), array(&#39;action&#39; =&gt; &#39;delete&#39;));\r\n}</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:24:03', '2013-12-22 14:24:03'),
(58, 1, 47, '<p>You can call function of controller from view using</p>\n\n<pre>\n<code>requestAction(string $url, array $options) </code></pre>\n\n<p>Or you can create your custom Helper which will do this for you!</p>\n', 0, 1, 0, '2013-12-22 14:24:18', '2013-12-22 14:24:18'),
(59, 1, 50, '<p>The common way to do this is to use <code>foreign_key</code> and <code>model</code> fields in your printouts table (more details throughout this page):</p>\r\n\r\n<p><a href="http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#associations-linking-models-together">http://book.cakephp.org/2.0/en/models/associations-linking-models-together.html#associations-linking-models-together</a></p>\r\n\r\n<p>&#39;foreign_key&#39; is the id of the &quot;other&quot; model, and &#39;model&#39; is the name of the other model.</p>\r\n\r\n<p>So your Printout belongsTo all 3 other models and in the associations, you specify the condition of &#39;Printout.model&#39; =&gt; &#39;Room&#39; (or whatever model).</p>\r\n', 1, 1, 0, '2013-12-22 14:27:29', '2013-12-22 14:27:29'),
(60, 1, 50, '<p>Please provide some more information of your table structure, how are your models connected (which one is parent, which one is child, and what you want to do exactly), so I can provide you a better answer.</p>\r\n\r\n<p>Anyway, you don&#39;t have to bind the models at first, you can do that within your controller logic like this:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;PrintOut-&gt;bindModel(array(\r\n    &#39;belongsTo&#39; =&gt; array(\r\n        &#39;Room&#39; =&gt; array(\r\n            &#39;className&#39; =&gt; &#39;Room&#39;,\r\n            &#39;foreignKey&#39; =&gt; &#39;room_id&#39;,\r\n        ),\r\n    ),\r\n));</code></pre>\r\n\r\n<p>Alternatively, if Room belongs to printout:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;PrintOut-&gt;bindModel(array(\r\n    &#39;hasOne&#39; =&gt; array(\r\n        &#39;Room&#39; =&gt; array(\r\n            &#39;className&#39; =&gt; &#39;Room&#39;,\r\n            &#39;foreignKey&#39; =&gt; &#39;printout_id&#39;,\r\n        ),\r\n    ),\r\n));</code></pre>\r\n\r\n<p>Your solution might be something else too, but I will need more information of what your Models do.</p>\r\n\r\n<p><strong>EDIT</strong></p>\r\n\r\n<p>Now I see that your question might be a bit different... you should check binding models with conditions.</p>\r\n', 0, 1, 0, '2013-12-22 14:27:47', '2013-12-22 14:27:47'),
(61, 1, 51, '<p>checks if</p>\r\n\r\n<ul>\r\n	<li>there is a post with id $post AND user_id = $user</li>\r\n	<li>if yes it checks if the returned id is equal (even in type) to $post\r\n	<ul>\r\n		<li>if yes it returns true, else false</li>\r\n	</ul>\r\n	</li>\r\n</ul>\r\n', 1, 1, 0, '2013-12-22 14:29:34', '2013-12-22 14:29:34'),
(62, 1, 52, '<p>$this-&gt;action returns the name of your current action for example : your request = /posts/edit in the controller :</p>\r\n\r\n<pre>\r\n<code>class PostsController extends AppController{\r\n   // ...\r\n   public function beforeFilter(){\r\n       parent::beforeFilter();\r\n       debug($this-&gt;action); // = edit\r\n   }\r\n// ...\r\n}</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:30:30', '2013-12-22 14:30:30'),
(63, 1, 52, '<p>It should <strong>$this-&gt;params[&#39;action&#39;]</strong> instead of <strong>$this-&gt;action</strong>.</p>\r\n', 0, 1, 0, '2013-12-22 14:30:41', '2013-12-22 14:30:41'),
(64, 1, 52, '<pre>\r\n<code>$this-&gt;action returns the action name of controller</code></pre>\r\n\r\n<p>in your case, in_array($this-&gt;action, array(&#39;edit&#39;, &#39;delete&#39;) checking for action name is edit or delete.</p>\r\n\r\n<pre>\r\n<code>for debugging you can use \r\n\r\npr($this-&gt;action);</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:30:53', '2013-12-22 14:30:53'),
(65, 1, 52, '<p>you can use <code>parent::beforeFilter();</code> statement for user validation.</p>\r\n\r\n<p>For that in your controller</p>\r\n\r\n<p>you have to use</p>\r\n\r\n<pre>\r\n<code>function beforefilter()\r\n{\r\n     parent::beforeFilter();\r\n}</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:31:06', '2013-12-22 14:31:06'),
(66, 1, 53, '<p>I think using session isn&#39;t a bad choice. As for question #2, you can expect for each page in the sequence you describe, that if the user is following normal page navigation, they arrived from a certain action and controller. So, delete the redirectUrl session variable if the controller&#39;s <code>$this-&gt;referer()</code> does not match what you&#39;d expect, and redirect them to the beginning of the sequence.</p>\r\n', 0, 1, 0, '2013-12-22 14:32:14', '2013-12-22 14:32:14'),
(67, 1, 53, '<p>Do below four steps in one go using simple hide and show javascript or using ajax calls</p>\r\n\r\n<pre>\r\n<code>Search for something - create one form with query text box\r\nclick on a result - show color options\r\nclick on a color for this result - select color\r\nclick to submit choice - execute step 5</code></pre>\r\n\r\n<p>Step: After that you have search string and color now you can redirect to the search action easily!</p>\r\n', 0, 1, 0, '2013-12-22 14:32:29', '2013-12-22 14:32:29'),
(68, 1, 54, '<p>You need to rename your password hasher class to have the suffix &quot;PasswordHasher&quot;, and only provide the non-suffixed name in the &#39;className&#39; argument.</p>\r\n\r\n<p>eg:</p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\nApp::import(&#39;Vendor&#39;, &#39;PHPass/class-phpass&#39;); //&lt;--this exists and defines PasswordHash class\r\nclass PHPassHasherPasswordHasher extends AbstractPasswordHasher {\r\n\r\n    // functions\r\n\r\n}</code></pre>\r\n\r\n<p>The example from the docs sets the classname to &#39;Simple&#39;, which then loads &#39;SimplePasswordHasher&#39;.</p>\r\n\r\n<p>You might find that having a name of PHPassHasherPasswordHasher is a bit silly, it&#39;s up to you what you want to call it. Perhaps PHPassPasswordHasher might be a bit more appropriate (and then use the classname argument &#39;PHPass&#39;).</p>\r\n\r\n<p><strong>EDIT</strong>: It seems as if Cake has issues when multiple capital letters are used one after the other (eg. PHPass), so the right way to do it is to change the password hasher class to the following:</p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\nApp::import(&#39;Vendor&#39;, &#39;PHPass/class-phpass&#39;); //&lt;--this exists and defines PasswordHash class\r\nclass PhpassPasswordHasher extends AbstractPasswordHasher {\r\n\r\n    // functions\r\n\r\n}</code></pre>\r\n\r\n<p>... and make sure the filename matches the classname: PhpassPasswordHasher.php.</p>\r\n\r\n<p>Thanks to SDP for the discussion, I learnt something today!</p>\r\n', 1, 1, 0, '2013-12-22 14:33:34', '2013-12-22 14:33:34'),
(69, 1, 54, '<p>According to the docs:</p>\r\n\r\n<blockquote>\r\n<p>To configure different fields for user in $components array:</p>\r\n</blockquote>\r\n\r\n<pre>\r\n<code>// Pass settings in $components array\r\npublic $components = array(\r\n    &#39;Auth&#39; =&gt; array(\r\n        &#39;authenticate&#39; =&gt; array(\r\n            &#39;Form&#39; =&gt; array(\r\n                &#39;fields&#39; =&gt; array(\r\n                    &#39;username&#39; =&gt; &#39;email&#39;,\r\n                    &#39;password&#39; =&gt; &#39;password&#39;\r\n                )\r\n            )\r\n        )\r\n    )\r\n);</code></pre>\r\n\r\n<p><a href="http://book.cakephp.org/2.0/en/core-libraries/components/authentication.html#configuring-authentication-handlers">Source</a></p>\r\n', 0, 1, 0, '2013-12-22 14:33:52', '2013-12-22 14:33:52'),
(70, 1, 54, '<p>I finally got this working. We were on the right track by renaming the file/class to comply with Cake conventions. I had to go one step further and change the capitalization as well:</p>\r\n\r\n<pre>\r\n<code>PHPassPasswordHasher.php --&gt; PhpassPasswordHasher.php\r\nclass PHPassPasswordHasher... --&gt; class PhpassPasswordHasher...</code></pre>\r\n\r\n<p>Phew!</p>\r\n', 0, 1, 0, '2013-12-22 14:34:13', '2013-12-22 14:34:13'),
(71, 1, 55, '<p>Check the syntax on maxLength. It should be camel cased. Because you used all lower case, it cannot find the correct method.</p>\r\n\r\n<p>You wrote:</p>\r\n\r\n<pre>\r\n<code>&#39;rule&#39; =&gt; array(&#39;maxlength&#39;, 25),</code></pre>\r\n\r\n<p>It should be</p>\r\n\r\n<pre>\r\n<code>&#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 25),</code></pre>\r\n\r\n<p>See: <a href="http://book.cakephp.org/2.0/en/models/data-validation.html#Validation::maxLength">http://book.cakephp.org/2.0/en/models/data-validation.html#Validation::maxLength</a></p>\r\n\r\n<p>Also, you are writing the rule with a custom name like this:</p>\r\n\r\n<pre>\r\n<code>&#39;address&#39; =&gt; array(\r\n    &#39;maxLength&#39; =&gt; array(\r\n        &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 255),\r\n        &#39;message&#39; =&gt; &quot;Your email address can&#39;t contain more than %d characters.&quot;,\r\n        &#39;on&#39; =&gt; &#39;update&#39;,\r\n    ),\r\n),</code></pre>\r\n\r\n<p>Try changing it to:</p>\r\n\r\n<pre>\r\n<code>&#39;address&#39; =&gt; array(\r\n    &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 255),\r\n    &#39;message&#39; =&gt; &quot;Your email address can&#39;t contain more than %d characters.&quot;,\r\n    &#39;on&#39; =&gt; &#39;update&#39;,\r\n),</code></pre>\r\n', 0, 1, 0, '2013-12-22 14:35:56', '2013-12-22 14:35:56'),
(72, 1, 56, '<p><a href="http://book.cakephp.org/2.0/en/controllers/request-response.html">http://book.cakephp.org/2.0/en/controllers/request-response.html</a></p>\r\n\r\n<pre>\r\n<code>$this-&gt;request-&gt;params[&#39;pass&#39;] </code></pre>\r\n\r\n<p>represents the passed parameters within a url</p>\r\n\r\n<p>Example: your request url <code>localhost/calendars/view/recent/mark</code></p>\r\n\r\n<p>Both <code>recent</code> and <code>mark</code> are passed arguments to <code>CalendarsController::view()</code></p>\r\n\r\n<p><code>$this-&gt;request-&gt;params[&#39;pass&#39;]</code> is an array valued <code>array ([0]=&gt;recent [1]=&gt;mark)</code></p>\r\n\r\n<p>So, in the above example</p>\r\n\r\n<pre>\r\n<code>$this-&gt;request-&gt;params[&#39;pass&#39;][0] = &quot;recent&quot;</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:36:52', '2013-12-22 14:36:52'),
(73, 1, 58, '<p>You need read about it <a href="http://book.cakephp.org/2.0/en/cakephp-overview/understanding-model-view-controller.html">Understanding Model-View-Controller, CakePHP</a></p>\r\n\r\n<p>As their name describe it, with an MVC framework you can separate your views, controllers and model (a shortcut to handle querys). It&#39;s a good way to work with more complex projects.</p>\r\n\r\n<p>Also, have a lot of stuff (html helper, form helpers, etc) that help you to do your work more easily.</p>\r\n', 1, 1, 0, '2013-12-22 14:38:20', '2013-12-22 14:38:20'),
(74, 1, 58, '<p>Firstly I believe that you have to understand what is the function of framework and what does MVC framework does. <a href="http://stackoverflow.com/questions/1654762/what-is-an-mvc-framework-and-why-is-it-necessary-useful">Here</a> is an article that maybe useful for you. It doesn&#39;t mention about cakephp but it maybe useful to understand what is MVC framework.</p>\r\n\r\n<p>I will explain how does MVC works in my opinion. I have been using cakephp for a year now but I don&#39;t guarantee my explanation is the best, but I will try my best to explain it.</p>\r\n\r\n<p>MVC stands for Model-View-Controller Model is known for the database table structure. In cakephp you will defined a certain format of data or validation of data on server side.</p>\r\n\r\n<p>View is known for the view of the page and normally consists of the javascript/jquery and html mark up as well as the php codes. This view will be your actual user view or simply what your users would/should see.</p>\r\n\r\n<p>Controller is known for the main stage for processing data that you obtain from all the Models and passing this processed data into the view. You can create a lot of function and class to be used to processed data.</p>\r\n\r\n<p>You can further read more on the cakephp website, <a href="http://book.cakephp.org/2.0/en/cakephp-overview/understanding-model-view-controller.html">here</a> is the link to cakephp website.</p>\r\n\r\n<p>You need to download cakephp from cakephp website or from github and put it into your web server root directories, example in wamp is www folder.</p>\r\n', 0, 1, 0, '2013-12-22 14:38:40', '2013-12-22 14:38:40'),
(75, 1, 59, '<p>It looks like case sensitivity issue.</p>\r\n\r\n<p>You used a double quotes for table name - &quot;member_orderinfo2&quot; - it means so table have to be named exactly <strong>member_orderinfo2</strong> with only lower chars. Double quotes are used for case sensitive identifiers. Usually better don&#39;t use it when it is possible - are necessary when used identifier is keyword - so don&#39;t use case sensitive identifiers and don&#39;t use keywords as identifiers.</p>\r\n', 0, 1, 0, '2013-12-22 14:39:31', '2013-12-22 14:39:31'),
(76, 1, 62, '<p>What query do you want to write this way? It is possible to write nearly all queries using the CakePHP ORM. Using the query building functions of CakePHP is the prefered way of doing it.</p>\r\n\r\n<p>All data fetching an manipulation should be done in a model as well. See <a href="http://en.wikipedia.org/wiki/Separation_of_concerns">Separation of Concerns</a>.</p>\r\n\r\n<p>Here is a complete <strong>model method</strong> to fetch an user record based on its id OR slug.</p>\r\n\r\n<pre>\r\n<code>public function view($userId, $options = []) {\r\n    $defaults = array(\r\n        &#39;contain&#39; =&gt; array(),\r\n        &#39;conditions&#39; =&gt; array(\r\n            &#39;OR&#39; =&gt; array(\r\n                $this-&gt;alias . &#39;.&#39; . $this-&gt;primaryKey =&gt; $userId,\r\n                $this-&gt;alias . &#39;.slug&#39; =&gt; $userId,\r\n            ),\r\n            $this-&gt;alias . &#39;.email_verified&#39; =&gt; 1\r\n        ),\r\n    );\r\n\r\n    $result = $this-&gt;find(&#39;first&#39;, Hash::merge($defaults, $options));\r\n\r\n    if (empty($result)) {\r\n        throw new NotFoundException(__d(&#39;user_tools&#39;, &#39;User not found!&#39;));\r\n    }\r\n\r\n    return $result;\r\n}</code></pre>\r\n\r\n<p><strong>Controller:</strong></p>\r\n\r\n<pre>\r\n<code>public function view($userId = null) {\r\n    $this-&gt;set(&#39;user&#39;, $this-&gt;User-&gt;view($userId);\r\n}</code></pre>\r\n\r\n<p><strong>Alternative but NOT preferred mode method</strong> to fetch te data</p>\r\n\r\n<pre>\r\n<code>public function view($userId, $options = []) {\r\n    $result = $this-&gt;query(/* Your query here */);\r\n\r\n    if (empty($result)) {\r\n        throw new NotFoundException(__d(&#39;user_tools&#39;, &#39;User not found!&#39;));\r\n    }\r\n\r\n    return $result;\r\n}</code></pre>\r\n', 0, 1, 0, '2013-12-25 19:35:05', '2013-12-25 19:35:05'),
(77, 1, 62, '<p>Your solution is correct, let me eleborate it in more detail</p>\r\n\r\n<p><strong>1st Solution</strong></p>\r\n\r\n<p>In your controller</p>\r\n\r\n<pre>\r\n<code>$arrayTemp =array();\r\n$arrayTemp = $this-&gt;ModelName-&gt;query(&#39; Your Query String &#39;);\r\n$this-&gt;set(&#39;post&#39;,$arrayTemp);</code></pre>\r\n\r\n<p><strong>2nd Solution</strong></p>\r\n\r\n<p>In your model class</p>\r\n\r\n<pre>\r\n<code>function returnDate(){\r\n   return $this-&gt;query(&#39;Your Query String&#39;)\r\n}</code></pre>\r\n\r\n<p>In Controller class</p>\r\n\r\n<pre>\r\n<code>    $arrayTemp = $this-&gt;ModelName-&gt;returnDate();\r\n    $this-&gt;set(&#39;post&#39;,$arrayTemp);\r\n}</code></pre>\r\n', 0, 1, 0, '2013-12-25 19:35:26', '2013-12-25 19:35:26'),
(78, 1, 63, '<p>I managed to bypass this problem:</p>\r\n\r\n<ol>\r\n	<li>define a specific action in form-&gt;create, pointing to your controller&#39; method</li>\r\n	<li>add a hidden field with object_id</li>\r\n	<li>add some additional code in the controller method to get object_id from $this-&gt;request-&gt;data, because a hidden post field is not passed as an argument to method, as it is with GET method.</li>\r\n</ol>\r\n\r\n<p>This way, to some unknown reason, it just works. Anyway, I still feel I&#39;m doing something wrong. It&#39;s not as &quot;clean&quot; as I would expect.</p>\r\n', 0, 1, 0, '2013-12-25 19:36:19', '2013-12-25 19:36:19'),
(79, 1, 64, '<p>Please open the core.php &amp; change the application cookie path then session will be store according to application cookie path For www.example.com/instance1</p>\r\n\r\n<pre>\r\n<code>Configure::write(&#39;Session&#39;, array(\r\n        &#39;defaults&#39; =&gt; &#39;database&#39;,\r\n        &#39;ini&#39; =&gt; array(\r\n            &#39;session.cookie_path&#39; =&gt; &#39;/instance1&#39;,\r\n        ),\r\n        &#39;cookie&#39; =&gt; &#39;instance1&#39;,\r\n        &#39;cookieTimeout&#39; =&gt; 0,   \r\n           &#39;checkAgent&#39;  =&gt; false  \r\n    ));</code></pre>\r\n\r\n<p>For www.example.com/instance2</p>\r\n\r\n<pre>\r\n<code>Configure::write(&#39;Session&#39;, array(\r\n        &#39;defaults&#39; =&gt; &#39;database&#39;,\r\n        &#39;ini&#39; =&gt; array(\r\n            &#39;session.cookie_path&#39; =&gt; &#39;/instance2&#39;,\r\n        ),\r\n        &#39;cookie&#39; =&gt; &#39;instance2&#39;,\r\n        &#39;cookieTimeout&#39; =&gt; 0,   \r\n           &#39;checkAgent&#39;  =&gt; false  \r\n    ));</code></pre>\r\n', 0, 1, 0, '2013-12-25 19:37:37', '2013-12-25 19:37:37'),
(80, 1, 65, '<p>Use the <code>serialize()</code> function to serialize all the inputs in one value</p>\r\n\r\n<pre>\r\n<code>$this-&gt;request-&gt;data[&#39;Model&#39;][&#39;multiple&#39;] = serialize($this-&gt;request-&gt;data(&#39;Model.multiple&#39;));</code></pre>\r\n\r\n<p>and if you want to retrieve data use <code>unserialize()</code> to get your array as it saved .</p>\r\n', 0, 1, 0, '2013-12-25 19:38:18', '2013-12-25 19:38:18'),
(81, 1, 65, '<p>For this purpose I do array_implode in the beforeValidate function, and array_explode in the afterFind function.</p>\r\n', 0, 1, 0, '2013-12-25 19:38:32', '2013-12-25 19:38:32'),
(82, 1, 68, '<p>You might need to play with your session ids and session name variables to get your external code to load the CakePHP session information.</p>\r\n\r\n<p>For example, you will almost certainly need this:</p>\r\n\r\n<pre>\r\n<code>session_name(&#39;CAKEPHP&#39;);</code></pre>\r\n\r\n<p>and you might need to pass across the session id from Cake, and possibly set the session save path as well.</p>\r\n', 0, 1, 0, '2013-12-25 19:40:38', '2013-12-25 19:40:38'),
(83, 1, 68, '<p>You can read <a href="http://bakery.cakephp.org/articles/admad/2009/09/02/how-to-bend-cakephp-s-session-handling-to-your-needs">http://bakery.cakephp.org/articles/admad/2009/09/02/how-to-bend-cakephp-s-session-handling-to-your-needs</a></p>\r\n\r\n<p>It will examplain you how to bend your cakephp session according to your need.</p>\r\n\r\n<p>OR</p>\r\n\r\n<p>You can see one more link which will solve your problem <a href="http://stackoverflow.com/questions/18187658/use-cakephp-session-with-two-different-domains">Use cakephp session with two different domains</a></p>\r\n\r\n<p>Hope these two links will solve your problem!</p>\r\n', 0, 1, 0, '2013-12-25 19:40:55', '2013-12-25 19:40:55'),
(84, 1, 69, '<blockquote>\r\n<p>So what is the best way to implement that? <a href="http://goo.gl/kUFUIR">http://goo.gl/kUFUIR</a> doesn&#39;t help me, I don&#39;t want to rewrite the AWS library for beeing compatible with the CakePHP interface.</p>\r\n</blockquote>\r\n\r\n<p>This is in fact the best way. And this does not mean to reinvent the wheel, abstraction in OOP means that you make things available in a generic interface that can be replaced with something else. You wrap a foreign API or code in an API compatible to your system, in this case a CakePHP application.</p>\r\n\r\n<p>Wrap the vendor lib in a AwsSession adapter that implements the CakeSessionHandlerInterface. This way it&#39;s API compatible with other session adapters in the case you change it and it might be even solve your core problem, because CakeSession will take care of the initialization.</p>\r\n\r\n<p>Your component is initialized after the session in CakePHP, when the controller is already instantiated and then is initializing all its components. So this happens at a pretty late time. Your alternative is to stop CakePHP from initializing the session, I never had a need to do so, so no idea without looking it up myself. Dig in CakeSession. Even if you manage to do so, other components like the default Auth adapter depends on being able to work with Sessions, so you have to take care of the issue that your component has to be loaded before Auth as well. Pretty fragile system with lots of possbile points of failure. Seriously, go for the Session adapter, guess its a lot less painful to get it working this way.</p>\r\n\r\n<p>By a quick look at the DynamoDB Session documentation this seems to be pretty easy. Extend the regular session handler and overload only the init and garbage collection of it to add the Aws API calls there, no guarantee this is right but seems to be easy.</p>\r\n', 0, 1, 0, '2013-12-25 19:41:47', '2013-12-25 19:41:47'),
(85, 1, 70, '<p>If you had to enable mod_rewrite then chances are, your default apache setup will also need to be changed to allow the .htaccess to execute correctly. By default, most .htaccess rules in publicly accessible directories will be denied.</p>\r\n\r\n<p>Depending on your setup you should have something like this ...</p>\r\n\r\n<pre>\r\n<code>&lt;Directory /var/www/&gt;\r\n    Options Indexes FollowSymLinks MultiViews\r\n    AllowOverride None\r\n    Order deny,allow\r\n    deny from all\r\n&lt;/Directory&gt;</code></pre>\r\n\r\n<p>Found in your config directory for a apache, which may be something like</p>\r\n\r\n<pre>\r\n<code>/etc/apache2/sites-available/default</code></pre>\r\n\r\n<p>Note that the path above and also the <strong>/var/www/</strong> path in your Directory tag above, may be different.</p>\r\n\r\n<p>You will need to change a few things, such as AllowOveride and also a few others to match below. Inspect for the differences.</p>\r\n\r\n<pre>\r\n<code>&lt;Directory /var/www/&gt;\r\n    Options Indexes FollowSymLinks MultiViews\r\n    AllowOverride All\r\n    Order allow,deny\r\n    allow from all\r\n&lt;/Directory&gt;</code></pre>\r\n\r\n<p>Once you have changed that, restart apache and hopefully you will see that the rules in your .htaccess file are now executing.</p>\r\n', 1, 1, 0, '2013-12-25 19:43:08', '2013-12-25 19:43:08'),
(86, 1, 70, '<p>I think you&#39;re missing the /$1 part.</p>\r\n\r\n<p>My .htaccess in webroot looks like this:</p>\r\n\r\n<pre>\r\n<code>&lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine On\r\n    RewriteBase /\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteRule ^(.*)$ index.php?/$1 [QSA,L]\r\n&lt;/IfModule&gt;</code></pre>\r\n\r\n<p>I have also had issues in the past with rewrite and cakePHP on some servers, I needed to add a slash at the start of the filename, as shown:</p>\r\n\r\n<pre>\r\n<code>RewriteRule ^(.*)$ /index.php?/$1 [QSA,L]</code></pre>\r\n\r\n<p>however I don&#39;t think that this is your issue here.</p>\r\n', 0, 1, 0, '2013-12-25 19:43:29', '2013-12-25 19:43:29'),
(87, 1, 70, '<p>/var/www/app/webroot/.htaccess</p>\r\n\r\n<pre>\r\n<code>&lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine On\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]\r\n&lt;/IfModule&gt;</code></pre>\r\n\r\n<p>/var/www/app/.htaccess</p>\r\n\r\n<pre>\r\n<code>&lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine on\r\n    RewriteRule    ^$    webroot/    [L]\r\n    RewriteRule    (.*) webroot/$1    [L]\r\n&lt;/IfModule&gt;</code></pre>\r\n\r\n<p>/var/www/.htaccess</p>\r\n\r\n<pre>\r\n<code>&lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine on\r\n    RewriteRule ^$ app/webroot/ [L]\r\n    RewriteRule (.*) app/webroot/$1 [L]\r\n&lt;/IfModule&gt;</code></pre>\r\n\r\n<p>Please use these .htaccess files to configure you app</p>\r\n', 0, 1, 0, '2013-12-25 19:44:00', '2013-12-25 19:44:00'),
(88, 1, 72, '<p>Try this and make sure you are using correct username and password</p>\r\n\r\n<pre>\r\n<code>public $default = array(\r\n        &#39;datasource&#39; =&gt; &#39;Database/Mysql&#39;,\r\n        &#39;persistent&#39; =&gt; false,\r\n        &#39;host&#39; =&gt; &#39;localhost&#39;,\r\n        &#39;login&#39; =&gt; &#39;user-test&#39;,\r\n        &#39;password&#39; =&gt; &#39;mypassword&#39;,\r\n        &#39;database&#39; =&gt; &#39;test&#39;,\r\n        &#39;prefix&#39; =&gt; &#39;&#39;,\r\n        &#39;encoding&#39; =&gt; &#39;utf8&#39;\r\n    );</code></pre>\r\n', 0, 1, 0, '2013-12-25 19:58:44', '2013-12-25 19:58:44'),
(89, 1, 73, '<p>In your code it does not appear that you do any validation to check that the contact was added successfully and you don&#39;t catch any cURL errors either, so with your code as it currently stands just do ..</p>\r\n\r\n<pre>\r\n<code>$number_of_contacts = count($atContact);</code></pre>\r\n\r\n<p><em>If taken a guess to the structure of your $atContact array.</em></p>\r\n\r\n<p>That will give you number of contacts you are trying to add to Google. If you add some validation at some point and want to make that more accurate, then create a new variable...</p>\r\n\r\n<pre>\r\n<code>public function addContact($token=null,$atContacts=null){\r\n$number_of_contacts = 0;\r\nforeach ( $atContacts as $contact ) {\r\n   $xml = &lt;&lt;&lt;&#39;EOF&#39;\r\n   ...\r\n   if(no_errors){\r\n       $number_of_contacts++;\r\n   }</code></pre>\r\n', 0, 1, 0, '2013-12-25 19:59:51', '2013-12-25 19:59:51'),
(90, 1, 75, '<p>this is the right behavior</p>\r\n\r\n<p>when you write:</p>\r\n\r\n<pre>\r\n<code>$modifiers = $this-&gt;Option-&gt;Modifier-&gt;find(&#39;list&#39;);</code></pre>\r\n\r\n<p>you are just accessing Modifier model and not all modifiers related to Option.</p>\r\n\r\n<p>to achieve what you want you have to do this:</p>\r\n\r\n<pre>\r\n<code>$modifiers = $this-&gt;Option-&gt;Modifier-&gt;find(\r\n    &#39;list&#39;, \r\n    array(&#39;conditions&#39; =&gt; array(&#39;Modifier.type&#39; =&gt; &#39;3&#39;)\r\n)</code></pre>\r\n\r\n<p>you can also create your own find type (see <a href="http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#creating-custom-find-types">manual</a>)</p>\r\n\r\n<pre>\r\n<code>class Modifier extends AppModel {\r\n    public $findMethods = array(&#39;type3&#39; =&gt;  true);\r\n\r\n    protected function _findType3($state, $query, $results = array()) {\r\n        if ($state === &#39;before&#39;) {\r\n            $query[&#39;conditions&#39;][&#39;Modifier.type&#39;] = 3;\r\n            return $query;\r\n        }\r\n        return $results;\r\n    }\r\n}</code></pre>\r\n\r\n<p>and in your controller do this</p>\r\n\r\n<pre>\r\n<code>$modifiers = $this-&gt;Option-&gt;Modifier-&gt;find(&#39;type3&#39;);</code></pre>\r\n', 1, 1, 0, '2013-12-25 20:01:33', '2013-12-25 20:01:33'),
(91, 1, 76, '<p>This is a very common question, as it takes some times to learn the difference between Components, Behaviors, Plugins, and Elements. For that reason, I extended this answer a bit to explain them all - once you understand them, this question is self-answering.</p>\r\n\r\n<p>Because of your mention of &quot;before save&quot; trigger, this means that you&#39;ll most certainly want a Behavior because they have reusable call-back methods.</p>\r\n\r\n<p>The question then is, &quot;Do I need anything MORE than what a Behavior can provide?&quot;. If the answer is yes, then you can make a Plugin that can include any additional things you need.</p>\r\n\r\n<p>If the answer is no, then there&#39;s not much reason to make an entire Plugin just for a single Behavior.</p>\r\n\r\n<hr />\r\n<p><strong>UNDERSTANDING Components, Behaviors, Plugins, (and Elements)</strong></p>\r\n\r\n<p><strong><a href="http://book.cakephp.org/2.0/en/controllers/components.html">Components</a>:</strong></p>\r\n\r\n<blockquote>\r\n<p>Components are packages of logic that are shared between controllers.</p>\r\n</blockquote>\r\n\r\n<p>That about sums it up really - Components are used for logic that you want to share amongst Controllers. That&#39;s the key - for &quot;Controllers&quot;. These aren&#39;t used for database-data-related modifications, because that should be in the Model (per <a href="http://book.cakephp.org/2.0/en/cakephp-overview/understanding-model-view-controller.html">MVC standards</a>).</p>\r\n\r\n<p>An example of a component would be if you have a large amount of logic related to file-uploading that you want to use in more than one Controller. It&#39;s not directly database-related (which would be a Model), and it&#39;s not for creating HTML (see <a href="http://book.cakephp.org/2.0/en/views.html">Views</a>) - it&#39;s common logic that you want to share w/ other Controllers.</p>\r\n\r\n<p><strong><a href="http://book.cakephp.org/2.0/en/models/behaviors.html">Behaviors</a>:</strong></p>\r\n\r\n<blockquote>\r\n<p>Model behaviors are a way to organize some of the functionality defined in CakePHP models.</p>\r\n</blockquote>\r\n\r\n<p>Behaviors are most commonly used to allow multiple Models to share <a href="http://book.cakephp.org/2.0/en/models/callback-methods.html">callback methods</a>. For example a &quot;Sluggable Behavior&quot; could have a &quot;beforeSave()&quot; call back that takes whatever is in the &quot;name&quot; (or other) field and turns it into a slug and puts it into the &quot;slug&quot; field. Then, any Model that actsAs that Behavior will automatically get a slug populated whenever it saves.</p>\r\n\r\n<p><strong><a href="http://book.cakephp.org/2.0/en/plugins.html">Plugins</a></strong></p>\r\n\r\n<blockquote>\r\n<p>Plugins are a combination of controllers, models, and views released as a packaged application plugin that others can use in their CakePHP applications.</p>\r\n</blockquote>\r\n\r\n<p>A Plugin is always an option regardless of what you&#39;re trying to do, but the point of a Plugin is usually a way to package models, views, controllers, components, behaviors...etc into something that you can use across multiple projects. If you&#39;re certain those things are for just one project, you could have those same files just in the project itself - no need for a plugin. But if there&#39;s a chance you want it reusable easily, then you can put them into a Plugin.</p>\r\n\r\n<p><strong><a href="http://book.cakephp.org/2.0/en/views.html#elements">Elements</a></strong></p>\r\n\r\n<blockquote>\r\n<p>An element is basically a mini-view that can be included in other views, in layouts, and even within other elements. Elements can be used to make a view more readable, placing the rendering of repeating elements in its own file.</p>\r\n</blockquote>\r\n\r\n<p>An element is the only one of these that is View related. For example a small module box that shows your contact form that you want to put on lots of pages (possibly in different spots).</p>\r\n\r\n<p>If it&#39;s on EVERY page, you might think about just including it in your <a href="http://book.cakephp.org/2.0/en/views.html#layouts">Layout file</a>, but if it&#39;s something that may or may not be there, and/or might be in a different location..etc, then an Element is a good way to make reusable View code.</p>\r\n', 1, 1, 0, '2013-12-25 20:02:19', '2013-12-25 20:02:19'),
(92, 1, 78, '<p>Do not use CakePHP association they are not good handling complex relationships, you will later face problems with....Instead create all your join queries on the fly...I am giving you one example below:</p>\r\n\r\n<p>Create one function inside Shop model and join catalog and product as shown below:</p>\r\n\r\n<pre>\r\n<code>$options = array(\r\n        &#39;conditions&#39; =&gt; array(&#39;Product.id&#39;=&gt;9),\r\n        &#39;joins&#39; =&gt; array(\r\n            array(\r\n                &#39;alias&#39; =&gt; &#39;Catalog&#39;,  \r\n                &#39;table&#39; =&gt; &#39;catalogs&#39;,\r\n                &#39;type&#39; =&gt; &#39;LEFT&#39;,\r\n                &#39;conditions&#39; =&gt; array(\r\n                    &#39;Catalog.product_id = Product.id&#39;,\r\n                ),\r\n            ),\r\n            array(\r\n                &#39;alias&#39; =&gt; &#39;Product&#39;,  \r\n                &#39;table&#39; =&gt; &#39;products&#39;,\r\n                &#39;type&#39; =&gt; &#39;LEFT&#39;,\r\n                &#39;conditions&#39; =&gt; array(\r\n                    &#39;Shop.id = Product.shop_id&#39;,\r\n                ),\r\n            )\r\n        ),\r\n        &#39;fields&#39; =&gt; array(&#39;Product.*&#39;),\r\n        &#39;group&#39; =&gt; array(&#39;Product.id&#39;)\r\n    );\r\n\r\n $returnData = $this-&gt;find(&#39;all&#39;,$options);</code></pre>\r\n\r\n<p>This will make coding little easier and you can escape from associations!</p>\r\n', 0, 1, 0, '2013-12-25 20:03:39', '2013-12-25 20:03:39'),
(93, 1, 79, '<p><strong>Update: Full multi-field records in a model without a database</strong></p>\r\n\r\n<p>After the author made his goal more clear, this should be the solution:</p>\r\n\r\n<p><a href="http://stackoverflow.com/questions/6924574/how-to-use-models-without-database-on-cakephp-and-have-associations">How to use models without database on CakePHP and have associations?</a></p>\r\n\r\n<p>Don&#39;t get the title wrong, read it first, the answer describes exactly what would be the solution here as well.</p>\r\n\r\n<p><strong>Solution for single field, enum like data:</strong></p>\r\n\r\n<p>If you don&#39;t use a DB table and entries are limited it is always good to use constants because you can&#39;t do a typo without causing an error somewhere and UserLevel::USER is much more clear than a random &#39;user&#39; string somewhere that could mean anything.</p>\r\n\r\n<pre>\r\n<code>class UserLevel extends AppModel {\r\n\r\n    public $useTable = false;\r\n\r\n    const ADMIN = &#39;admin&#39;;\r\n    const USER = &#39;user&#39;;\r\n    /* ... */\r\n\r\n    public function getUserLevels() {\r\n        return [\r\n            UserLevel::ADMIN =&gt; __(&#39;Admin&#39;),\r\n            /* ... */\r\n        ];\r\n    }\r\n}</code></pre>\r\n', 0, 1, 0, '2013-12-25 20:04:29', '2013-12-25 20:04:29'),
(94, 1, 82, '<p>Run: localhost/cake/items (pluar form)</p>\r\n\r\n<p>By default in URL set the name of controller.</p>\r\n\r\n<p>Try now and say it&#39;s problem still?</p>\r\n\r\n<p>BTW: Do You configure database.php in Config/?</p>\r\n', 0, 1, 0, '2013-12-25 20:07:51', '2013-12-25 20:07:51');
INSERT INTO `answers` (`id`, `user_id`, `question_id`, `answer`, `is_verified`, `is_active`, `rating`, `created`, `modified`) VALUES
(95, 1, 82, '<p>This issue mostly occures due to two reasons:</p>\r\n\r\n<pre>\r\n<code>  1) Check you controller code have written \r\n     PHP tag like &lt;? php  it should be &lt;?php\r\n  2) check in your model have your written $name=&quot;Item&quot; \r\n     instead of using var $name=&quot;Item&quot; or public $name=&quot;Item&quot; </code></pre>\r\n\r\n<p>I think your issue will definitely solved. If still issue is occurring then post your Controller&#39;s code and Model&#39;s code also.....</p>\r\n', 0, 1, 0, '2013-12-25 20:08:06', '2013-12-25 20:08:06'),
(96, 1, 84, '<p>In app/config/core.php, change the debug mode&#39;s value 2 Configure::write(&#39;debug&#39;, 2);</p>\r\n\r\n<p>There are three ways two show queries in controller:</p>\r\n\r\n<ol>\r\n	<li>\r\n	<p>This will show the last query executed of user model:</p>\r\n\r\n	<pre>\r\n<code>debug($this-&gt;User-&gt;lastQuery());  </code></pre>\r\n	</li>\r\n	<li>\r\n	<p>This will show all executed query of user model:</p>\r\n\r\n	<pre>\r\n<code>$log = $this-&gt;Model-&gt;getDataSource()-&gt;getLog(false, false);       \r\ndebug($log)</code></pre>\r\n	</li>\r\n	<li>\r\n	<p>This will show a log of all queries:</p>\r\n\r\n	<pre>\r\n<code>$db =&amp; ConnectionManager::getDataSource(&#39;default&#39;);\r\n$db-&gt;showLog();</code></pre>\r\n\r\n	<ol>\r\n		<li>\r\n		<p>If you want to show all queries log all over the application you can use:</p>\r\n\r\n		<pre>\r\n<code>&lt;?php echo $this-&gt;element(&#39;sql_dump&#39;); ?&gt;</code></pre>\r\n\r\n		<p>in view/element/filename.ctp.</p>\r\n		</li>\r\n	</ol>\r\n	</li>\r\n</ol>\r\n', 0, 1, 0, '2013-12-25 20:10:09', '2013-12-25 20:10:09');

-- --------------------------------------------------------

--
-- Table structure for table `questions`
--

CREATE TABLE IF NOT EXISTS `questions` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` text NOT NULL,
  `question` text NOT NULL,
  `user_id` int(5) NOT NULL DEFAULT '1',
  `is_verified` tinyint(1) NOT NULL DEFAULT '1',
  `is_active` tinyint(1) NOT NULL DEFAULT '0',
  `created` datetime NOT NULL,
  `modified` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=85 ;

--
-- Dumping data for table `questions`
--

INSERT INTO `questions` (`id`, `title`, `question`, `user_id`, `is_verified`, `is_active`, `created`, `modified`) VALUES
(1, ' CakePHP - Saving and serving files outside of webroot', '<p>Using Cake version 2.4.3 stable</p>\n\n<p>So I am having a time here, I have modified this plug in to save files to the app folder <a href="https://www.github.com/srs81/CakePHP-AjaxMultiUpload/" target="_blank">https://www.github.com/srs81/CakePHP-AjaxMultiUpload/</a></p>\n\n<p>The uploaded files are being saved to /public_html/app/files</p>\n\n<p>Now the strange thing is, when trying to serve these files to the view, I can read the file name, the file size, but not the file itself, image, pdf, etc.</p>\n\n<p>When I try to access the file via direct url, i get this error :</p>\n\n<p>Error: FilesController could not be found.</p>\n\n<p>How can it be that I can read the file name, the file size, but not the file itself?</p>\n\n<p>There is a need to save the files in the app folder. These files should be protected and therefore only be accessed by users who are logged into the application. I have tried to use cake send file response with no outcome.</p>\n\n<p>Edit : I guess the real question at hand here is how can I read files from APP . DS . &#39;files&#39; ?</p>\n\n<p>View code :</p>\n\n<pre>\n<code>public function view ($model, $id, $edit=false) {\n    $results = $this-&gt;listing ($model, $id);\n\n    $directory = $results[&#39;directory&#39;];\n    $baseUrl = $results[&#39;baseUrl&#39;];\n    $files = $results[&#39;files&#39;];\n\n    $str = &quot;&lt;dt&gt;&quot; . __(&quot;Pictures&quot;) . &quot;&lt;/dt&gt;\\n&lt;dd&gt;&quot;;\n    $count = 0;\n    $webroot = Router::url(&quot;/&quot;) . &quot;ajax_multi_upload&quot;;\n    foreach ($files as $file) {\n        $type = pathinfo($file, PATHINFO_EXTENSION);\n        $filesize = $this-&gt;format_bytes (filesize ($file));\n        $f = basename($file);\n        $url = $baseUrl . &quot;/$f&quot;;\n        if ($edit) {\n            $baseEncFile = base64_encode ($file);\n            $delUrl = &quot;$webroot/uploads/delete/$baseEncFile/&quot;;          \n            $str .= &quot;&lt;a href=&#39;$delUrl&#39;&gt;&lt;img src=&#39;&quot; . Router::url(&quot;/&quot;) . \n                &quot;ajax_multi_upload/img/delete.png&#39; alt=&#39;Delete&#39; /&gt;&lt;/a&gt; &quot;;\n        }\n        $str .= &quot;&lt;img src=&#39;$url&#39; /&gt; &quot;;\n        $str .= &quot;&lt;a href=&#39;$url&#39;&gt;&quot; . $f . &quot;&lt;/a&gt; ($filesize)&quot;;\n        $str .= &quot;&lt;br /&gt;\\n&quot;;\n    }\n    $str .= &quot;&lt;/dd&gt;\\n&quot;; \n    return $str;\n\n}</code></pre>\n\n<p>And the upload / save</p>\n\n<pre>\n<code>public function upload($dir=null) {\n    // max file size in bytes\n    $size = Configure::read (&#39;AMU.filesizeMB&#39;);\n    if (strlen($size) &lt; 1) $size = 20;\n    $relPath = Configure::read (&#39;AMU.directory&#39;);\n    if (strlen($relPath) &lt; 1) $relPath = &quot;files&quot;;\n\n    $sizeLimit = $size * 1024 * 1024;\n            $this-&gt;layout = &quot;ajax&quot;;\n        Configure::write(&#39;debug&#39;, 0);\n    $directory = APP . DS . $relPath;\n\n    if ($dir === null) {\n        $this-&gt;set(&quot;result&quot;, &quot;{\\&quot;error\\&quot;:\\&quot;Upload controller was passed a null value.\\&quot;}&quot;);\n        return;\n    }\n    // Replace underscores delimiter with slash\n    $dir = str_replace (&quot;___&quot;, &quot;/&quot;, $dir);\n    $dir = $directory . DS . &quot;$dir/&quot;;\n    if (!file_exists($dir)) {\n        mkdir($dir, 0777, true);\n    }\n    $uploader = new qqFileUploader($this-&gt;allowedExtensions, \n        $sizeLimit);\n    $result = $uploader-&gt;handleUpload($dir);\n    $this-&gt;set(&quot;result&quot;, htmlspecialchars(json_encode($result), ENT_NOQUOTES));\n}</code></pre>\n\n<p>The only real change from the original plug in is changing WWWROOT to APP to make the switch. Saving works fine and lovely. But its just weird that I can read the file name, file size in the view no problem but cannot view an image, pdf, etc.</p>\n', 1, 1, 0, '2013-12-21 22:52:35', '2013-12-21 22:52:35'),
(2, 'What are the things that must be taken care of before deploying a cakephp website', '<p>Im just done with a cakephp website, but im still in a doubt on what are the things that I must take care of, before making this website live. Since it is a big application that require users to Register and Login and to manage their accounts. Any sort of help is appreciated. Thanx.</p>\r\n', 1, 1, 0, '2013-12-21 23:15:30', '2013-12-21 23:15:30'),
(3, 'compare dateofbirth to the current date in cakephp', '<pre>\r\n<code>$this-&gt;set(&#39;one&#39;,$this-&gt;Profile-&gt;find(&#39;all&#39;,array(\r\n            &#39;conditions&#39;=&gt;array(&#39;MONTH(Profile.DOB)&#39;=&gt;&#39;MONTH(CURDATE())&#39;,&#39;DAY(Profile.DOB)&gt;=&#39;=&gt;&#39;DAY(CURDATE())&#39;),\r\n            &#39;order&#39;=&gt;&#39;MONTH(Profile.DOB),DAY(Profile.DOB)&#39;\r\n            )));</code></pre>\r\n\r\n<p>can anyone help me in this please.... actually I need to display the date of birth comparing with the current date...</p>\r\n', 1, 1, 0, '2013-12-21 23:22:49', '2013-12-21 23:22:49'),
(4, 'Cakephp search plugin - Search inside related model', '<p>Cliente hasMany Solicitud.</p>\r\n\r\n<p>I am using CakeDC search plugin.</p>\r\n\r\n<p>I need to search inside Solicitud where Cliente.nombre = &quot;myValue&quot;. Is this even doable? I paste what I have:</p>\r\n\r\n<pre>\r\n<code>//SOLICITUD MODEL\r\npublic $actsAs = array(&#39;Search.Searchable&#39;, &#39;Containable&#39;);\r\n\r\n\r\npublic $filterArgs = array(\r\n    &#39;nombre&#39; =&gt; array(&#39;type&#39; =&gt; &#39;like&#39;, &#39;field&#39; =&gt; array(&#39;Cliente.nombre&#39;)),        \r\n);</code></pre>\r\n\r\n<p>I don&#39;t know if this is doable or I am fantasizing. Ideas?</p>\r\n', 1, 1, 0, '2013-12-21 23:27:00', '2013-12-21 23:27:00'),
(5, 'Using a different MySql DB for write operations in CakePHP', '<p>I need to scale my mysql RDS instance. I can launch read replicas in amazon RDS, but problem is that the write operations won&#39;t work on read replicas. I need to redirect all the write operations (INSERT, UPDATE, DELETE) on master server somehow, and all the read operations on a read replica.</p>\r\n\r\n<p>RDS will take care of synchronizing the read replica with latest changes.</p>\r\n\r\n<p>is there any easy way to modify cake to execute all the write commands on a different DB? without changing the controllers or models?</p>\r\n\r\n<p>my existing server is not able to handle the connections and cpu spikes. already tried to upgrade it, but it did not work.</p>\r\n\r\n<p>I appreciate your help. Thank You.</p>\r\n', 1, 1, 0, '2013-12-21 23:28:21', '2013-12-21 23:28:21'),
(6, 'cakephp get query logs when debug is set to 0', '<p>How can you get a list of the executed queries when debug is set to 0 ?</p>\r\n\r\n<p>I have the following functions in AppController:</p>\r\n\r\n<pre>\r\n<code>// log INSERT, UPDATE, DELETE queries\r\nprivate function __logQueries(){\r\n    $db         = &amp;ConnectionManager::getDataSource(&#39;default&#39;);\r\n    $query_logs = $db-&gt;getLog();\r\n\r\n    if( isset($query_logs[&#39;log&#39;]) &amp;&amp; !empty($query_logs[&#39;log&#39;]) ){\r\n\r\n        $this-&gt;loadModel(&#39;SqlLog&#39;);\r\n\r\n        foreach($query_logs[&#39;log&#39;] as $log_q){\r\n            $query = $log_q[&#39;query&#39;];\r\n            if( stristr($query, &#39;INSERT &#39;) || stristr($query, &#39;UPDATE &#39;) || stristr($query, &#39;DELETE &#39;) ){\r\n\r\n                $q_data = array(\r\n                        &#39;query&#39;     =&gt; $query,\r\n                        &#39;page&#39;      =&gt; $this-&gt;Misc-&gt;getCurrentPageURL(),  // get the current page\r\n                        &#39;referrer&#39;  =&gt; trim(env(&#39;HTTP_REFERER&#39;)) == &#39;&#39; ? &#39;&#39; : env(&#39;HTTP_REFERER&#39;),\r\n                        &#39;ip&#39;        =&gt; env(&#39;REMOTE_ADDR&#39;),\r\n                        &#39;browser&#39;   =&gt; env(&#39;HTTP_USER_AGENT&#39;),\r\n                        &#39;user_id&#39;   =&gt; SessionComponent::check(&#39;Auth.User&#39;) ? SessionComponent::read(&#39;Auth.User.id&#39;) : 0,\r\n                        &#39;username&#39;  =&gt; SessionComponent::check(&#39;Auth.User&#39;) ? addslashes(SessionComponent::read(&#39;Auth.User.username&#39;)) : &#39;&#39;,\r\n                    );\r\n\r\n                $this-&gt;SqlLog-&gt;create();\r\n                $this-&gt;SqlLog-&gt;save($q_data);\r\n\r\n            }\r\n        }\r\n    } // end if query occured\r\n\r\n}\r\n\r\npublic function beforeRedirect(){\r\n    $this-&gt;__logQueries();\r\n}\r\n\r\npublic function afterFilter(){\r\n    $this-&gt;__logQueries();\r\n}</code></pre>\r\n\r\n<p>The insert, update and delete queries get logged when debug is set to 2, but how can I log those queries when debug is set to 0?</p>\r\n', 1, 1, 0, '2013-12-21 23:35:00', '2013-12-21 23:35:00'),
(7, 'comparing the date to the current date and displaying the appropriate date in cakephp', '<p>//controller logic for getting the date</p>\r\n\r\n<pre>\r\n<code>function new temp()\r\n       {\r\n         $date= $this-&gt;Profile-&gt;find(&#39;all&#39;,array(\r\n               //&#39;conditions&#39;=&gt;array(&#39;Profile.DOB+interval EXTRACT(YEAR FROM NOW())- EXTRACT(YEAR FROM Profile.DOB)YEAR &gt;= &#39;=&gt;date(&#39;Y-m-d&#39;)),\r\n               &#39;conditions&#39;=&gt;array(&#39;date(Profile.DOB+interval (EXTRACT(YEAR FROM NOW())- EXTRACT(YEAR FROM Profile.DOB))YEAR &gt;= &#39;=&gt;date(&#39;Y-m-d&#39;)),\r\n\r\n              &#39;fields&#39;=&gt;array(&#39;date(Profile.DOB+interval (EXTRACT(YEAR FROM NOW())- EXTRACT(YEAR FROM Profile.DOB))YEAR&#39;),\r\n             &#39;order&#39; =&gt; &#39;date(Profile.DOB+interval EXTRACT(YEAR FROM NOW())- EXTRACT(YEAR FROM Profile.DOB))YEAR&#39;,\r\n             &#39;limit&#39;=&gt;1\r\n          ));\r\n         for each ($date as $new)\r\n             {\r\n              $one= $new[&#39;Profile&#39;][&#39;DOB&#39;];\r\n             }\r\n         $data= $this-&gt;Profile-&gt;find(&#39;all&#39;,array(\r\n               &#39;conditions&#39;=&gt;array(&#39;date(Profile.DOB+interval (EXTRACT(YEAR FROM NOW())- EXTRACT(YEAR FROM Profile.DOB))YEAR) &gt;= &#39;=&gt;date($one))\r\n\r\n\r\n\r\n          ));\r\n         $this-&gt;set(&#39;one&#39;,$data);\r\n\r\n       }</code></pre>\r\n\r\n<p>can anyone help in this please.....</p>\r\n\r\n<p>this is MySQL query for getting the appropriate date,comparing with the current date to the date in the table..</p>\r\n\r\n<pre>\r\n<code>select * from profiles\r\n where\r\n date(date(DOB+interval (year(now())-year(DOB)) year))=\r\n (select (date(DOB+interval (year(now())-year(DOB)) year)) from profiles\r\n   where date(date(DOB+interval (year(now())-year(DOB)) year))&gt;=date(now()) \r\n        order by date(date(DOB+interval (year(now())-year(DOB)) year)) limit 1 );</code></pre>\r\n', 1, 1, 0, '2013-12-21 23:38:04', '2013-12-21 23:38:04'),
(8, 'Cannot use ''email'' field instead of ''username'' in OAuth2 Plugin for CakePHP', '<p><strong>Explanation:</strong></p>\r\n\r\n<p>Attempting to use this OAuth2 Plugin for CakePHP:</p>\r\n\r\n<p><a href="https://github.com/thomseddon/cakephp-oauth-server">https://github.com/thomseddon/cakephp-oauth-server</a></p>\r\n\r\n<p>Have followed the instructions, and am now going to this URL:</p>\r\n\r\n<pre>\r\n<code>http://mysite/oauth/login?response_type=code&amp;client_id=NGYcZDRjODcxYzFkY2Rk&amp;\r\n    redirect_url=http%3A%2F%2Fwww.return_url.com</code></pre>\r\n\r\n<p>(We had made a client in the database with the same info he used in the example)</p>\r\n\r\n<p>It brings up a log-in box for Email and Password, but fails authentication every time. I believe it&#39;s failing because by the time it gets to <a href="https://github.com/cakephp/cakephp/blob/master/lib/Cake/Controller/Component/Auth/FormAuthenticate.php">Cake&#39;s <code>FormAuthenticate-&gt;authenticate()</code> method</a>, the settings have reverted to <code>&#39;username&#39;=&gt;&#39;username&#39;</code> and <code>&#39;passwordHasher&#39;=&gt;&#39;Simple&#39;</code>.</p>\r\n\r\n<p>If we add these lines to the <a href="https://github.com/cakephp/cakephp/blob/master/lib/Cake/Controller/Component/Auth/FormAuthenticate.php">FormAuthenticate</a> (above <code>$fields = ...</code>):</p>\r\n\r\n<pre>\r\n<code>$this-&gt;settings[&#39;fields&#39;][&#39;username&#39;] = &#39;email&#39;;\r\n$this-&gt;settings[&#39;passwordHasher&#39;] = &#39;Blowfish&#39;;</code></pre>\r\n\r\n<p>Then the log-in works successfully.</p>\r\n\r\n<p><strong>Things We&#39;ve tried:</strong></p>\r\n\r\n<p>Putting this in our AppController, the <a href="https://github.com/thomseddon/cakephp-oauth-server/blob/master/Controller/OAuthAppController.php">OAuthAppController</a>, the <a href="https://github.com/thomseddon/cakephp-oauth-server/blob/master/Controller/OAuthController.php">OAuthController</a> (all in beforeFilter):</p>\r\n\r\n<pre>\r\n<code>$this-&gt;OAuth-&gt;authenticate = array(\r\n    &#39;userModel&#39; =&gt; &#39;Members&#39;,\r\n    &#39;fields&#39; =&gt; array(\r\n        &#39;username&#39; =&gt; &#39;email&#39;\r\n    )\r\n);</code></pre>\r\n\r\n<p>We&#39;ve tried changing it to the new format like 2.3 in all of those places, as well as in the initial $components array in my AppModel:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;OAuth-&gt;authenticate = array(\r\n    &#39;Form&#39; =&gt; array(\r\n        &#39;passwordHasher&#39; =&gt; &#39;Blowfish&#39;,\r\n        &#39;fields&#39; =&gt; array(&#39;username&#39;=&gt;&#39;email&#39;, &#39;password&#39;=&gt;&#39;password&#39;),\r\n    )\r\n);</code></pre>\r\n\r\n<p><strong>Closing:</strong></p>\r\n\r\n<p>At this point, I&#39;m looking for any way (other than modifying the actual CakePHP core) to get it to be able to log-in with <code>email</code> instead of <code>username</code> (and hopefully that will solve the same issue with having it revert from Blowfish to Simple as well.</p>\r\n\r\n<p>We&#39;ve already tried heavily modifying the OAuth Plugin (to no avail) and aren&#39;t opposed to trying that again, but we can&#39;t figure out what to change.</p>\r\n', 1, 1, 0, '2013-12-21 23:41:55', '2013-12-21 23:41:55'),
(9, 'exclude folder from rewrite - iis', '<p>There&#39;s a folder at domain.com/ssl that I need to post data to without a rewrite. Here&#39;s what I have below, but when I navigate to /ssl to check it I get 403 - Forbidden: Access is denied.</p>\r\n\r\n<p>What am I doing wrong?</p>\r\n\r\n<pre>\r\n<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;system.webServer&gt;\r\n        &lt;rewrite&gt;\r\n            &lt;rules&gt;\r\n\r\n                &lt;rule name=&quot;Rewrite requests to test.php&quot;\r\n                  stopProcessing=&quot;true&quot;&gt;\r\n                    &lt;match url=&quot;^test.php(.*)$&quot; ignoreCase=&quot;false&quot; /&gt;\r\n                    &lt;action type=&quot;Rewrite&quot; url=&quot;apps/rodeo/webroot/test.php{R:1}&quot; /&gt;\r\n                &lt;/rule&gt;\r\n                &lt;rule name=&quot;Exclude direct access to apps/rodeo/webroot/*&quot;\r\n                  stopProcessing=&quot;true&quot;&gt;\r\n                    &lt;match url=&quot;^apps/rodeo/webroot/(.*)$&quot; ignoreCase=&quot;false&quot; /&gt;\r\n                    &lt;action type=&quot;None&quot; /&gt;\r\n                &lt;/rule&gt;\r\n                &lt;rule name=&quot;Rewrite routed access to assets(img, css, files, js, favicon)&quot;\r\n                  stopProcessing=&quot;true&quot;&gt;\r\n                    &lt;match url=&quot;^(img|css|files|js|favicon.ico)(.*)$&quot; /&gt;\r\n                    &lt;action type=&quot;Rewrite&quot; url=&quot;app/webroot/{R:1}{R:2}&quot;\r\n                      appendQueryString=&quot;false&quot; /&gt;\r\n                &lt;/rule&gt;\r\n                &lt;rule name=&quot;Rewrite requested file/folder to index.php&quot;\r\n                  stopProcessing=&quot;true&quot;&gt;\r\n                    &lt;match url=&quot;^(.*)$&quot; ignoreCase=&quot;false&quot; /&gt;\r\n                        &lt;conditions&gt;\r\n                            &lt;add input=&quot;{REQUEST_URI}&quot; pattern=&quot;^/(ssl)&quot; negate=&quot;true&quot; /&gt;\r\n                        &lt;/conditions&gt;\r\n                    &lt;action type=&quot;Rewrite&quot; url=&quot;index.php&quot;\r\n                      appendQueryString=&quot;true&quot; /&gt;\r\n                &lt;/rule&gt;\r\n            &lt;/rules&gt;\r\n        &lt;/rewrite&gt;\r\n    &lt;/system.webServer&gt;\r\n&lt;/configuration&gt;</code></pre>\r\n', 1, 1, 0, '2013-12-22 13:23:16', '2013-12-22 13:23:16'),
(10, 'Controller Unit Test fails with SQLSTATE[42000] error', '<p>I want to unit test a controller action and have some problem toio excecute it. The Error i got is the following:</p>\r\n\r\n<blockquote>\r\n<p>SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;questionExists&#39; at line 1</p>\r\n</blockquote>\r\n\r\n<p>The Method:</p>\r\n\r\n<blockquote>\r\n<p>questionExists</p>\r\n</blockquote>\r\n\r\n<p>is defined inside the Question Model.</p>\r\n\r\n<p>My test function looks like this:</p>\r\n\r\n<pre>\r\n<code>public function testView() {\r\n        $result = $this-&gt;testAction(&#39;/questions/questions/view/1&#39;, array(&#39;return&#39; =&gt; &#39;vars&#39;));\r\n    }</code></pre>\r\n\r\n<p>The Controller action i want to test looks like this:</p>\r\n\r\n<p>public function view($id = null) {</p>\r\n\r\n<pre>\r\n<code>    if (!$this-&gt;Question-&gt;questionExists($id, &#39;id_virtual&#39;)) {\r\n        throw new NotFoundException(__(&#39;Invalid question&#39;));\r\n    }\r\n    $options = array(&#39;conditions&#39; =&gt; array(&#39;Question.id_virtual&#39; =&gt; $id));\r\n    $this-&gt;set(&#39;question&#39;, $this-&gt;Question-&gt;find(&#39;first&#39;, $options));\r\n}</code></pre>\r\n\r\n<p>So this is very confusing to me. Can anybody point me to the right direction ?</p>\r\n', 1, 1, 0, '2013-12-22 13:24:10', '2013-12-22 13:24:10'),
(11, 'In CakePHP validation, do I need a notEmpty rule if I have another rule like alphaNumeric and allowEmpty is false?', '<p>If I have a validation rule such as</p>\r\n\r\n<pre>\r\n<code>alphaNumeric&#39; =&gt; array(\r\n    &#39;rule&#39; =&gt; array(&#39;alphaNumeric&#39;),\r\n    &#39;allowEmpty&#39; =&gt; false),</code></pre>\r\n\r\n<p>Is there any need to have a notEmpty rule? As I understand it, the allowEmpty being set to false will consider empty values a violation of the alphaNumeric rule, so other than if I wanted to define two different error messages, is there any need for a notEmpty rule?</p>\r\n\r\n<p>(Another way to ask this question: is there some separate functionality that a standalone notEmpty rule would provide or be necessary for, other than to give a separate custom message, that I&#39;m not seeing?)</p>\r\n\r\n<hr />\r\n<p>To be perfectly clear: I understand that idea that notEmpty is a standalone rule, where allowEmpty is an attribute of a rule. That&#39;s not my question. My question is, is there any need or value to adding a notEmpty rule (other than the custom message that it would allow you to have for that rule), if you already have an alphaNumeric (or some other similar) rule you can just add allowEmpty = false to? Is there any difference in what the rule vs the attribute does, other than the rule being stand alone?</p>\r\n', 1, 1, 0, '2013-12-22 13:25:50', '2013-12-22 13:25:50'),
(12, 'How to get last id in cakephp', '<p>I am using query in cakephp</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Menu-&gt;query(&quot;INSERT INTO frd_menus SET menuName= &#39;&quot;.$_REQUEST[&#39;menuname&#39;].&quot;&#39;&quot;);</code></pre>\r\n\r\n<p>How to get last insert id of this query in cakephp? Please advice.</p>\r\n', 1, 1, 0, '2013-12-22 13:29:48', '2013-12-22 13:29:48'),
(13, 'How to use global variable in cakephp', '<p>this code</p>\r\n\r\n<pre>\r\n<code>class CircumstancesController extends AppController {\r\npublic $circumstances = array();\r\npublic function init() {\r\n        $this-&gt;circumstances = $this-&gt;getAllCircumstance();\r\n\r\n    }\r\n\r\n    //get all circumstances\r\n    public function getAllCircumstance() {\r\n        $arr_allcircumstance = $this-&gt;Circumstance-&gt;find(&#39;all&#39;, array(\r\n            &#39;recursive&#39; =&gt; -1\r\n        ));\r\n        return $arr_allcircumstance;\r\n    }\r\n    public function getCircumstances($circumstance) {\r\n        $arr_cir = $this-&gt;circumstances;\r\n\r\n        return $arr_cir;\r\n    }\r\n    public function data_matrix() {\r\n        pr($this-&gt;getCircumstances(3));\r\n\r\n    }\r\n}</code></pre>\r\n\r\n<p>i had a variable &quot;$circumstances&quot;(type array) when i call function data_matrix() then function result is NULL.</p>\r\n\r\n<pre>\r\n<code>$arr_cir = $this-&gt;circumstances;</code></pre>\r\n\r\n<p>why $arr_cir is null ??? thank all.</p>\r\n', 1, 1, 0, '2013-12-22 13:30:53', '2013-12-22 13:30:53'),
(14, 'how to get the date from the cakephp query', '<pre>\r\n<code>$date= $this-&gt;Profile-&gt;find(&#39;all&#39;,array(\r\n\r\n              &#39;conditions&#39;=&gt;array(&#39;date(Add date(DOB,interval (year(curdate())-year(DOB)) year))&gt;=date(now())&#39;),\r\n              &#39;fields&#39;=&gt;array(&#39;date(Add date(DOB,interval (year(curdate())-year(DOB)) year)&#39;),\r\n\r\n              &#39;limit&#39;=&gt;1,\r\n              &#39;order&#39;=&gt;&#39;date(Add date(DOB,interval (year(curdate())-year(DOB)) year))&#39;\r\n          ));</code></pre>\r\n\r\n<p>can anyone help me ....</p>\r\n\r\n<p>MySQL query:</p>\r\n\r\n<pre>\r\n<code>(select date(Adddate(dob,interval (year(curdate())-year(dob)) year)) \r\nfrom profiles\r\nwhere date(Adddate(dob,interval (year(curdate())-year(dob)) year))&gt;=date(now()) \r\norder by date(Adddate(dob,interval (year(curdate())-year(dob)) year)) limit 1 );</code></pre>\r\n', 1, 1, 0, '2013-12-22 13:33:03', '2013-12-22 13:33:03'),
(15, 'CakePHP - Two fields not being included in $this->data [on hold]', '<p>Please review the following gist noting the Output:</p>\r\n\r\n<p><a href="https://gist.github.com/beboobailey/30442c52a4cdaa2a06f9">https://gist.github.com/beboobailey/30442c52a4cdaa2a06f9</a></p>\r\n\r\n<p>The type and priority fields are not inside the Ticket array and I am curious as to why. I don&#39;t feel that the workaround of naming the field Ticket.type is appropriate as it should be working as expected. The fields are in the database and of the proper type (VARCHAR(15)).</p>\r\n\r\n<p>Can anyone shed some light onto this?</p>\r\n\r\n<p>Thanks!</p>\r\n', 1, 1, 0, '2013-12-22 13:34:24', '2013-12-22 13:34:24'),
(16, 'Difference Between Code Ignitor, Cake Php,zend, Ruby on rails, Wordpress and Joomla [on hold]', '<p>I am into core php development and want to switch to something that is prevailing in market and provide growth. can any one please clear my doubts on:- Difference Between Code Ignitor, Cake Php,zend, Ruby on rails, Wordpress and Joomla</p>\r\n\r\n<p>Thanks For Your Help</p>\r\n', 1, 1, 0, '2013-12-22 13:36:52', '2013-12-22 13:36:52'),
(17, 'CakePHP and conditions', '<p>So in my controller <code>MenuController.php</code> I have the following code:</p>\r\n\r\n<pre>\r\n<code>class MenuController extends AppController {\r\n\r\n     public $helpers = array(&#39;Html&#39;, &#39;Form&#39;);\r\n\r\n     public function index() {\r\n\r\n        $this-&gt;set(&#39;menus&#39;, $this-&gt;Menu-&gt;find(&#39;all&#39;));\r\n\r\n        $userSpecific = $this-&gt;Menu-&gt;find(&#39;all&#39;, array(\r\n            &#39;conditions&#39; =&gt; array(&#39;Menu.user_id&#39; =&gt; &#39;20&#39;)\r\n        ));\r\n     }\r\n\r\n}</code></pre>\r\n\r\n<p>and in my view, I am doing the following:</p>\r\n\r\n<pre>\r\n<code>&lt;?php foreach ($menus as $menu): ?&gt;\r\n\r\n    &lt;?php echo $menu[&#39;Menu&#39;][&#39;id&#39;]; ?&gt;\r\n    &lt;?php echo $menu[&#39;Menu&#39;][&#39;user_id&#39;]; ?&gt;\r\n\r\n&lt;?php endforeach; ?&gt;</code></pre>\r\n\r\n<p><em>update</em></p>\r\n\r\n<p>To better understand this in my browser I changed my view to the following:</p>\r\n\r\n<pre>\r\n<code>&lt;?php foreach ($menus as $menu): ?&gt;\r\n\r\n&lt;p&gt;Menu id &lt;?php echo $menu[&#39;Menu&#39;][&#39;id&#39;]; ?&gt; is for user: &lt;?php echo $menu[&#39;Menu&#39;][&#39;user_id&#39;]; ?&gt;&lt;/p&gt;\r\n\r\n&lt;?php endforeach; ?&gt;</code></pre>\r\n\r\n<p><em>end update</em></p>\r\n\r\n<p>Now in the view, it is currently using the <code>$this</code> and returning all values from the database table, How do I change the view to use <code>$userSpecific</code> rather than <code>$this</code> I managed to get this far (making the <code>$userSpecific</code> part) by using the <a href="http://book.cakephp.org/2.0/en/models/retrieving-your-data.html#find-list">cookbook</a> but I could only find the controller side and not the view side. I&#39;m sorry if it&#39;s a bad question, just trying to learn.</p>\r\n', 1, 1, 0, '2013-12-22 13:38:21', '2013-12-22 13:38:21'),
(18, 'Turn off notices in cakePHP', '<p>I am new with cakePHP. I facing issue with notice on live server. I want to suppress or turn off these notices. I have tried adding,</p>\r\n\r\n<pre>\r\n<code>error_reporting(E_ALL ^ E_NOTICE ^ E_WARNING ^ E_DEPRECATED);</code></pre>\r\n\r\n<p>in the <em>index.php</em> file in main folder. Also added same in <em>bootstrap.php</em> file but no luck. Can anybody suggest me how I can do this.</p>\r\n', 1, 1, 0, '2013-12-22 13:39:10', '2013-12-22 13:39:10'),
(19, ' Form submission not saving on Firefox', '<p>I have this project that saved just fine when I used Chrome or IE but when I used Firefox it appeared to stop working when I submitted a form. I use a SchedulesController, call edit_member, and I used JsHelper to call another action, edit_test. In edit_test, I used JsHelper to submit the form.</p>\r\n\r\n<p>edit_member view file:</p>\r\n\r\n<pre>\r\n<code>echo $this-&gt;Form-&gt;create(&#39;Schedule&#39;, array(&#39;id&#39;=&gt;&quot;ScheduleEditMemberForm&quot;, &#39;action&#39; =&gt; &#39;edit_member&#39;,$id,&#39;default&#39; =&gt; false));\r\n        $data = $this-&gt;Js-&gt;get(&quot;#ScheduleEditMemberForm&quot;)-&gt;serializeForm(array(&#39;isForm&#39; =&gt; true, &#39;inline&#39; =&gt; true));\r\n        $this-&gt;Js-&gt;get(&quot;#ScheduleEditMemberForm&quot;)-&gt;event(\r\n            &#39;submit&#39;,\r\n            $this-&gt;Js-&gt;request(\r\n                array(&#39;action&#39; =&gt; &#39;edit_test&#39;,$id,$userId),\r\n                    array(\r\n                        &#39;update&#39; =&gt; &#39;#s&#39;,\r\n                        &#39;data&#39; =&gt; $data,\r\n                        &#39;async&#39; =&gt; true,    \r\n                        &#39;dataExpression&#39;=&gt;true,\r\n                        &#39;method&#39; =&gt; &#39;POST&#39;,\r\n\r\n                    )\r\n                )\r\n        );\r\n    echo $this-&gt;Form-&gt;input(&#39;dates&#39;, \r\n        array(\r\n            &#39;id&#39;=&gt;&#39;datepicker&#39;,\r\n            &#39;type&#39;=&gt;&#39;text&#39;,\r\n            &#39;label&#39; =&gt; &#39;Work Date&#39;,                    \r\n        ));\r\n    echo $this-&gt;Form-&gt;end(&#39;Start&#39;);</code></pre>\r\n\r\n<p>edit_test</p>\r\n\r\n<pre>\r\n<code>$data = $this-&gt;Js-&gt;get(&quot;#ScheduleEditTestForm&quot;)-&gt;serializeForm(array(&#39;isForm&#39; =&gt; true, &#39;inline&#39; =&gt; true));\r\n    $this-&gt;Js-&gt;get(&quot;#ScheduleEditTestForm&quot;)-&gt;event(\r\n            &#39;submit&#39;,\r\n            $this-&gt;Js-&gt;request(\r\n                array(&#39;action&#39; =&gt; &#39;compute&#39;,$id,$userId),\r\n                    array(\r\n                        &#39;update&#39; =&gt; &#39;#s&#39;,\r\n                        &#39;data&#39; =&gt; $data,\r\n                        &#39;async&#39; =&gt; true,    \r\n                        &#39;dataExpression&#39;=&gt;true,\r\n                        &#39;method&#39; =&gt; &#39;POST&#39;,\r\n                        &#39;div&#39; =&gt; false\r\n                    )\r\n                )\r\n        );\r\n    echo $this-&gt;Form-&gt;create(&#39;Schedule&#39;, array(&#39;action&#39; =&gt; &#39;edit_test&#39;,$id,$userId));</code></pre>\r\n\r\n<p>In edit_test, I&#39;m calling compute action to save data on the database, but I don&#39;t know why it can&#39;t save when using Firefox. I also added this on my view file:</p>\r\n\r\n<pre>\r\n<code>echo $this-&gt;Js-&gt;writeBuffer();</code></pre>\r\n\r\n<p>I hope someone knows about this situation, and can help me.</p>\r\n\r\n<p>CakePHP 2.</p>\r\n', 1, 1, 0, '2013-12-22 13:43:51', '2013-12-22 13:43:51'),
(20, ' CakePHP - Saving data in multiple tables', '<p>My site&#39;s structure is like this:</p>\r\n\r\n<p>1 <code>User</code> hasOne <code>UserAccount</code>, with <code>user_id</code> as foreign key.</p>\r\n\r\n<p>2 <code>UserAccount</code> hasOne <code>PrivateProfile</code>, with <code>user_account_id</code> as foreign key.</p>\r\n\r\n<p>3 <code>UserAccount</code> hasMany <code>StudyProfiles</code>, with <code>user_account_id</code> as foreign key.</p>\r\n\r\n<p>4 <code>UserAccount</code> hasMany <code>LanguageProfiles</code>, with <code>user_account_id</code> as foreign key.</p>\r\n\r\n<p>At first, I create a <code>User</code> entry to the database along with <code>UserAccount</code>, through <code>saveAssociated()</code> and the correspondent form. Everything&#39;s ok, I&#39;ve got both entries created in my database.</p>\r\n\r\n<p>But then I want to add some info like a <code>PrivateProfile</code> and a couple of <code>LanguageProfiles</code>, again through a form. I&#39;ve created a function inside <code>UserAccountsController</code> with:</p>\r\n\r\n<pre>\r\n<code> public function new_personal() {\r\n    if ($this-&gt;request-&gt;is(&#39;post&#39;)) {\r\n        if (!empty($this-&gt;request-&gt;data)) {\r\n            unset($this-&gt;UserAccount-&gt;PrivateProfile-&gt;validate[&#39;user_account_id&#39;]);\r\n            $this-&gt;UserAccount-&gt;saveAll($this-&gt;request-&gt;data, array(&#39;deep&#39; =&gt; true));\r\n            $this-&gt;Session-&gt;setFlash(__(&#39;Success&#39;));\r\n            return $this-&gt;redirect(array(&#39;action&#39; =&gt; &#39;index&#39;));\r\n        }\r\n        $this-&gt;Session-&gt;setFlash(__(&#39;Error&#39;));\r\n    }\r\n}</code></pre>\r\n\r\n<p>I suppose that I&#39;m doing something wrong, because these new entries are not being created. Someone could give me a clue? Thanks!</p>\r\n', 1, 1, 0, '2013-12-22 13:45:47', '2013-12-22 13:45:47'),
(21, 'Moved CakePHP from mac to windows and model isn''t loading', '<p>I&#39;m trying to move my CakePHP setup from a mac to a windows machine. I&#39;m now running WAMP instead of MAMP on my local machine. When I try to submit a form that calls a controller function, it gives me the following error (which supposedly is called &quot;Error 500&quot; and is thrown for everything):</p>\r\n\r\n<pre>\r\n<code>Error: An Internal Error Has Occurred.</code></pre>\r\n\r\n<p>The first line in the stack trace points to this line in my VariantsController.php:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;loadModel(&#39;Variant&#39;);</code></pre>\r\n\r\n<p><br />\r\n<strong>Here are all the debugging things I&#39;ve tried:</strong></p>\r\n\r\n<p>If I comment out that line, the stack trace points to the line in <code>core/cake/controller/controller.php</code> which calls <code>$this-&gt;loadModel</code> on <code>&#39;Variant&#39;</code>. No help there.</p>\r\n\r\n<p>If I add the line <code>die(pr($this-&gt;Variant));</code> as the first line of my function, nothing changes.</p>\r\n\r\n<p>If I replace my <code>home.ctp</code> with the <code>home.ctp</code> that originally comes with cake (and has lots of debugging info), it says everything is working and mysql is connecting to the server. However, it&#39;s not showing any colors or CSS styles. (That might just be because I am using a TwitterBootstrap plugin for CSS and it got confused. CSS is working on my normal homepage.)</p>\r\n\r\n<p>My app/tmp/cache/models folder has just one empty document (I deleted two other files, but it didn&#39;t help).</p>\r\n\r\n<p>Anything else I could try?</p>\r\n', 1, 1, 0, '2013-12-22 13:46:31', '2013-12-22 13:46:31'),
(22, 'Simplify an associative array', '<p>I&#39;m hitting an api built using CakePHP. Cake returns its objects like this:</p>\r\n\r\n<pre>\r\n<code>[\r\n    {\r\n        &quot;Note&quot;: {\r\n            &quot;id&quot;: &quot;1&quot;,\r\n            &quot;clas&quot;: &quot;test&quot;,\r\n            &quot;obj_id&quot;: null,\r\n            &quot;note&quot;: &quot;test&quot;\r\n        }\r\n    },\r\n    {\r\n        &quot;Note&quot;: {\r\n            &quot;id&quot;: &quot;2&quot;,\r\n            &quot;clas&quot;: &quot;another&quot;,\r\n            &quot;obj_id&quot;: null,\r\n            &quot;note&quot;: &quot;another&quot;\r\n        }\r\n    }\r\n]</code></pre>\r\n\r\n<p>What I want to do is take that result and basically get rid of the keys. Something like this:</p>\r\n\r\n<pre>\r\n<code>[\r\n    {\r\n            &quot;id&quot;: &quot;1&quot;,\r\n            &quot;clas&quot;: &quot;test&quot;,\r\n            &quot;obj_id&quot;: null,\r\n            &quot;note&quot;: &quot;test&quot;\r\n    },\r\n    {\r\n            &quot;id&quot;: &quot;2&quot;,\r\n            &quot;clas&quot;: &quot;another&quot;,\r\n            &quot;obj_id&quot;: null,\r\n            &quot;note&quot;: &quot;another&quot;\r\n    }\r\n]</code></pre>\r\n\r\n<p>I&#39;m basically just trying to make it easier to reference this in Angular. I need to do this on the client side. Any ideas?</p>\r\n', 1, 1, 0, '2013-12-22 13:47:11', '2013-12-22 13:47:11'),
(23, ' CakePhP association not displaying as expected', '<p>I am new to Cakephp and I am having trouble with the following association. What I am after is listing Parts in a table, along with their associated Source vendor. So in the View/index.ctp the table I am currently getting is</p>\r\n\r\n<pre>\r\n<code>ID    Source     Part #\r\n1       1        Part00001</code></pre>\r\n\r\n<p>but I would like the association to display</p>\r\n\r\n<pre>\r\n<code>ID    Source     Part #\r\n1     Vendor 1   Part00001</code></pre>\r\n\r\n<p>where the Source.name is from the mstr_sources db table, not the mstr_parts table. Below are snippets from all the pertinent code</p>\r\n\r\n<pre>\r\n<code>class MstrPart extends AppModel {\r\n    public $name = &#39;MstrPart&#39;;\r\n    public $belongsTo = &#39;MstrSource&#39;;\r\n}\r\n\r\nclass MstrPartsController extends AppController {\r\n    public function index() {\r\n        $this-&gt;set(&#39;parts&#39;, $this-&gt;paginate());\r\n    }\r\n}\r\n\r\n// &lt;!-- File: /app/View/Users/index.ctp --&gt;\r\n&lt;?php foreach ($parts as $part): ?&gt;\r\n&lt;tr&gt;\r\n    &lt;td&gt;&lt;?php echo $part[&#39;MstrPart&#39;][&#39;id&#39;]; ?&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;?php echo $part[&#39;MstrPart&#39;][&#39;mstr_source_id&#39;][&#39;name&#39;]; ?&gt;&lt;/td&gt;\r\n    //Also tried the following, still fails\r\n    //&lt;td&gt;&lt;?php echo $part[&#39;MstrPart&#39;][&#39;MstrSource&#39;][&#39;name&#39;]; ?&gt;&lt;/td&gt;\r\n    &lt;td&gt;&lt;?php echo $part[&#39;MstrPart&#39;][&#39;name&#39;]; ?&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n\r\n//  Output of the error message context.\r\n$viewFile = &#39;C:\\Dev\\UniServerZ\\www\\campman\\app\\View\\MstrParts\\index.ctp&#39;\r\n$dataForView = array(\r\n    &#39;parts&#39; =&gt; array(\r\n        (int) 0 =&gt; array(\r\n            &#39;MstrPart&#39; =&gt; array(\r\n                [maximum depth reached]\r\n            ),\r\n            &#39;MstrSource&#39; =&gt; array(\r\n                [maximum depth reached]\r\n            )\r\n        )\r\n    )\r\n)\r\n$parts = array(\r\n    (int) 0 =&gt; array(\r\n        &#39;MstrPart&#39; =&gt; array(\r\n        &#39;id&#39; =&gt; &#39;1&#39;,\r\n        &#39;mstr_source_id&#39; =&gt; &#39;1&#39;,\r\n        &#39;created&#39; =&gt; &#39;2013-12-18 16:10:35&#39;,\r\n        &#39;modified&#39; =&gt; &#39;2013-12-18 16:10:35&#39;,\r\n        &#39;name&#39; =&gt; &#39;Part00001&#39;,\r\n        &#39;description&#39; =&gt; &#39;Just some basic text, not the real thing.&#39;\r\n        ),\r\n        &#39;MstrSource&#39; =&gt; array(\r\n            &#39;id&#39; =&gt; &#39;1&#39;,\r\n            &#39;created&#39; =&gt; &#39;2013-12-19 12:23:22&#39;,\r\n            &#39;modified&#39; =&gt; &#39;2013-12-19 12:23:22&#39;,\r\n            &#39;name&#39; =&gt; &#39;Vendor 1&#39;\r\n        )\r\n    )\r\n)\r\n$part = array(\r\n    &#39;MstrPart&#39; =&gt; array(\r\n        &#39;id&#39; =&gt; &#39;1&#39;,\r\n        &#39;mstr_source_id&#39; =&gt; &#39;1&#39;,\r\n        &#39;created&#39; =&gt; &#39;2013-12-18 16:10:35&#39;,\r\n        &#39;modified&#39; =&gt; &#39;2013-12-18 16:10:35&#39;,\r\n        &#39;name&#39; =&gt; &#39;Part00001&#39;,\r\n        &#39;description&#39; =&gt; &#39;Just some basic text, not the real thing.&#39;\r\n    ),\r\n    &#39;MstrSource&#39; =&gt; array(\r\n        &#39;id&#39; =&gt; &#39;1&#39;,\r\n        &#39;created&#39; =&gt; &#39;2013-12-19 12:23:22&#39;,\r\n        &#39;modified&#39; =&gt; &#39;2013-12-19 12:23:22&#39;,\r\n        &#39;name&#39; =&gt; &#39;Vendor 1&#39;\r\n    )\r\n)\r\ninclude - APP\\View\\MstrParts\\index.ctp, line 35\r\nView::_evaluate() - CORE\\Cake\\View\\View.php, line 929\r\nView::_render() - CORE\\Cake\\View\\View.php, line 891\r\nView::render() - CORE\\Cake\\View\\View.php, line 460\r\nController::render() - CORE\\Cake\\Controller\\Controller.php, line 952\r\nDispatcher::_invoke() - CORE\\Cake\\Routing\\Dispatcher.php, line 192\r\nDispatcher::dispatch() - CORE\\Cake\\Routing\\Dispatcher.php, line 160\r\n[main] - APP\\webroot\\index.php, line 108</code></pre>\r\n\r\n<p>Is there something obvious that I am missing?</p>\r\n', 1, 1, 0, '2013-12-22 13:48:12', '2013-12-22 13:48:12');
INSERT INTO `questions` (`id`, `title`, `question`, `user_id`, `is_verified`, `is_active`, `created`, `modified`) VALUES
(24, 'CSV Export including row from other table', '<p>I am trying to export to a CSV in CakePHP, please bare with me as I am new to Cake and have been asked to do this on short notice.</p>\r\n\r\n<p>Basically the problem that I am having is, the database is split down into multiple tables. One for a product, one for artists and one for users.</p>\r\n\r\n<p>It is all working well apart from the fact that the Email addresses for the artists are stored in the users table, I would like these to be included in the export. I have tried adding in the appropriate header for the column (csv) and then adding the $result[&#39;Users&#39;][&#39;username&#39;], Row that can be seen in my full function below, however it leaves the Email fields blank. Please help!</p>\r\n\r\n<pre>\r\n<code>function export($event_id)\r\n{\r\n    $this-&gt;layout = &#39;blank_layout&#39;;\r\n\r\n    ini_set(&#39;max_execution_time&#39;, 600); //increase max_execution_time to 10 min if data set is very large\r\n\r\n    //create a file\r\n    $filename = &quot;export_&quot;.date(&quot;Y.m.d&quot;).&quot;.csv&quot;;\r\n    $csv_file = fopen(&#39;php://output&#39;, &#39;w&#39;);\r\n\r\n    header(&#39;Content-type: application/csv&#39;);\r\n    header(&#39;Content-Disposition: attachment; filename=&quot;&#39;.$filename.&#39;&quot;&#39;);\r\n\r\n    $results = $this-&gt;Sculpture-&gt;find(&#39;all&#39;, array(&#39;conditions&#39; =&gt; array(&#39;event_id&#39; =&gt;       $event_id), &#39;order&#39; =&gt; &#39;artist_id&#39;));\r\n\r\n    // The column headings of your .csv file\r\n    $header_row = array(\r\n        &quot;Artist&quot;,\r\n        &quot;Email&quot;,\r\n        &quot;Sculpture&quot;, \r\n        &quot;Materials&quot;, \r\n        &quot;Description&quot;,\r\n        &quot;Price&quot;,\r\n        &quot;Notes&quot;\r\n        );\r\n    fputcsv($csv_file,$header_row,&#39;,&#39;,&#39;&quot;&#39;);\r\n\r\n// Each iteration of this while loop will be a row in your .csv file where each field corresponds to the heading of the column\r\n    foreach($results as $result)\r\n    {\r\n    // Array indexes correspond to the field names in your db table(s)\r\n        $row = array(\r\n        $result[&#39;Artist&#39;][&#39;name&#39;],\r\n        $result[&#39;Users&#39;][&#39;username&#39;],\r\n        $result[&#39;Sculpture&#39;][&#39;title&#39;],\r\n        $result[&#39;Sculpture&#39;][&#39;materials&#39;],\r\n        $result[&#39;Sculpture&#39;][&#39;description&#39;],\r\n        $result[&#39;Sculpture&#39;][&#39;price&#39;],\r\n        $result[&#39;Sculpture&#39;][&#39;notes&#39;],\r\n    );\r\n\r\n    fputcsv($csv_file,$row,&#39;,&#39;,&#39;&quot;&#39;);\r\n    }\r\n\r\n    fclose($csv_file);\r\n}</code></pre>\r\n\r\n<p>Sculpture Model</p>\r\n\r\n<pre>\r\n<code>    &lt;?php\r\nApp::uses(&#39;AppModel&#39;, &#39;Model&#39;);\r\n/**\r\n * Sculpture Model\r\n *\r\n * @property Artist $Artist\r\n * @property Event $Event\r\n */\r\nclass Sculpture extends AppModel {\r\n\r\n/**\r\n * Validation rules\r\n *\r\n * @var array\r\n */\r\n    public $validate = array(\r\n    &#39;artist_id&#39; =&gt; array(\r\n        &#39;numeric&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;numeric&#39;),\r\n            //&#39;message&#39; =&gt; &#39;Your custom message here&#39;,\r\n            //&#39;allowEmpty&#39; =&gt; false,\r\n            //&#39;required&#39; =&gt; false,\r\n            //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n            //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n        ),\r\n    ),\r\n    &#39;event_id&#39; =&gt; array(\r\n        &#39;numeric&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;numeric&#39;),\r\n            //&#39;message&#39; =&gt; &#39;Your custom message here&#39;,\r\n            //&#39;allowEmpty&#39; =&gt; false,\r\n            //&#39;required&#39; =&gt; false,\r\n            //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n            //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n        ),\r\n    ),\r\n    &#39;title&#39; =&gt; array(\r\n        &#39;notempty&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;notempty&#39;),\r\n            &#39;message&#39; =&gt; &#39;Please tell us the name of your sculpture&#39;,\r\n            &#39;allowEmpty&#39; =&gt; true,\r\n            &#39;required&#39; =&gt; false,\r\n            //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n            //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n        ),\r\n    ),\r\n    &#39;materials&#39; =&gt; array(\r\n        &#39;notempty&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;notempty&#39;),\r\n            &#39;message&#39; =&gt; &#39;Please tell us the materials used in this sculpture&#39;,\r\n            &#39;allowEmpty&#39; =&gt; true,\r\n            &#39;required&#39; =&gt; false,\r\n            //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n            //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n        ),\r\n    ),\r\n    &#39;price&#39; =&gt; array(\r\n        &#39;money&#39; =&gt; array(\r\n             &#39;rule&#39;    =&gt; array(&#39;numeric&#39;),\r\n            &#39;message&#39; =&gt; &#39;Please include the price of your sculpture.&#39;\r\n            //&#39;message&#39; =&gt; &#39;Your custom message here&#39;,\r\n            //&#39;allowEmpty&#39; =&gt; false,\r\n            //&#39;required&#39; =&gt; false,\r\n            //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n            //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n        ),\r\n    )\r\n);\r\n\r\npublic function beforeValidate()\r\n{\r\n    //$p = $this-&gt;data[&#39;Sculpture&#39;][&#39;price&#39;];\r\n\r\n    // Get decimal place if available\r\n    //$dec = substr(, $start)\r\n\r\n    $this-&gt;data[&#39;Sculpture&#39;][&#39;price&#39;] = preg_replace(&quot;/[^0-9.]/&quot;, &#39;&#39;, $this-&gt;data[&#39;Sculpture&#39;][&#39;price&#39;]);\r\n    return true;\r\n}\r\n//The Associations below have been created with all possible keys, those that are not needed can be removed\r\n\r\n/**\r\n * belongsTo associations\r\n *\r\n * @var array\r\n */\r\npublic $belongsTo = array(\r\n    &#39;Artist&#39; =&gt; array(\r\n        &#39;className&#39; =&gt; &#39;Artist&#39;,\r\n        &#39;foreignKey&#39; =&gt; &#39;artist_id&#39;,\r\n        &#39;conditions&#39; =&gt; &#39;&#39;,\r\n        &#39;fields&#39; =&gt; &#39;&#39;,\r\n        &#39;order&#39; =&gt; &#39;&#39;\r\n    ),\r\n    &#39;Event&#39; =&gt; array(\r\n        &#39;className&#39; =&gt; &#39;Event&#39;,\r\n        &#39;foreignKey&#39; =&gt; &#39;event_id&#39;,\r\n        &#39;conditions&#39; =&gt; &#39;&#39;,\r\n        &#39;fields&#39; =&gt; &#39;&#39;,\r\n        &#39;order&#39; =&gt; &#39;&#39;\r\n    )\r\n);\r\n\r\n\r\n/**\r\n * hasAndBelongsToMany associations\r\n *\r\n * @var array\r\n */\r\npublic $hasAndBelongsToMany = array(\r\n    &#39;MediaFile&#39; =&gt; array(\r\n            &#39;className&#39; =&gt; &#39;MediaFile&#39;,\r\n            &#39;joinTable&#39; =&gt; &#39;sculptures_media_files&#39;,\r\n            &#39;foreignKey&#39; =&gt; &#39;sculpture_id&#39;,\r\n            &#39;associationForeignKey&#39; =&gt; &#39;media_file_id&#39;,\r\n            &#39;unique&#39; =&gt; &#39;keepExisting&#39;,\r\n            &#39;conditions&#39; =&gt; &#39;&#39;,\r\n            &#39;fields&#39; =&gt; &#39;&#39;,\r\n            &#39;order&#39; =&gt; &#39;&#39;,\r\n            &#39;limit&#39; =&gt; &#39;&#39;,\r\n            &#39;offset&#39; =&gt; &#39;&#39;,\r\n            &#39;finderQuery&#39; =&gt; &#39;&#39;,\r\n            &#39;deleteQuery&#39; =&gt; &#39;&#39;,\r\n            &#39;insertQuery&#39; =&gt; &#39;&#39;\r\n    )\r\n);\r\n\r\n}</code></pre>\r\n\r\n<p>NEW Error report</p>\r\n\r\n<pre>\r\n<code>$this-&gt;loadModel(&#39;Artist&#39;);\r\n    $artist = $this-&gt;Artist-&gt;find(&#39;first&#39;, array(&#39;conditions&#39; =&gt; array(&#39;Artist.user_id&#39; =&gt;        $this-&gt;Auth-&gt;user(&#39;id&#39;))));\r\n    $this-&gt;set(&#39;artist_id&#39;, $artist[&#39;Artist&#39;][&#39;id&#39;]);\r\nEventsController::view() - APP/Controller/EventsController.php, line 78\r\nReflectionMethod::invokeArgs() - [internal], line ??\r\nController::invokeAction() - CORE/Cake/Controller/Controller.php, line 486\r\nDispatcher::_invoke() - CORE/Cake/Routing/Dispatcher.php, line 187\r\nDispatcher::dispatch() - CORE/Cake/Routing/Dispatcher.php, line 162\r\n[main] - APP/webroot/index.php, line 92</code></pre>\r\n\r\n<p>NEW NEW ERROR From Sculpture Model $results = $this-&gt;Sculpture-&gt;find(&#39;all&#39;, array(&#39;conditions&#39; =&gt; array(&#39;event_id&#39; =&gt; $event_id), &#39;order&#39; =&gt; &#39;artist_id&#39;, &#39;recursive&#39; =&gt; 2));</p>\r\n\r\n<pre>\r\n<code>    debug($results); die();</code></pre>\r\n\r\n<p>The New error $this-&gt;loadModel(&#39;Artist&#39;); $artist = $this-&gt;Artist-&gt;find(&#39;first&#39;, array(&#39;conditions&#39; =&gt; array(&#39;Artist.user_id&#39; =&gt; $this-&gt;Auth-&gt;user(&#39;id&#39;)))); $this-&gt;set(&#39;artist_id&#39;, $artist[&#39;Artist&#39;][&#39;id&#39;]); EventsController::view() - APP/Controller/EventsController.php, line 78 ReflectionMethod::invokeArgs() - [internal], line ?? Controller::invokeAction() - CORE/Cake/Controller/Controller.php, line 486 Dispatcher::_invoke() - CORE/Cake/Routing/Dispatcher.php, line 187 Dispatcher::dispatch() - CORE/Cake/Routing/Dispatcher.php, line 162 [main] - APP/webroot/index.php, line 92</p>\r\n\r\n<p><strong>/app/Controller/SculpturesController.php</strong> (line <strong>70</strong>) array( (int) 0 =&gt; array( &#39;Sculpture&#39; =&gt; array( &#39;id&#39; =&gt; &#39;462&#39;, &#39;artist_id&#39; =&gt; &#39;1&#39;, &#39;event_id&#39; =&gt; &#39;1&#39;, &#39;title&#39; =&gt; &#39;&#39;, &#39;materials&#39; =&gt; &#39;&#39;, &#39;description&#39; =&gt; &#39;&#39;, &#39;edition&#39; =&gt; &#39;&#39;, &#39;price&#39; =&gt; &#39;0.00&#39;, &#39;vat&#39; =&gt; false, &#39;media_file_id&#39; =&gt; &#39;0&#39;, &#39;delivery&#39; =&gt; &#39;2013-12-16&#39;, &#39;notes&#39; =&gt; &#39;&#39;, &#39;created&#39; =&gt; &#39;2013-12-16 12:52:14&#39;, &#39;modified&#39; =&gt; &#39;2013-12-16 12:52:14&#39; ), &#39;Artist&#39; =&gt; array( &#39;id&#39; =&gt; &#39;1&#39;, &#39;name&#39; =&gt; &#39;Amanda Noble&#39;, &#39;website&#39; =&gt; &#39;www.thefusedgarden.co.uk&#39;, &#39;materials&#39; =&gt; &#39;Glass and stainless steel&#39;, &#39;location&#39; =&gt; &#39;Northants&#39;, &#39;created&#39; =&gt; &#39;2013-04-30 14:53:25&#39;, &#39;modified&#39; =&gt; &#39;2013-07-09 15:21:53&#39;, &#39;user_id&#39; =&gt; &#39;11&#39;, &#39;User&#39; =&gt; array( &#39;password&#39; =&gt; &#39;<strong>*</strong>&#39;, &#39;id&#39; =&gt; &#39;11&#39;, &#39;username&#39; =&gt; &#39;noblept@aol.co.uk&#39;, &#39;role_id&#39; =&gt; &#39;4&#39;, &#39;created&#39; =&gt; &#39;2013-07-01 15:26:40&#39;, &#39;modified&#39; =&gt; &#39;2013-07-01 15:26:40&#39; ), &#39;Sculpture&#39; =&gt; array( (int) 0 =&gt; array( &#39;id&#39; =&gt; &#39;138&#39;, &#39;artist_id&#39; =&gt; &#39;1&#39;, &#39;event_id&#39; =&gt; &#39;2&#39;, &#39;title&#39; =&gt; &#39;Midsummer Blue&#39;, &#39;materials&#39; =&gt; &#39;Glass &amp; Stainless Steel&#39;, &#39;description&#39; =&gt; &#39;One of 3 fused glass panels. sold either as a single panel or as a set of 3&#39;, &#39;edition&#39; =&gt; &#39;&#39;, &#39;price&#39; =&gt; &#39;144.00&#39;, &#39;vat&#39; =&gt; false, &#39;media_file_id&#39; =&gt; &#39;0&#39;, &#39;delivery&#39; =&gt; &#39;2013-07-28&#39;, &#39;notes&#39; =&gt; &#39;When sold as a set of three the price is 10% lower. We will arrive AM, but will not require assistance to install our sculptures&#39;, &#39;created&#39; =&gt; &#39;2013-07-09 15:06:56&#39;, &#39;modified&#39; =&gt; &#39;2013-07-09 15:21:07&#39; ), (int) 1 =&gt; array( &#39;id&#39; =&gt; &#39;159&#39;, &#39;artist_id&#39; =&gt; &#39;1&#39;, &#39;event_id&#39; =&gt; &#39;2&#39;, &#39;title&#39; =&gt; &#39;Blue evening&#39;, &#39;materials&#39; =&gt; &#39;Glass and Stainless Seel&#39;, &#39;description&#39; =&gt; &#39;One of 3 fused glass panels sold either as a single panel or as a set of 3 ( the other 2 are Midsummer Blue and Blue Haze )&#39;, &#39;edition&#39; =&gt; &#39;&#39;, &#39;price&#39; =&gt; &#39;128.00&#39;, &#39;vat&#39; =&gt; false, &#39;media_file_id&#39; =&gt; &#39;0&#39;, &#39;delivery&#39; =&gt; &#39;2013-07-29&#39;, &#39;notes&#39; =&gt; &#39;Each panel is unique as no piece of fused glass will ever be identical, but it is possible to create a similar, but not exact replica of any panel. The images shown are of a similar sets, but the actual exhibits are still in the process of creation and an image is not available.&#39;, &#39;created&#39; =&gt; &#39;2013-07-09 15:30:53&#39;, &#39;modified&#39; =&gt; &#39;2013-07-09 16:31:17&#39; ),</p>\r\n', 1, 1, 0, '2013-12-22 13:50:03', '2013-12-22 13:50:03'),
(25, 'ajax pagination in cakephp , can''t know how to use it', '<p>how to use ajax pagination in cakephp .I&#39;m also using search the database by the keywords also.. data only matches with keyword shoud be displayed in pagination how to use ajax pagination in cakephp .I&#39;m also using search the database by the keywords also.. data only matches with keyword shoud be displayed in pagination</p>\r\n', 1, 1, 0, '2013-12-22 13:52:01', '2013-12-22 13:52:01'),
(26, 'how to get only year from date using Distinct from mysql in cakephp', '<p>Check the code below:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;set(&#39;hi&#39;, $this-&gt;posts-&gt;find(&#39;all&#39;,\r\narray(&#39;fields&#39;=&gt;array(&#39;DISTINCT year(posts.Post_date)&#39;))));</code></pre>\r\n\r\n<p>I am not getting the correct results ... can anyone help me in this please...</p>\r\n\r\n<p>my query is (Select distinct year(post_date) from posts);</p>\r\n\r\n<p>Thanks</p>\r\n', 1, 1, 0, '2013-12-22 13:52:47', '2013-12-22 13:52:47'),
(27, 'cakephp jquery default load', '<p>I am a newbie in cakephp framework , basically i am following this guide <a href="http://book.cakephp.org/2.0/en/core-libraries/helpers/js.html">http://book.cakephp.org/2.0/en/core-libraries/helpers/js.html</a> to get up and runnig with jqurey in cakephp but when i try to load</p>\r\n\r\n<pre>\r\n<code>   &lt;?php echo  $this-&gt;Html-&gt;script(&#39;jquery&#39;); ?&gt;</code></pre>\r\n\r\n<p>in default.ctp .. it is loaded in my view but in console i get the error $ is not defined. (The famous jquery error :p) but when i load it externally any jquery file.. it seems to work fine. I want to make a plugin with no dependencies and use cakephp own jquery Am i doing something wrong ? please help</p>\r\n', 1, 1, 0, '2013-12-22 13:53:40', '2013-12-22 13:53:40'),
(28, 'What is a proper way to use model inside component in cakephp?', '<p>When calling <code>Partner</code> model from component it is showing error.</p>\r\n\r\n<pre>\r\n<code>App::import(&quot;MyPlugin.Model&quot;, &quot;Partner&quot;);\r\n$objPartner = new Partner();</code></pre>\r\n\r\n<p><strong>Fatal error: Class &#39;Partner&#39; not found in D:\\htdocs\\myapp\\app\\Plugin\\MyPlugin\\Controller\\Component\\TestComponent.php on line 287</strong></p>\r\n', 1, 1, 0, '2013-12-22 13:56:35', '2013-12-22 13:56:35'),
(29, 'cake Php :how can we extends AppController?', '<p>I Created <strong>UsersController</strong>,in that login function is there and AppController.phpalso is there in <strong>app/controller/AppController.php</strong>.</p>\r\n\r\n<p>I called auth component in <strong>AppController.php</strong>. But thats not working ..</p>\r\n\r\n<p><strong>It&#39;s showing AppController not found error ...</strong></p>\r\n\r\n<p>how can we extend Appcontroller page in UsersController?</p>\r\n\r\n<p>Please clarify this doubt to me any one can help..</p>\r\n', 1, 1, 0, '2013-12-22 13:57:23', '2013-12-22 13:57:23'),
(30, 'CakePHP parserror with _serialize for JSON response', '<p>I have problem with JSON. Can someone tell me why first option works and second no? Second option is working in every other controller, but not in this one.</p>\r\n\r\n<p>In database i have table with name <strong>statuses</strong>, and model in CakePHP - <strong>Status</strong> Is this somehow relevant to this case?</p>\r\n\r\n<p>Here is the error i&#39;m recieving</p>\r\n\r\n<pre>\r\n<code>parsererror SyntaxError: JSON.parse: unexpected end of data</code></pre>\r\n\r\n<p>My CakePHP controller function option 1 (<strong>working</strong>):</p>\r\n\r\n<pre>\r\n<code>       public function admin_add(){\r\n\r\n        if($this-&gt;request-&gt;is(&#39;ajax&#39;))\r\n        {\r\n            $this-&gt;autoRender = false;\r\n            $this-&gt;layout = &#39;ajax&#39;;\r\n            $this-&gt;Status-&gt;create();\r\n            if ($this-&gt;Status-&gt;save($this-&gt;request-&gt;data)){\r\n                $statuses = $this-&gt;Status-&gt;findById($this-&gt;Status-&gt;id);\r\n                $message = &quot;Status has been added&quot;;\r\n                $status = &quot;OK&quot;;\r\n                //$this-&gt;set(compact(&quot;message&quot;,&#39;status&#39;,&#39;statuses&#39;));\r\n                //$this-&gt;set(&#39;_serialize&#39;,array(&#39;message&#39;,&#39;status&#39;,&#39;statuses&#39;));\r\n\r\n                echo json_encode(array(\r\n                        &#39;statuses&#39; =&gt; $statuses,\r\n                        &#39;message&#39; =&gt;$message,\r\n                        &#39;status&#39; =&gt; $status\r\n                    ));\r\n            }\r\n        } \r\n    } </code></pre>\r\n\r\n<p>And second <strong>NOT working</strong>: public function admin_add(){</p>\r\n\r\n<pre>\r\n<code>        if($this-&gt;request-&gt;is(&#39;ajax&#39;))\r\n        {\r\n            $this-&gt;autoRender = false;\r\n            $this-&gt;layout = &#39;ajax&#39;;\r\n            $this-&gt;Status-&gt;create();\r\n            if ($this-&gt;Status-&gt;save($this-&gt;request-&gt;data)){\r\n                $statuses = $this-&gt;Status-&gt;findById($this-&gt;Status-&gt;id);\r\n                $message = &quot;Status has been added&quot;;\r\n                $status = &quot;OK&quot;;\r\n\r\n                $this-&gt;set(compact(&quot;message&quot;,&#39;status&#39;,&#39;statuses&#39;));\r\n                $this-&gt;set(&#39;_serialize&#39;,array(&#39;message&#39;,&#39;status&#39;,&#39;statuses&#39;));\r\n\r\n                /*echo json_encode(array(\r\n                        &#39;statuses&#39; =&gt; $statuses,\r\n                        &#39;message&#39; =&gt;$message,\r\n                        &#39;status&#39; =&gt; $status\r\n                    ));*/\r\n            }\r\n        } \r\n    } </code></pre>\r\n\r\n<p>And my ajax call:</p>\r\n\r\n<pre>\r\n<code>  $.ajax({\r\n  type: &quot;post&quot;,\r\n  url : location.pathname+&quot;/add&quot;,\r\n  data: data,\r\n  dataType: &quot;json&quot;,\r\n  success : function(resp){ //some actions here }</code></pre>\r\n\r\n<p>I have no idea why standard set(&#39;_serialize, ...) method isn&#39;t working properly :(</p>\r\n', 1, 1, 0, '2013-12-22 13:58:15', '2013-12-22 13:58:15'),
(31, 'How to use PasswordableBehavior with CakePHP?', '<p>Since vanilla CakePHP doesn&#39;t handle password fields very well on user edit views (echoing the hashed password into the password field, etc), I&#39;m trying to use dereuromark&#39;s PasswordableBehavior to handle user registration and password updates.</p>\r\n\r\n<p>I tried following the tutorial (<a href="http://www.dereuromark.de/2011/08/25/working-with-passwords-in-cakephp/">http://www.dereuromark.de/2011/08/25/working-with-passwords-in-cakephp/</a>) making the following changes, but the server keeps throwing an error. What is the problem here? Because the error is in PasswordableBehavior.php, I&#39;m not 100% certain I&#39;m screwing up.</p>\r\n\r\n<p><strong>UsersController.php:</strong></p>\r\n\r\n<pre>\r\n<code>public function register() {\r\nif ($this-&gt;request-&gt;is(&#39;post&#39;) || $this-&gt;request-&gt;is(&#39;put&#39;)) {\r\n    $this-&gt;User-&gt;Behaviors-&gt;attach(&#39;Tools.Passwordable&#39;);\r\n    if ($this-&gt;User-&gt;save($this-&gt;request-&gt;data, true, array(&#39;username&#39;, &#39;name&#39;, &#39;email&#39;, &#39;pwd&#39;, &#39;pwd_repeat&#39;, &#39;group_id&#39;))) {\r\n    $this-&gt;Session-&gt;setFlash(__(&#39;The user has been saved&#39;), &#39;flash/success&#39;);\r\n            $this-&gt;redirect(array(&#39;action&#39; =&gt; &#39;index&#39;));\r\n} else {\r\n            $this-&gt;Session-&gt;setFlash(__(&#39;The user could not be saved. Please, try again.&#39;), &#39;flash/error&#39;);\r\n        }\r\n    unset($this-&gt;request-&gt;data[&#39;User&#39;][&#39;pwd&#39;]);\r\n    unset($this-&gt;request-&gt;data[&#39;User&#39;][&#39;pwd_repeat&#39;]);\r\n}</code></pre>\r\n\r\n<p>and <strong>register.ctp</strong> (possible security hole alert)</p>\r\n\r\n<pre>\r\n<code>&lt;?php \r\necho $this-&gt;Form-&gt;create(&#39;User&#39;, array(&#39;role&#39; =&gt; &#39;form&#39;));\r\necho $this-&gt;Form-&gt;input(&#39;username&#39;, array(&#39;class&#39; =&gt; &#39;form-control&#39;));\r\necho $this-&gt;Form-&gt;input(&#39;name&#39;, array(&#39;class&#39; =&gt; &#39;form-control&#39;));\r\necho $this-&gt;Form-&gt;input(&#39;email&#39;, array(&#39;class&#39; =&gt; &#39;form-control&#39;));\r\necho $this-&gt;Form-&gt;input(&#39;password&#39;, array(&#39;class&#39; =&gt; &#39;form-control&#39;));\r\necho $this-&gt;Form-&gt;hidden(&#39;group_id&#39;, array(&#39;value&#39;=&gt;3));\r\necho $this-&gt;Form-&gt;submit(&#39;Submit&#39;, array(&#39;class&#39; =&gt; &#39;btn btn-large btn-primary&#39;));\r\necho $this-&gt;Form-&gt;end();</code></pre>\r\n\r\n<p>Finally, the server error:</p>\r\n\r\n<pre>\r\n<code>Strict (2048): Declaration of PasswordableBehavior::beforeValidate() should be compatible with ModelBehavior::beforeValidate(Model $model, $options = Array) [APP/Plugin/Tools/Model/Behavior/PasswordableBehavior.php, line 338]\r\nStrict (2048): Declaration of PasswordableBehavior::beforeSave() should be compatible with ModelBehavior::beforeSave(Model $model, $options = Array) [APP/Plugin/Tools/Model/Behavior/PasswordableBehavior.php, line 338]</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:00:42', '2013-12-22 14:00:42'),
(32, 'CakePhp: About Views', '<p>What is the difference between to these in cake php?</p>\r\n\r\n<pre>\r\n<code>$this-&gt;fetch(&#39;title&#39;); \r\n\r\n\r\n\r\n\r\n$this-&gt;extend(&#39;/Common/view&#39;);\r\n\r\n$this-&gt;element(&#39;shop/cart.ctp&#39;);</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:01:49', '2013-12-22 14:01:49'),
(33, 'Shopping Mart Order System in PHP [on hold]', '<p>I am trying to built a script in PHP like Shopping Mart system in which there was a option to store old shopping data. let say one customer buy a four items &amp; suddenly he/she want to purchase another item he/she get back to the mart for getting another item till then his order should be store as an old order &amp; system can continue other new order. when old order customer come with his new items then system can continue with his previous order list.</p>\r\n\r\n<p>My question is there any script available to achieve this goal in PHP language or any idea how can i achieve this goal with high performance</p>\r\n\r\n<p>Thanks in advance for help &amp; suggestion.</p>\r\n', 1, 1, 0, '2013-12-22 14:03:00', '2013-12-22 14:03:00'),
(34, 'Better practise Display record in table format [on hold]', '<p>I have confusion about below point.</p>\r\n\r\n<p>when I display record as a table format , I should display data as Camelize format or as same as user entered.</p>\r\n\r\n<p>Its better practise when I display record , it should be as Camelize format or as same as user entered.</p>\r\n\r\n<p>Please suggest me.</p>\r\n\r\n<p>Many Thanks</p>\r\n', 1, 1, 0, '2013-12-22 14:04:39', '2013-12-22 14:04:39'),
(35, 'CakePHP: EXISTS or JOIN with UNION', '<p>I need execute next SQL query in CakePHP</p>\r\n\r\n<pre>\r\n<code>SELECT * FROM products Product\r\nWHERE EXISTS(SELECT * FROM `products_likes` ProductsLike WHERE ProductsLike.product_id = Product.id AND ProductsLike.user_id = 9 )\r\nOR \r\nEXISTS(SELECT * FROM `orders` Orders WHERE Orders .product_id = Product.id AND Orders .user_id = 9 )</code></pre>\r\n\r\n<p>or another way of implementation</p>\r\n\r\n<pre>\r\n<code>SELECT Product.* FROM products Product\r\nJOIN `products_likes` ProductsLike ON ProductsLike.product_id = Product.id\r\nWHERE ProductsLike.user_id = 9\r\n\r\nUNION\r\n\r\nSELECT Product.* FROM products Product\r\nJOIN `orders` Orders ON Orders .product_id = Product.id \r\nWHERE Orders.user_id = 9</code></pre>\r\n\r\n<p>How can I make this query in CakePHP?</p>\r\n', 1, 1, 0, '2013-12-22 14:05:30', '2013-12-22 14:05:30'),
(36, 'Milesj uploader plugin creates new record instead of editing existing record', '<p>I&#39;m using the cakephp <a href="http://milesj.me/blog/read/changelog-uploader-3.1">uploader plugin</a> by Miles Johnson. I like the plugin and I&#39;ve got it working to be able to upload photos for a photo model. The problem I&#39;m running into is that when I try to edit an existing record, instead of replacing the photo associated with the record I&#39;m editing a new record is created. The new record has all the same information with the exception of the new photo that&#39;s been uploaded.</p>\r\n\r\n<p>Here&#39;s how the photo model looks:</p>\r\n\r\n<pre>\r\n<code>        &#39;Uploader.Attachment&#39; =&gt; array(\r\n    &#39;imgPath&#39; =&gt; array(\r\n        // &#39;name&#39;       =&gt; &#39;&#39;,  // Name of the function to use to format filenames\r\n        &#39;baseDir&#39;   =&gt; &#39;&#39;,                  // See UploaderComponent::$baseDir\r\n        &#39;uploadDir&#39; =&gt; &#39;files/uploads/&#39;,    // See UploaderComponent::$uploadDir\r\n        &#39;dbColumn&#39;  =&gt; &#39;imgPath&#39;,           // The database column name to save the path to\r\n        &#39;maxNameLength&#39; =&gt; 60,              // Max file name length\r\n        &#39;overwrite&#39; =&gt; false,               // Overwrite file with same name if it exists\r\n        &#39;stopSave&#39;  =&gt; true,                // Stop the model save() if upload fails\r\n        &#39;allowEmpty&#39;    =&gt; true,            // Allow an empty file upload to continue\r\n        &#39;transforms&#39;    =&gt;  array(              // What transformations to do on images: scale, resize, etc\r\n            array(\r\n                &#39;method&#39; =&gt; &#39;resize&#39;, \r\n                &#39;width&#39; =&gt; 50, \r\n                &#39;height&#39; =&gt; 50, \r\n                &#39;append&#39; =&gt; &#39;_thumb&#39;, \r\n                &#39;dbColumn&#39; =&gt; &#39;imgPathThumb&#39;,\r\n                )\r\n            )           \r\n        ) \r\n    )</code></pre>\r\n\r\n<p>This is the photo admin edit view form:</p>\r\n\r\n<pre>\r\n<code>&lt;?php echo $this-&gt;Html-&gt;script(&#39;ckeditor/ckeditor&#39;);?&gt;\r\n&lt;?php echo $this-&gt;Form-&gt;create(&#39;Photo&#39;, array(&#39;type&#39; =&gt; &#39;file&#39;));?&gt;\r\n&lt;fieldset&gt;\r\n    &lt;legend&gt;&lt;?php echo __(&#39;Admin Edit Photo&#39;); ?&gt;&lt;/legend&gt;\r\n&lt;?php\r\n    echo $this-&gt;Form-&gt;input(&#39;title&#39;);\r\n    echo $this-&gt;Form-&gt;input(&#39;caption&#39;, array(&#39;class&#39;=&gt;&#39;ckeditor&#39;));\r\n    echo $this-&gt;Form-&gt;input(&#39;imgPath&#39;, array(&#39;type&#39; =&gt; &#39;file&#39;));\r\n    echo $this-&gt;Form-&gt;input(&#39;alt_tag&#39;);\r\n    echo $this-&gt;Form-&gt;input(&#39;type&#39;, array( &#39;label&#39; =&gt; &#39;Choose a type of photo&#39;, &#39;options&#39; =&gt; array(\r\n        &#39;gallery&#39;=&gt;&#39;gallery&#39;,\r\n        &#39;news&#39;=&gt;&#39;news&#39;,\r\n        &#39;post&#39;=&gt;&#39;post&#39;,\r\n          )));      \r\n    echo $this-&gt;Form-&gt;input(&#39;active&#39;, array( &#39;label&#39; =&gt; &#39;Make active&#39;, &#39;options&#39; =&gt; array(&#39;yes&#39;=&gt;&#39;yes&#39;,&#39;no&#39;=&gt;&#39;no&#39;  )));\r\n    echo $this-&gt;Form-&gt;input(&#39;gallery_id&#39;);\r\n?&gt;\r\n&lt;/fieldset&gt;\r\n&lt;?php echo $this-&gt;Form-&gt;end(__(&#39;Submit&#39;)); ?&gt;</code></pre>\r\n\r\n<p>This is the controller admin edit code:</p>\r\n\r\n<pre>\r\n<code>    public function admin_edit($id = null) {\r\n    $this-&gt;layout = &#39;admin&#39;;\r\n    if (!$this-&gt;Photo-&gt;exists($id)) {\r\n        throw new NotFoundException(__(&#39;Invalid photo&#39;));\r\n    }\r\n    if ($this-&gt;request-&gt;is(array(&#39;post&#39;, &#39;put&#39;))) {\r\n        if ($this-&gt;Photo-&gt;save($this-&gt;request-&gt;data)) {\r\n            $this-&gt;Session-&gt;setFlash(__(&#39;The photo has been saved.&#39;), &#39;success&#39;);\r\n            return $this-&gt;redirect(array(&#39;action&#39; =&gt; &#39;index&#39;));\r\n        } else {\r\n            $this-&gt;Session-&gt;setFlash(__(&#39;The photo could not be saved. Please, try again.&#39;), &#39;error&#39;);\r\n        }\r\n    } else {\r\n        $options = array(&#39;conditions&#39; =&gt; array(&#39;Photo.&#39; . $this-&gt;Photo-&gt;primaryKey =&gt; $id));\r\n        $this-&gt;request-&gt;data = $this-&gt;Photo-&gt;find(&#39;first&#39;, $options);\r\n    }\r\n    $galleries = $this-&gt;Photo-&gt;Gallery-&gt;find(&#39;list&#39;);\r\n\r\n    $this-&gt;set(compact(&#39;galleries&#39;));\r\n}</code></pre>\r\n\r\n<p>Have I overlooked something obvious?</p>\r\n\r\n<p>Cheers, Paul</p>\r\n', 1, 1, 0, '2013-12-22 14:07:31', '2013-12-22 14:07:31'),
(37, 'CakePHP - render whole page as HTML to attach to email', '<p>I have successfully created a report accessed at /controller/report</p>\r\n\r\n<p>I now want to create a separate controller method to create this report as an HTML file and email it to designated useds. I have done this but have hit one snag. When the HTML file is rendered, it is only the view element from the /report method - the layout (including the CSS) is not rendered.</p>\r\n\r\n<p>Here&#39;s the basic structure:</p>\r\n\r\n<pre>\r\n<code>public function email_report() {\r\n    $render = $this-&gt;requestAction(&#39;/controller/report&#39;);\r\n    //$render is then used by fwrite to create a .HTML file, which is then attached to an email\r\n}\r\n\r\npublic function report() {\r\n    //yada yada\r\n    //render in report layout rather than default\r\n    $this-&gt;render(&#39;report&#39;, &#39;reports&#39;);\r\n}</code></pre>\r\n\r\n<p>So the problem is that $render only contains the view stuff, not the stuff from my &quot;reports&quot; layout. What do I need to do to get the layout in my HTML file as well?</p>\r\n\r\n<p>I could put all of the HTML in the view but I would like to create other reports using the same layout in future and would like to avoid repetition.</p>\r\n', 1, 1, 0, '2013-12-22 14:09:05', '2013-12-22 14:09:05'),
(38, 'Ajax pagination in cakephp with search option', '<p>can anyone help me how to use ajax pagination in cakephp with search option.i.e after hit the search button data loads which are similar to the entered data . i want to do it in cakephp. i&#39;m using current version of it.</p>\r\n\r\n<p>Thanks in advance.</p>\r\n', 1, 1, 0, '2013-12-22 14:09:56', '2013-12-22 14:09:56'),
(39, 'cakephp controller query array', '<p>Been trying to wrap my mind around this without success so I am hoping someone can help me with this. (Thanks in advance)</p>\r\n\r\n<p>I have to tables one called &#39;items&#39; one called &#39;medias&#39;</p>\r\n\r\n<p>I have a controller where I am doing the following (getting items sold to a particular client identified by id, which is working correctly:</p>\r\n\r\n<pre>\r\n<code>//Load Items Model   \r\n        $this-&gt;loadModel(&#39;Invoice&#39;);\r\n        $invoice = $this-&gt;Invoice-&gt;findById($id);\r\n\r\n        $this-&gt;loadModel(&#39;Item&#39;);     \r\n\r\n        $this-&gt;set(&#39;items&#39;, $this-&gt;Item-&gt;find(&#39;all&#39;, array(\r\n            &#39;conditions&#39; =&gt; array(&#39;Item.client_id&#39; =&gt; $id),\r\n            &#39;recursive&#39; =&gt; 0\r\n        )));</code></pre>\r\n\r\n<p>What I need to do from this point is go to the &#39;medias&#39; table which contains the images associated with the items sold and I was doing something like this:</p>\r\n\r\n<pre>\r\n<code>itemid = itemid = $this-&gt;request-&gt;data[&#39;Item&#39;][&#39;item_number&#39;];\r\n$this-&gt;loadModel(&#39;Media&#39;);\r\n\r\n        $this-&gt;set(&#39;medias&#39;, $this-&gt;Media-&gt;find(&#39;all&#39;, array(\r\n            &#39;limit&#39; =&gt; 1,\r\n            &#39;conditions&#39; =&gt; array(&#39;Media.ref_id&#39; =&gt; $itemid),\r\n            &#39;recursive&#39; =&gt; 0\r\n        )));</code></pre>\r\n\r\n<p>But it&#39;s not working as its showing as null value for $itemid which I&#39;m assuming its an array? Any ideas would be greatly appreciated.</p>\r\n\r\n<p>Thanks</p>\r\n', 1, 1, 0, '2013-12-22 14:12:55', '2013-12-22 14:12:55'),
(40, 'CakePHP: How to contain all top level associations', '<p>I want to set $options[&#39;contain&#39;] such that ALL top level associated models are included (but not the second degree associations). I know I can simply list every single model...</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Object-&gt;find(&#39;all&#39;, array(&#39;contain&#39;=&gt;array(&#39;Model1&#39;, &#39;Model2&#39;, ...</code></pre>\r\n\r\n<p>But that&#39;s NOT what I want because additional models might be associated in the future, and I&#39;d like them to included automatically.</p>\r\n\r\n<p>I think I remember older versions of CakePHP allowing something like...</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Object-&gt;find(&#39;all&#39;, array(&#39;contain&#39;=&gt;array(&#39;*&#39;)</code></pre>\r\n\r\n<p>But so far (on v2.4) it doesn&#39;t seem to work.</p>\r\n\r\n<p>After re-reading <a href="http://book.cakephp.org/2.0/en/core-libraries/behaviors/containable.html">the documentation</a>, it sounds like what I want <em>should</em> happen by default. But it&#39;s not.</p>\r\n', 1, 1, 0, '2013-12-22 14:13:37', '2013-12-22 14:13:37'),
(41, 'How to set a $currentuser variable in CakePHP with global scope', '<p>I&#39;m using CakePHP v2.4...</p>\r\n\r\n<p>I want to make a single db request to set a $currentuser variable which I can reference in all my controllers. This seems like it should be easy, but it&#39;s giving me a hard time because $this-&gt;Auth-&gt;user() is not available in the beforeFilter of AppController when a user logs in. So that variable will be useless immediately after someone logs in (until they reload the page , etc). afterFilter() and beforeRender() happen <em>after</em> the other controller actions, so that doesn&#39;t solve my issue.</p>\r\n', 1, 1, 0, '2013-12-22 14:14:40', '2013-12-22 14:14:40'),
(42, 'Paginator numbers in Cake 2', '<p>when I create links in Cake Paginator with:</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Paginator-&gt;numbers(array(&#39;separator&#39; =&gt; &#39;&#39;, &#39;modulus&#39; =&gt; 2))</code></pre>\r\n\r\n<p>I get the result:</p>\r\n\r\n<p>1 2 3 4 5 [6] 7 8 9 10</p>\r\n\r\n<p>6 - current page</p>\r\n\r\n<p>I want result:</p>\r\n\r\n<p>1 .. 4 5 [6] 7 8 .. 10</p>\r\n\r\n<p>Why option modulus dont working? I think that with modulus =2 result should be that what I want to achieve.</p>\r\n', 1, 1, 0, '2013-12-22 14:15:54', '2013-12-22 14:15:54'),
(43, 'IF/ELSE statement in MySQL with addition operator', '<p>I have been trying to understand doing this in MySQL but have to admit defeat even after reading several tutorials and <em>the manual</em> on it. Any help would be gratefully appreciated.</p>\r\n\r\n<p>I have three fields of decimal type (for currency). These are &#39;base_price&#39;, &#39;discounted_price&#39; and &#39;extras_price&#39;.</p>\r\n\r\n<p>I am trying to create the MYSQL needed to complete the following pseudo-code:</p>\r\n\r\n<pre>\r\n<code>if (discounted_price is not null or 0) {\r\n    total_price = discounted_price + extras_price\r\n} else {\r\n    total_price = base_price + extras_price\r\n}</code></pre>\r\n\r\n<p>It may be worthy of note that this will be used to create a virtual field for CakePHP 2.* Thanks for any help you can offer.</p>\r\n', 1, 1, 0, '2013-12-22 14:17:04', '2013-12-22 14:17:04'),
(44, 'Why is my cakephp route matching everything?', '<p>I have a simple route which should only work on the settings controller:</p>\r\n\r\n<pre>\r\n<code>App::uses(&#39;SettingsRoute&#39;,&#39;Lib&#39;);\r\nRouter::connect(&#39;/settings&#39;, \r\n    array(&#39;controller&#39; =&gt; &#39;settings&#39;, &#39;action&#39; =&gt; &#39;index&#39;),\r\n    array(&#39;routeClass&#39; =&gt; &#39;SettingsRoute&#39;)\r\n);</code></pre>\r\n\r\n<p>In the SettingsRoute class, it routes to an action based on the user&#39;s access level so all you have to do is access the &#39;settings&#39; controller and it puts you in the right place. This route matches <em>everything</em>! So if I try to access my articles controller, it wants to route the action to &#39;administrator&#39;.</p>\r\n\r\n<p>That being said, it fails in a strange way. Instead of giving a method not found error, it claims it can&#39;t find the class &#39;Controller&#39; and that I need to create it:</p>\r\n\r\n<pre>\r\n<code>Missing Controller\r\nError: Controller could not be found.\r\n\r\nError: Create the class Controller below in file: bpr\\Controller\\Controller.php\r\n\r\n&lt;?php\r\nclass Controller extends AppController {\r\n\r\n}</code></pre>\r\n\r\n<p>I&#39;ve gotten around it by adding</p>\r\n\r\n<pre>\r\n<code>if(!preg_match(&#39;/settings/&#39;, $url)) return false;</code></pre>\r\n\r\n<p>to my SettingsRoute, but I know that I shouldn&#39;t have to do that.</p>\r\n\r\n<p>Is my regular expression wrong in the first parameter of the route? Might I be using the CakeRoute class wrong?</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<hr />\r\n<p>For posterity, here&#39;s my SettingsRoute:</p>\r\n\r\n<p>&nbsp;</p>\r\n\r\n<pre>\r\n<code>App::uses(&#39;Lib&#39;, &#39;CakeRoute&#39;);\r\nApp::uses(&#39;AuthComponent&#39;, &#39;Controller/Component&#39;);\r\nApp::uses(&#39;CakeSession&#39;, &#39;Model/Datasource&#39;);\r\n\r\nclass SettingsRoute extends CakeRoute {\r\n\r\n    function parse($url) {\r\n        if(!preg_match(&#39;/settings/&#39;, $url)) return false;\r\n\r\n        $roles = CakeSession::read(&#39;roles&#39;);\r\n        $params = parent::parse($url);\r\n        $params[&#39;action&#39;] = strtolower($roles[AuthComponent::user(&#39;user_role_id&#39;)]);\r\n        var_dump($params);\r\n\r\n        return $params;\r\n    }</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:18:16', '2013-12-22 14:18:16'),
(45, 'HEAD Causes Use of undefined constant FULL_BASE_URL Notice', '<p>I have a CakePHP website that uses the <code>FULL_BASE_URL</code> constant in its layout. I noticed errors like this showing up in my &quot;debug.log&quot; file:</p>\r\n\r\n<pre>\r\n<code>2013-12-18 16:25:04 Notice: Notice (8): Use of undefined constant FULL_BASE_URL - assumed &#39;FULL_BASE_URL&#39; in [/var/www/example.com/app/View/Layouts/default-app.ctp, line 11]\r\nTrace:\r\ninclude - APP/View/Layouts/default-app.ctp, line 11\r\nView::_evaluate() - APP/Lib/cakephp/lib/Cake/View/View.php, line 945\r\nView::_render() - APP/Lib/cakephp/lib/Cake/View/View.php, line 907\r\nView::renderLayout() - APP/Lib/cakephp/lib/Cake/View/View.php, line 535\r\nView::render() - APP/Lib/cakephp/lib/Cake/View/View.php, line 479\r\nController::render() - APP/Lib/cakephp/lib/Cake/Controller/Controller.php, line 948\r\nPagesController::display() - APP/Controller/PagesController.php, line 105\r\nReflectionMethod::invokeArgs() - [internal], line ??\r\nController::invokeAction() - APP/Lib/cakephp/lib/Cake/Controller/Controller.php, line 486\r\nDispatcher::_invoke() - APP/Lib/cakephp/lib/Cake/Routing/Dispatcher.php, line 187\r\nDispatcher::dispatch() - APP/Lib/cakephp/lib/Cake/Routing/Dispatcher.php, line 162\r\n[main] - APP/webroot/index.php, line 114</code></pre>\r\n\r\n<p>Looking at the Apache access log, I see that it&#39;s caused by this:</p>\r\n\r\n<p><code>198.252.206.16 - - [18/Dec/2013:16:25:02 -0700] &quot;HEAD / HTTP/1.0&quot; 200 317 &quot;-&quot; &quot;-&quot;</code></p>\r\n\r\n<p>The only way I&#39;ve been able to reproduce this is by using Telnet, like this:</p>\r\n\r\n<pre>\r\n<code>telnet example.com 80\r\nHEAD / HTTP/1.0\r\n[push enter again]</code></pre>\r\n\r\n<p>What could be causing this? Is it something with my PHP configuration or my Apache configuration or something else?</p>\r\n', 1, 1, 0, '2013-12-22 14:19:15', '2013-12-22 14:19:15'),
(46, 'cakephp web.config windows remove index.php from URL', '<p>I have uploaded my site on a windows server and i would like to remove the index.php from the URL. I tried to open the web.config but i&#39;m not quite familiar with the syntax. this only happens when i call a link. the homepage doesn&#39;t show the index.php.</p>\r\n\r\n<p>Any help is much appreciated. Regards,</p>\r\n', 1, 1, 0, '2013-12-22 14:22:32', '2013-12-22 14:22:32'),
(47, 'CakePHP : Check authorizations in views', '<p>I am using CakePHP in my project and I am looking for a proper way to check advanced user rights in my views.</p>\r\n\r\n<p>I have several pages in which the contents depend of your rights (you can view some blocks or not, edit some infos or not, etc...)</p>\r\n\r\n<p>I searched and the only way I found is to implement an Auth Helper, but I thought the best way to to that is to implement methods in my &quot;UserController&quot; (such as canPerformAction($action, $controller = &#39;default_controller&#39;)), am I wrong ? And if I&#39;m right, how to call that methods properly ?</p>\r\n\r\n<p>Thanks.</p>\r\n\r\n<p><strong>EDIT :</strong> More precisions</p>\r\n\r\n<p>For example I have an action &quot;editEventProducts&quot; that a user can perform only if he&#39;s the event owner and if the event status is &lt;= 2.</p>\r\n\r\n<p>I check that in my controller &quot;isAuthorized&quot; function, works like a charm.</p>\r\n\r\n<p>But I have a page called &quot;eventDetails&quot;, form which you can perfom several actions such as this one, and I want to show the edit button, only if you can do it.</p>\r\n\r\n<p>If fact what I need is the output of the &quot;isAuthorized&quot; function for each action that you can call, but can I properly get it from a view ?</p>\r\n', 1, 1, 0, '2013-12-22 14:23:18', '2013-12-22 14:23:18'),
(48, 'Missing file with geocaching API example PHP', '<p>I&#39;ve been trying to replicate <a href="https://github.com/Surfoo/geocaching-api">this</a> Geocaching API example by Surfoo. I dropped the files on my server and now I&#39;m getting:</p>\r\n\r\n<pre>\r\n<code>Warning: require(/geocaching/vendor/autoload.php): failed to open stream: No such file or directory in /geocaching/index.php on line 6</code></pre>\r\n\r\n<p>This file isn&#39;t anywhere to be seen with the downloaded example and I haven&#39;t heard anything back from the owner yet. So is this simply a missing file or is this a file I need to build myself to load the appropriate code? I know CakePHP uses vendors and the like but I have no idea how to implement that. Some help would be appreciated.</p>\r\n', 1, 1, 0, '2013-12-22 14:25:52', '2013-12-22 14:25:52'),
(49, ' dynamic sitemap returns (500) Internal Server Error, but loaded in the browser', '<p>I developed a dynamic sitemap for a webpage, listing all the items in the DB (42000).</p>\r\n\r\n<p>This is the view code:</p>\r\n\r\n<pre>\r\n<code>&lt;?php echo &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;&#39;; ?&gt;\r\n\r\n&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\r\n    &lt;?php  foreach($urls as $url){ ?&gt;\r\n        &lt;url&gt;\r\n            &lt;loc&gt;&lt;?php echo  $url; ?&gt;&lt;/loc&gt;\r\n            &lt;priority&gt;0.5&lt;/priority&gt;\r\n        &lt;/url&gt;\r\n    &lt;?php  } ?&gt;\r\n&lt;/urlset&gt;</code></pre>\r\n\r\n<p>All looked good while testing with a browser (except the slow load time of about 15s). But when I when tested with several Sitemap validation tools: <a href="http://www.xml-sitemaps.com/validate-xml-sitemap.html">http://www.xml-sitemaps.com/validate-xml-sitemap.html</a></p>\r\n\r\n<p>It says my page returns 500 (Internal Server Error);<br />\r\nIn fact in the browser were such header (debug, net tab), but the page loaded any way ?!</p>\r\n\r\n<p>With further testing, there was nothing wrong with the data (db and php loaded for 1s) and all was OK around 40,000 items which is 5mb page size, and 100,000 rows of html.</p>\r\n\r\n<p>Haven&#39;t found any info about such limitations ...<br />\r\nI have similar site map on other sites with no such issues.<br />\r\nIt may be something on the server, or something specific for the framework (CakePHP).</p>\r\n\r\n<p>Problem is currently solved by lowering the limit and splitting the map in 2 files, but I m looking for more information what is the issue.</p>\r\n', 1, 1, 0, '2013-12-22 14:26:34', '2013-12-22 14:26:34'),
(50, ' Multiple columns or single textfield?', '<p>My question is about a logical problem which might has some impact in the future:</p>\r\n\r\n<p>I allready habe 3 models (rooms, discipline, serie) and a model called printout. In printout I can select a header image and define a header text, but how do I define what of those three models to use.</p>\r\n\r\n<p>I see two possibilities:</p>\r\n\r\n<ul>\r\n	<li>an own column in printout, for every model (rooms, discipline, serie)</li>\r\n	<li>a single textfield which I parse later manually.</li>\r\n</ul>\r\n\r\n<p>are there disadavantages betweeen those two ways. what is suggested.</p>\r\n\r\n<p>I know its more a logical than a dev problem, still I want to choose the better way in the early stage of the project.</p>\r\n\r\n<p>cheers endo</p>\r\n', 1, 1, 0, '2013-12-22 14:27:11', '2013-12-22 14:27:11'),
(51, 'CakePHP help in blog tutorial - Simple Authentication and Authorization Application Last Part', '<p>In the Blog Tutorial on Cakephp 2.0 in the Simple Authentication and Authorization Section there is a code block in the last part that I can&#39;t understand what does this line do?</p>\r\n\r\n<pre>\r\n<code>// app/Model/Post.php\r\n\r\npublic function isOwnedBy($post, $user) {\r\n    return $this-&gt;field(&#39;id&#39;, array(&#39;id&#39; =&gt; $post, &#39;user_id&#39; =&gt; $user)) === $post;\r\n}</code></pre>\r\n\r\n<p>I hope anyone can help me into this.</p>\r\n', 1, 1, 0, '2013-12-22 14:29:05', '2013-12-22 14:29:05'),
(52, 'What is the $this->action variable in CakePHP?', '<p>Hi fellows I need help in this line of code included in the Cakephp tutorial in the Simple Authentication and Authorization Application Section:</p>\r\n\r\n<pre>\r\n<code>if (in_array($this-&gt;action, array(&#39;edit&#39;, &#39;delete&#39;))){\r\n\r\n}</code></pre>\r\n\r\n<p>I know what <code>the in_array()</code> function does but I don&#39;t know what the <code>$this-&gt;action</code> is all about and what does it contain, what does <code>$this-&gt;action</code> do in the first place?</p>\r\n\r\n<p>can anyone please help me into this?</p>\r\n', 1, 1, 0, '2013-12-22 14:30:13', '2013-12-22 14:30:13'),
(53, 'CakePHP: How is redirect managed if there are more than one steps?', '<p>I would like to know how to manage redirect with multiple steps?</p>\r\n\r\n<p>Example:</p>\r\n\r\n<ol>\r\n	<li>Search for something</li>\r\n	<li>click on a result</li>\r\n	<li>click on a color for this result</li>\r\n	<li>click to submit choice</li>\r\n	<li>autoredirected to the search</li>\r\n</ol>\r\n\r\n<p>Solutions:</p>\r\n\r\n<ol>\r\n	<li>I can pass manually the <code>?redirectUrl=/search?query=tshirt</code> (with the appropriate url encoding) through each step, but this seems very ugly solution. Or maybe there is a way to automate it?</li>\r\n	<li>I could save the redirectUrl in the Session and extend the redirect function to always check for session variable <code>redirectUrl</code> before redirecting, but the problem is: what happens if someone quits at step 4? The session variable stays and will redirect if person hits a page with redirect at a completely different place.</li>\r\n</ol>\r\n\r\n<p>It would be awesome if I got the answer of someone experienced!</p>\r\n', 1, 1, 0, '2013-12-22 14:31:56', '2013-12-22 14:31:56');
INSERT INTO `questions` (`id`, `title`, `question`, `user_id`, `is_verified`, `is_active`, `created`, `modified`) VALUES
(54, 'How to configure CakePHP''s $this->Auth->login() to use custom password hasher', '<p>I&#39;m following <a href="http://book.cakephp.org/2.0/en/core-libraries/components/authentication.html#identifying-users-and-logging-them-in">this documentation</a> trying to set up the Auth component to use my custom password hashing class:</p>\r\n\r\n<pre>\r\n<code>App::uses(&#39;PHPassPasswordHasher&#39;, &#39;Controller/Component/Auth&#39;);\r\n\r\nclass AppController extends Controller {\r\n\r\n    // auth needed stuff\r\n    public $components = array(\r\n        &#39;Session&#39;,\r\n        &#39;Cookie&#39;,\r\n        &#39;Auth&#39;      =&gt; array(\r\n            &#39;authenticate&#39;      =&gt; array(\r\n                &#39;Form&#39;  =&gt; array(\r\n                    &#39;fields&#39; =&gt; array(&#39;username&#39;=&gt;&#39;email&#39;, &#39;password&#39;=&gt;&#39;password&#39;),\r\n                    &#39;passwordHasher&#39;    =&gt; &#39;PHPass&#39; \r\n\r\n                )\r\n            ),</code></pre>\r\n\r\n<p>Inside my UsersController::login() I debug the return from <code>$this-&gt;Auth-&gt;login();</code> and it always returns false, even when I submit the correct email / password.</p>\r\n\r\n<p>(NOTE: It looks strange to me that the <code>login()</code> takes no parameters, but the docs seem to imply that it looks into the the request data automatically. And this would make sense if my configurations aren&#39;t correctly causing it to check the User.email field instead username.)</p>\r\n\r\n<p>The post data from the submitted login form looks like this:</p>\r\n\r\n<pre>\r\n<code>array(\r\n    &#39;User&#39; =&gt; array(\r\n        &#39;password&#39; =&gt; &#39;*****&#39;,\r\n        &#39;email&#39; =&gt; &#39;whatever@example.com&#39;\r\n    )\r\n)</code></pre>\r\n\r\n<p>What am I missing?</p>\r\n\r\n<p><strong>Update2</strong></p>\r\n\r\n<p>I&#39;m starting to suspect that the default hashing algorithm is getting used instead of my custom class. I tried to match the examples in the docs but they&#39;re quite vague on how to do this.</p>\r\n\r\n<p>Here&#39;s the contents of <code>app/Controller/Component/Auth/PHPassPasswordHasher.php</code></p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\nApp::import(&#39;Vendor&#39;, &#39;PHPass/class-phpass&#39;); //&lt;--this exists and defines PasswordHash class\r\nclass PHPassPasswordHasher extends AbstractPasswordHasher {\r\n\r\n    public function hash($password) {\r\n        $hasher = new new PasswordHash( 8, true );\r\n        return $hasher-&gt;HashPassword($password);\r\n    }\r\n\r\n    public function check($password, $hashedPassword) {\r\n        debug(&#39;PHPassHasher&#39;); die(&#39;Using custom hasher&#39;); //&lt;--THIS NEVER HAPPENS!\r\n        $hasher = new new PasswordHash( 8, true );\r\n        return $hasher-&gt;CheckPassword($password, $hashedPassword);\r\n    }\r\n\r\n}</code></pre>\r\n\r\n<p><strong>AHA!</strong> The <code>debug()</code> never appears... so I&#39;m pretty sure the problem is with my custom hasher configuration(s).</p>\r\n\r\n<p><strong>Update3</strong></p>\r\n\r\n<p>Additional clue: I experimented by setting various default hashing algorithms (Ex: &quot;Simple&quot;, &quot;Blowfish&quot;) and creating users. The hashes which show up in the DB are all the <em>same</em> which tells me that my config settings are getting ignored completely.</p>\r\n\r\n<p><strong>Update4</strong></p>\r\n\r\n<p>I debugged <code>$this-&gt;settings</code> inside the constructor of /lib/Cake/Controller/Component/Auth/BaseAuthenticate.php and my custom hasher settings <em>are</em> in there:</p>\r\n\r\n<pre>\r\n<code>array(\r\n    &#39;fields&#39; =&gt; array(\r\n        &#39;password&#39; =&gt; &#39;password&#39;,\r\n        &#39;username&#39; =&gt; &#39;email&#39;\r\n    ),\r\n    &#39;userModel&#39; =&gt; &#39;User&#39;,\r\n    &#39;scope&#39; =&gt; array(),\r\n    &#39;recursive&#39; =&gt; (int) 0,\r\n    &#39;contain&#39; =&gt; null,\r\n    &#39;passwordHasher&#39; =&gt; &#39;PHPass&#39;\r\n)</code></pre>\r\n', 1, 1, 0, '2013-12-22 14:33:14', '2013-12-22 14:33:14'),
(55, 'Model Validation in CakePHP', '<p>i have some problems with the validation rules.</p>\r\n\r\n<p><strong>UPDATED :</strong></p>\r\n\r\n<blockquote>\r\n<p>Warning (512): Could not find validation handler maxLength for lastname [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for firstname [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for phone [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for address [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for zipcode [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for city [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n\r\n<p>Warning (512): Could not find validation handler maxLength for birth [CORE\\Cake\\Model\\Validator\\CakeValidationRule.php, line 281]</p>\r\n</blockquote>\r\n\r\n<pre>\r\n<code>public $validate = array(\r\n    &#39;username&#39; =&gt; array(\r\n        &#39;alphanumeric&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;alphanumeric&#39;),\r\n            &#39;allowEmpty&#39; =&gt; false,\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;Alphanumeric characters only.&quot;,\r\n        ),\r\n        &#39;between&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;between&#39;,4,20),\r\n            &#39;message&#39; =&gt; &quot;The username must be between %d and %d characters.&quot;,\r\n        ),\r\n        &#39;isUnique&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; &#39;isUnique&#39;,\r\n            &#39;message&#39; =&gt; &quot;This username is already taken.&quot;,\r\n        ),\r\n    ),\r\n    &#39;password&#39; =&gt; array(\r\n        &#39;notEmpty&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;notEmpty&#39;),\r\n            &#39;message&#39; =&gt; &quot;You must specify your password.&quot;,\r\n        ),\r\n    ),\r\n    &#39;passwordconfirm&#39; =&gt; array(\r\n        &#39;between&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;between&#39;, 8, 20),\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;The password must be between %d and %d characters.&quot;,\r\n        ),\r\n        &#39;equalTo&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;equalToField&#39;, &#39;password&#39;),\r\n            &#39;message&#39; =&gt; &quot;Passwords are not identical.&quot;,\r\n        )\r\n    ),\r\n    &#39;oldpassword&#39; =&gt; array(\r\n        &#39;notEmpty&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;notEmpty&#39;),\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;You must specify your old password.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;lastname&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 25),\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;Your last name can&#39;t contain more than %d characters.&quot;,\r\n        ),\r\n    ),\r\n    &#39;firstname&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 25),\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;Your first name can&#39;t contain more than %d characters.&quot;,\r\n        ),\r\n    ),\r\n    &#39;mail&#39; =&gt; array(\r\n        &#39;email&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;email&#39;),\r\n            &#39;required&#39; =&gt; true,\r\n            &#39;message&#39; =&gt; &quot;You must specify a valid Email address.&quot;,\r\n        ),\r\n        &#39;isUnique&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; &#39;isUnique&#39;,\r\n            &#39;message&#39; =&gt; &quot;This Email is already taken.&quot;,\r\n        ),\r\n    ),\r\n    &#39;user_type&#39; =&gt; array(\r\n        &#39;inList&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;inList&#39;, array(&#39;particular&#39;,&#39;professional&#39;,&#39;association&#39;)),\r\n            &#39;required&#39; =&gt; false,\r\n            &#39;message&#39;   =&gt; &quot;Your choice is not valid.&quot;,\r\n        ),\r\n    ),\r\n    &#39;denomination&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 150),\r\n            &#39;message&#39; =&gt; &quot;Your company name can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;siret&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 45),\r\n            &#39;message&#39; =&gt; &quot;Your company registration number can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;phone&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 20),\r\n            &#39;message&#39; =&gt; &quot;Your phone number can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;address&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 255),\r\n            &#39;message&#39; =&gt; &quot;Your email address can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;zipcode&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 15),\r\n            &#39;message&#39; =&gt; &quot;Your zip code can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;city&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 150),\r\n            &#39;message&#39; =&gt; &quot;Your city can&#39;t contain more than %d characters.&quot;,\r\n            &#39;on&#39; =&gt; &#39;update&#39;,\r\n        ),\r\n    ),\r\n    &#39;birth&#39; =&gt; array(\r\n        &#39;maxLength&#39; =&gt; array(\r\n            &#39;rule&#39; =&gt; array(&#39;maxLength&#39;, 10),\r\n            &#39;message&#39; =&gt; &#39;%d characters maximum for your date of birth.&#39;,\r\n            &#39;allowEmpty&#39; =&gt; true,\r\n        ),\r\n    ),\r\n);</code></pre>\r\n\r\n<p>And some times, i have this error too : (if it can help)</p>\r\n\r\n<pre>\r\n<code>Fatal Error\r\nError: Call to undefined method Validation::getDataSource() \r\nFile: Z:\\wamp\\www\\gc2\\lib\\Cake\\Model\\Datasource\\DboSource.php   \r\nLine: 1062\r\n\r\nNotice: If you want to customize this error message, create app\\View\\Errors\\fatal_error.ctp</code></pre>\r\n\r\n<p>Version of CakePHP : 2.4.3 (Sorry for my bad english, i&#39;m french ^^)</p>\r\n', 1, 1, 0, '2013-12-22 14:35:03', '2013-12-22 14:35:03'),
(56, 'Cakephp what does $this->request->params[''pass''][0] mean?', '<p>Hi I need help in this line of code, I already searched in the docs I found <code>$this-&gt;request-&gt;params[&#39;pass&#39;][0]</code> but I can&#39;t understand what&#39;s it&#39;s use</p>\r\n\r\n<p>What does <code>$this-&gt;request-&gt;params[&#39;pass&#39;][0]</code> mean?</p>\r\n\r\n<p>Can anyone please help me into this?</p>\r\n', 1, 1, 0, '2013-12-22 14:36:27', '2013-12-22 14:36:27'),
(57, 'How do I enable the Newsletter Plugin for CakePHP?', '<p>want to put a newsletter in my website and I am using the following plugin:</p>\r\n\r\n<p><a href="https://github.com/edap/cakephp-newsletter-plugin">https://github.com/edap/cakephp-newsletter-plugin</a></p>\r\n\r\n<p>I already followed these steps:</p>\r\n\r\n<p>Step 1: <a href="http://iandeth.dyndns.org/mt/ian/archives/20120110-cakephp-extendassociations-behavior/ExtendAssociations2Behavior.txt">http://iandeth.dyndns.org/mt/ian/archives/20120110-cakephp-extendassociations-behavior/ExtendAssociations2Behavior.txt</a> save it under <code>Models/Behavior/ExtendAssociationsBehavior.php</code></p>\r\n\r\n<p>Step 2: You MUST have a sendEmail() function in your Appcontroller, like follow</p>\r\n\r\n<pre>\r\n<code>public function sendEmail($subject, $message, $address) {\r\n    App::uses(&#39;CakeEmail&#39;, &#39;Network/Email&#39;);\r\n    $email = new CakeEmail(&#39;default&#39;);\r\n    $email-&gt;from(array(&#39;your@email.com&#39; =&gt; &#39;My Site&#39;));\r\n    $email-&gt;to($address);\r\n    $email-&gt;subject($subject);\r\n    $email-&gt;send($message);\r\n}</code></pre>\r\n\r\n<p>Step 3: drop the plugin files in the folder <code>app/Plugins/Newsletter/</code></p>\r\n\r\n<p>Step 4: create the necessary DB tables using the file in <code>app/plugins/newsletter/config/sql/schema.sql</code></p>\r\n\r\n<p>Step 5: Add this variable to your <code>app/Config/bootstrap.php</code> file</p>\r\n\r\n<p>I am stuck at the next step:</p>\r\n\r\n<p>Step 6: JQuery for ajax calls in <code>admin_send.ctp</code></p>\r\n\r\n<p>Step 7: Explain Configuration Fields</p>\r\n\r\n<pre>\r\n<code>$subject = Configure::read(&#39;Newsletter.unsubscribe_subject&#39;);\r\n$subject = Configure::read(&#39;Newsletter.subscribe_subject&#39;);\r\n$from = Configure::read(&#39;Newsletter.from&#39;); #Required\r\n$from_email = Configure::read(&#39;Newsletter.from_email&#39;); #Required\r\n\r\n$subject = Configure::read(&#39;Newsletter.sendX&#39;); #Number of emails to sent at each admin_send call.\r\n$subject = Configure::read(&#39;Newsletter.sendInterval&#39;); #the interval time before send next batch\r\n$subject = Configure::read(&#39;Newsletter.mail_opt_out_message&#39;);\r\n$subject = Configure::read(&#39;Newsletter.emptyImagePath&#39;);</code></pre>\r\n\r\n<p>Can anyone help me? How can I add the form so the user can input their email?</p>\r\n', 1, 1, 0, '2013-12-22 14:37:20', '2013-12-22 14:37:20'),
(58, 'How is cake PHP different from normal PHP [on hold]', '<p>I have worked with php, writing procedural code with no concept of class and objects or MVC pattern. I want to move to OOP in php with MVC. I have heard of cake PHP and people say it is a MVC framework. What actually is it? Is it a style of programming or is there something i need to download to work with cake php. I have gone through many sites and am still not clear about it. Please help me out</p>\r\n', 1, 1, 0, '2013-12-22 14:38:04', '2013-12-22 14:38:04'),
(59, 'The relation does not exist in postgresql', '<p>I am have big problem with Postgresql. I&#39;m trying to insert record to postgres. But i had error: The relation &quot;member_orderinfo2&quot; does not exist. But this table had exist when i&#39;m insert record. This is my query to insert</p>\r\n\r\n<pre>\r\n<code>insert into &quot;member_orderinfo2&quot;(order_id,slim_code,order_date,customer_order_number,ship_date,deliver_company,deliver_number,deliver_address,product_code,product_name,amount,unit_price,total_cost,order_customer_name,ship_status) values\r\n(  &#39;30059078&#39;,&#39;4170906&#39;,&#39;20131118&#39;,&#39;15754727-03&#39;,&#39;0&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;0996381&#39;,&#39;RD151-50SN(&#39;,&#39;5&#39;,&#39;5120.00&#39;,&#39;25600&#39;,&#39;&#39;,&#39;&#39; )</code></pre>\r\n\r\n<p>What is error ???</p>\r\n', 1, 1, 0, '2013-12-22 14:39:14', '2013-12-22 14:39:14'),
(60, 'i just want to fetch values which i have selected', '<p>$sql = &quot;SELECT workload_id FROM workload&quot;; $result = mysql_query($sql);</p>\r\n\r\n<p>echo &quot;&quot;; while ($row = mysql_fetch_array($result)) { echo &quot;&quot; . $row[&#39;workload_id&#39;] .&quot;&quot;;</p>\r\n\r\n<pre>\r\n<code>//$wId = $_POST[&#39;workload_id&#39;]; // Get the workload id from the drop down</code></pre>\r\n\r\n<p>$wId = $row[&#39;workload_id&#39;]; //$wId = $option value;<br />\r\n$result1 = mysql_query(&quot;SELECT * FROM <code>workload</code> WHERE <code>workload_id</code> = &#39;&quot;.$wId.&quot;&#39;&quot;); //$result1 = mysql_query(&quot;SELECT * FROM <code>workload</code> WHERE <code>workload_id</code> = &#39;5&#39;&quot;);</p>\r\n\r\n<pre>\r\n<code>//Get all the logged in user information from the database users table\r\n$get_user_details = mysql_fetch_array($result1);\r\n\r\n$workload_id = strip_tags($get_user_details[&#39;workload_id&#39;]);\r\n$f_id = strip_tags($get_user_details[&#39;f_id&#39;]);\r\n$pastresult = strip_tags($get_user_details[&#39;pastresult&#39;]);\r\n$year = strip_tags($get_user_details[&#39;year&#39;]);\r\n$semester = strip_tags($get_user_details[&#39;semester&#39;]);\r\n$section = strip_tags($get_user_details[&#39;section&#39;]);\r\n$subject = strip_tags($get_user_details[&#39;subject&#39;]);</code></pre>\r\n\r\n<p>} echo &quot;&quot;;</p>\r\n', 1, 1, 0, '2013-12-25 19:33:38', '2013-12-25 19:33:38'),
(61, 'CAKE_CORE_INCLUDE_PATH troubles', '<p>My CakePHP website was working perfectly for months, until I tried accessing it today, I got the following error:</p>\r\n\r\n<pre>\r\n<code>Warning: include(Cake/bootstrap.php): failed to open stream: No such file or directory in /home/corneenm/public_html/app/webroot/index.php on line 82\r\n\r\nWarning: include(Cake/bootstrap.php): failed to open stream: No such file or directory in /home/corneenm/public_html/app/webroot/index.php on line 82\r\n\r\nWarning: include(): Failed opening &#39;Cake/bootstrap.php&#39; for inclusion (include_path=&#39;.:/usr/lib/php:/usr/local/lib/php&#39;) in /home/corneenm/public_html/app/webroot/index.php on line 82\r\n\r\nFatal error: CakePHP core could not be found. Check the value of CAKE_CORE_INCLUDE_PATH in APP/webroot/index.php. It should point to the directory containing your /cake core directory and your /vendors root directory. in /home/corneenm/public_html/app/webroot/index.php on line 91</code></pre>\r\n\r\n<p>I recently bought another hosting package from the same company, but the two do not seem to be related. I can&#39;t seem to figure out what might be going wrong.</p>\r\n\r\n<p>Also: When copying the site to localhost, it still works like a charm... What can I do?</p>\r\n', 1, 1, 0, '2013-12-25 19:34:12', '2013-12-25 19:34:12'),
(62, 'How to use custom MySQL queries in CakePHP?', '<p>I am working on cakephp now.Please explain the process of custom mysql query in cake php. we have to write query by using</p>\r\n\r\n<pre>\r\n<code>$this-&gt;Model-&gt;query();</code></pre>\r\n\r\n<p>and I return this to controller.In controller,i loaded the model in particular function and i called the function and set that function to view like this</p>\r\n\r\n<pre>\r\n<code>$this-&gt;set(&#39;post&#39;,$this-&gt;User-&gt;get());</code></pre>\r\n\r\n<p>is it correct process?please explain the code ...</p>\r\n', 1, 1, 0, '2013-12-25 19:34:42', '2013-12-25 19:34:42'),
(63, 'Usually the form is POST, but in a single instance it is GET', '<p>I do a standard pattern in my application - a link to /controller/delete/object_id, then a post form to &quot;confirm&quot;, a check if $this-&gt;request-&gt;is(&#39;post&#39;) and if true - the controller deletes the object from database.</p>\r\n\r\n<p>What is weird is that for a single, particular object_id, my browser (Firefox) forces the form to be a GET one. With any other object_id everything is ok, but with this particular one, despite all declarations within form tag and etc. brower generates a GET request.</p>\r\n\r\n<p>Do you have any clue what this might be?! I even tried to use brower&#39;s private mode, because I thought it can be some garbage in browser cache, but the bug is still here.</p>\r\n', 1, 1, 0, '2013-12-25 19:36:03', '2013-12-25 19:36:03'),
(64, 'Multiple sessions for different instances of Cakephp in the same domain', '<p>Did you know that if you run multiple instances of the same application in Cakephp in the same domain, they will share the same Session? For example, suppose you have instances running at:</p>\r\n\r\n<p>www.example.com/instance1 and www.example.com/instance2</p>\r\n\r\n<p>If you login in the first instance and access instance2, you&rsquo;ll see that you will already be logged in. This happens because Cakephp, per default, uses the PHP Session storage mechanism.</p>\r\n\r\n<p>If this is not the behaviour you expect, Cakephp allows you to choose from three options for the Session handling method: php (default), cake and database. The current method is stored in the Session.save variable in app/config/core.php.</p>\r\n\r\n<p>Changing the method from php to cake will make Cakephp store the Session variables in the app/tmp/sessions directory. If you do it, remember to create and give the appropriate permissions to this directory.</p>\r\n\r\n<p>Voil&aacute;, that&rsquo;s all you need to do have separate Sessions for each of your Cakephp instances.</p>\r\n', 1, 1, 0, '2013-12-25 19:37:21', '2013-12-25 19:37:21'),
(65, 'How to insert array value in cake php', '<p>I have define array value in multiple select value drop down but when we submit the form it is showing multiple array value error.</p>\r\n\r\n<p>Please advice.</p>\r\n', 1, 1, 0, '2013-12-25 19:38:02', '2013-12-25 19:38:02'),
(66, 'cakephp bypass change from $_GET', '<p>I have a pagination issue where the pagination array looks as follows:</p>\r\n\r\n<pre>\r\n<code>Array\r\n(\r\n[fields] =&gt; Array\r\n    (\r\n        [0] =&gt; DISTINCT Product.*\r\n        [1] =&gt; ProductImage.*\r\n        [2] =&gt; ProductStore.*\r\n        [3] =&gt; ProductStore.retail_level_1 AS priceyprice\r\n        [4] =&gt; Product.bestseller AS bestybest\r\n        [5] =&gt; Product.inserted_date AS insertysert\r\n        [6] =&gt; (CASE WHEN `Product`.`title` LIKE &#39;%dog%&#39; THEN 2 ELSE 0 END) AS exact\r\n        [7] =&gt; (CASE WHEN `Product`.`alias` LIKE &#39;%dog%&#39; THEN 1 ELSE 0 END) AS alias\r\n    )\r\n\r\n[order] =&gt; Array\r\n    (\r\n        [0] =&gt; priceyprice ASC\r\n    )\r\n\r\n[conditions] =&gt; Array\r\n    (\r\n        [Product.product_type] =&gt; Array\r\n            (\r\n                [0] =&gt; 0\r\n                [1] =&gt; 1\r\n                [2] =&gt; 3\r\n            )\r\n\r\n        [OR] =&gt; Array\r\n            (\r\n                [0] =&gt; Array\r\n                    (\r\n                        [0] =&gt; Product.title LIKE &quot;%dog%&quot;\r\n                        [1] =&gt; Product.title LIKE &quot;%dogs%&quot;\r\n                        [2] =&gt; Product.title LIKE &quot;%dog%&quot;\r\n                        [3] =&gt; Product.alias LIKE &quot;%dogs%&quot;\r\n                        [4] =&gt; Product.alias LIKE &quot;%dog%&quot;\r\n                    )\r\n\r\n                [1] =&gt; Array\r\n                    (\r\n                        [Product.title LIKE] =&gt; %dog%\r\n                    )\r\n\r\n                [2] =&gt; Array\r\n                    (\r\n                        [Product.description LIKE] =&gt; %dog%\r\n                    )\r\n\r\n                [3] =&gt; Array\r\n                    (\r\n                        [0] =&gt; Product.id IN (285,334)\r\n                    )\r\n\r\n                [4] =&gt; Array\r\n                    (\r\n                        [Product.title LIKE] =&gt; %dog%\r\n                    )\r\n\r\n                [5] =&gt; Array\r\n                    (\r\n                        [Product.description LIKE] =&gt; %dog%\r\n                    )\r\n\r\n                [6] =&gt; Array\r\n                    (\r\n                        [0] =&gt; Product.id IN (285,334,285,334)\r\n                    )\r\n\r\n            )\r\n\r\n    )\r\n\r\n[recursive] =&gt; -1\r\n[joins] =&gt; Array\r\n    (\r\n        [0] =&gt; Array\r\n            (\r\n                [table] =&gt; product_attribute_values\r\n                [type] =&gt; left\r\n                [foreignKey] =&gt; \r\n                [conditions] =&gt; Array\r\n                    (\r\n                        [0] =&gt; product_attribute_values.product_id = Product.id\r\n                    )\r\n\r\n            )\r\n\r\n        [1] =&gt; Array\r\n            (\r\n                [table] =&gt; product_images\r\n                [alias] =&gt; ProductImage\r\n                [type] =&gt; left\r\n                [foreignKey] =&gt; \r\n                [conditions] =&gt; Array\r\n                    (\r\n                        [0] =&gt; ProductImage.product_id = Product.id\r\n                        [1] =&gt; ProductImage.default = 1\r\n                    )\r\n\r\n            )\r\n\r\n        [2] =&gt; Array\r\n            (\r\n                [table] =&gt; product_stores\r\n                [alias] =&gt; ProductStore\r\n                [type] =&gt; left\r\n                [foreignKey] =&gt; \r\n                [conditions] =&gt; Array\r\n                    (\r\n                        [0] =&gt; ProductStore.product_id = Product.id\r\n                        [1] =&gt; ProductStore.store_id = 1\r\n                    )\r\n\r\n            )\r\n\r\n    )\r\n\r\n[limit] =&gt; 12\r\n)</code></pre>\r\n\r\n<p>This however generates a query that simply ignores the order by sql section. however the original query does order by when the following is in the array:</p>\r\n\r\n<pre>\r\n<code> [order] =&gt; Array\r\n    (\r\n        [0] =&gt; exact DESC\r\n        [1] =&gt; alias DESC\r\n    )</code></pre>\r\n\r\n<p>The origional array is auto generated from an inefficient ecommerce system. I am trying to change the query on the fly using a $_GET.</p>\r\n\r\n<p>Could someone inform me if I need to change somewhere else in ordeer to rejig my SQL as my changes in the pagination array are just ignored....</p>\r\n', 1, 1, 0, '2013-12-25 19:39:07', '2013-12-25 19:39:07'),
(67, 'php cake Controller redirect fails on external URL or with jQuery / AJAX', '<p>I have an app built in Cake-PHP that works great. I have a large number of dynamically generated forms which take a bit of CPU server side, so what I do is serve a main page with a bunch of empty DIVs and load each form on demand with a jQuery.ajax GET call instead of a page-level URL, and send the form back in a similar manner with a jQuery POST. All of this works great.</p>\r\n\r\n<p>I also have session management with a timeout and login screen, and the PHP code is set up to throw a 302 from the Controller with <code>$this-&gt;redirect(&#39;/login&#39;,302)</code> ... this works fine when the request comes from the browser, e.g. if I put up a little form and submit it with a plain <code>INPUT TYPE=SUBMIT</code> button. Response time is &lt; 100ms.</p>\r\n\r\n<p>If I submit an ostensibly identical request using $.ajax() the behaviour is totally different ... with the same code calling $this-&gt;redirect throws an exception from within the cake code, which looks like this ... the whole thing is ~30MB so I didn&#39;t include it all :)</p>\r\n\r\n<pre>\r\n<code>MissingControllerException Object\r\n(\r\n[_messageTemplate:protected] =&gt; Controller class %s could not be found.\r\n[_attributes:protected] =&gt; Array\r\n    (\r\n        [class] =&gt; Controller\r\n        [plugin] =&gt; \r\n    )\r\n\r\n[_responseHeaders:protected] =&gt; \r\n[message:protected] =&gt; Controller class Controller could not be found.\r\n[string:Exception:private] =&gt; \r\n[code:protected] =&gt; 404\r\n[file:protected] =&gt; /var/www/bfdave/bf/lib-2.3.1/Cake/Routing/Dispatcher.php\r\n[line:protected] =&gt; 156\r\n[trace:Exception:private] =&gt; Array\r\n    (\r\n        [0] =&gt; Array\r\n            (\r\n                [file] =&gt; /var/www/bfdave/bf/lib-2.3.1/Cake/Core/Object.php\r\n                [line] =&gt; 103\r\n                [function] =&gt; dispatch\r\n                [class] =&gt; Dispatcher\r\n                [type] =&gt; -&gt;\r\n                [args] =&gt; Array\r\n                    (\r\n                        [0] =&gt; CakeRequest Object\r\n                            (\r\n                                [params] =&gt; Array\r\n                                    (\r\n                                        [plugin] =&gt; \r\n                                        [controller] =&gt; \r\n                                        [action] =&gt; \r\n                                        [named] =&gt; Array\r\n                                            (\r\n                                            )\r\n\r\n                                        [pass] =&gt; Array\r\n                                            (\r\n                                            )\r\n\r\n                                        [autoRender] =&gt; 1\r\n                                        [return] =&gt; 0\r\n                                        [bare] =&gt; \r\n                                        [requested] =&gt; 1\r\n                                    )</code></pre>\r\n', 1, 1, 0, '2013-12-25 19:39:51', '2013-12-25 19:39:51'),
(68, 'CakePHP: Unable to find Auth data in $_SESSION', '<p>I&#39;m doing some basic integration between a CakePHP app and some external code. I want the external code to know if a user is logged in. The external code does not load CakePHP, so thought I would access that data directly using <code>$_SESSION</code>, but when I dump it it&#39;s an empty array, even when I&#39;m logged into CakePHP.</p>\r\n\r\n<p>Am I missing something? Why isn&#39;t the session data from CakePHP showing up?</p>\r\n', 1, 1, 0, '2013-12-25 19:40:23', '2013-12-25 19:40:23'),
(69, 'CakePHP: Use AWS''s DynamoDB Session Handler', '<p>I have a CakePHP application hosted on AWS Elastic Beanstalk. Because of the multiple EC2 instances I will use in the future I want to store my PHP sessions in a database. AWS provides a very nice library for storing PHP sessions in their DynamoDB database. See <a href="http://goo.gl/URoi3s">http://goo.gl/URoi3s</a></p>\r\n\r\n<p>Now I putted the AWS SDK in my vendors folder and created an access wrapper for it (a plugin):</p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\n\r\nConfigure::load(&#39;aws&#39;);\r\n\r\nrequire_once VENDORS . &#39;autoload.php&#39;;\r\nuse Aws\\Common\\Aws;\r\n\r\nclass AwsComponent extends Component\r\n{\r\n    private $_aws;\r\n\r\n    public function __construct()\r\n    {\r\n        $this-&gt;_aws = Aws::factory(array(\r\n            &#39;key&#39;    =&gt; Configure::read(&#39;Aws.key&#39;),\r\n            &#39;secret&#39; =&gt; Configure::read(&#39;Aws.secret&#39;),\r\n            &#39;region&#39; =&gt; Configure::read(&#39;Aws.region&#39;)\r\n        ));\r\n    }\r\n\r\n    public function getClient($service)\r\n    {\r\n        return $this-&gt;_aws-&gt;get($service);\r\n    }\r\n}</code></pre>\r\n\r\n<p>The wrapper is working well, I already implemented some S3 stuff. Now for the session handler i added the following code to my AppController.php:</p>\r\n\r\n<pre>\r\n<code>public $components = array(&#39;Aws.Aws&#39;);\r\n\r\npublic function beforeFilter()\r\n{\r\n    $this-&gt;_setSessionStorage();\r\n}\r\n\r\nprivate function _setSessionStorage()\r\n{\r\n    $client = $this-&gt;Aws-&gt;getClient(&#39;dynamodb&#39;);\r\n\r\n    $client-&gt;registerSessionHandler(array(\r\n        &#39;table_name&#39; =&gt; &#39;sessions&#39;\r\n    ));\r\n}</code></pre>\r\n\r\n<p>The AWS&#39;s internal registerSessionHandler() is executed (tested it) but the session is not beeing stored into the DynamoDB table. Of course I created the table before and if I add the call to the AWS library directly to my webroot/index.php before dispatcher is loaded everything works fine.</p>\r\n\r\n<p>I think the problem is that my code is executed after CakePHP calls session_start(). So what is the best way to implement that? <a href="http://goo.gl/kUFUIR">http://goo.gl/kUFUIR</a> doesn&#39;t help me, I don&#39;t want to rewrite the AWS library for beeing compatible with the CakePHP interface.</p>\r\n', 1, 1, 0, '2013-12-25 19:41:29', '2013-12-25 19:41:29'),
(70, 'CakePHP 2.4.3 URL-Rewriting module not working', '<p>Ok...</p>\r\n\r\n<p>Getting tired of this issue. So I thought I would ask here</p>\r\n\r\n<p>Just to clarify I did follow the Cake PHP documentation on this. I did google this for almost 2 hours and guess what ... no luck</p>\r\n\r\n<ol>\r\n	<li>I did enable the mod-rewrite -&gt; this took me a while as I dont have an httpd.conf file</li>\r\n	<li>\r\n	<p>I edited my htaccess file in webroot etc to include:</p>\r\n\r\n	<pre>\r\n<code>&lt;IfModule mod_rewrite.c&gt;\r\n    RewriteEngine On\r\n    RewriteCond %{REQUEST_FILENAME} !-d\r\n    RewriteCond %{REQUEST_FILENAME} !-f\r\n    RewriteRule ^(.*)$ index.php [QSA,L]\r\n&lt;/IfModule&gt;</code></pre>\r\n	</li>\r\n</ol>\r\n\r\n<p>As recommended by another poster on this site</p>\r\n\r\n<p>No Luck. Am I missing something special here like a tad of mystical unicorn dust on my installation or am I being stupid?</p>\r\n\r\n<p>Lemme know if you need something else</p>\r\n\r\n<p>Oh I did a LAMP installation thing a while ago</p>\r\n\r\n<p>Your guidance will be much appreciated :)</p>\r\n\r\n<p>[edit] cahnged tags to 2.4 instead of 2.3 &lt;-- My bad</p>\r\n', 1, 1, 0, '2013-12-25 19:42:37', '2013-12-25 19:42:37'),
(71, 'CakePHP localization not working for core messages', '<p>I&#39;ve followed the official <a href="http://book.cakephp.org/2.0/en/core-libraries/internationalization-and-localization.html">Internationalization &amp; Localization</a> guide and I got all my site-specific messages translated as expected.</p>\r\n\r\n<p>However for some reason the core CakePHP messages are not translated/localized, e.g. AuthComponent message &quot;You are not authorized to access that location.&quot; is still displayed in English when my custom messages are translated to Polish according to the default.po file definition.</p>\r\n', 1, 1, 0, '2013-12-25 19:52:27', '2013-12-25 19:52:27'),
(72, 'CakePHP 2.0 : Database connection Mysql is missing, or could not be created', '<p>following the installation of CakePHP 2.0 (modified, I said that I get the same problem on a clean install of cakephp 2.0) I found myself facing an error I have not been able to solve.</p>\n\n<p><em><strong>configuration:</strong></em></p>\n\n<p><strong>server</strong> : debian weezy 7</p>\n\n<p><strong>user</strong> : test</p>\n\n<p><strong>structure</strong> : /wwwjail/siteroot/test/htdocs/[app/...]</p>\n\n<p><strong>nginx configuration</strong></p>\n\n<p><em>cat /etc/nginx/sites-available/test</em></p>\n\n<pre>\n<code>server {\n    listen IP:80 default;\n    server_name domain.fr;\n    access_log /var/log/nginx/test.access.log;\n    error_log  /var/log/nginx/test.error.log;\n\n    autoindex off;\n    index index.php index.html;\n    root /wwwjail/siteroot/test/htdocs/;\n\n    location ~ \\.php$ {\n                        try_files $uri =404;\n\n                        fastcgi_intercept_errors on;\n                        fastcgi_pass unix:/wwwjail/siteroot/test/php-fpm.sock;\n\n                        include /etc/nginx/fastcgi_params;\n                        fastcgi_param SCRIPT_FILENAME $fastcgi_script_name;\n    }\n}</code></pre>\n\n<p><strong>php5-fpm configuration</strong></p>\n\n<p><em>cat /etc/php5/fpm/pool.d/test.conf</em></p>\n\n<pre>\n<code>[test]\nlisten = /wwwjail/siteroot/test/php-fpm.sock\nchroot = /wwwjail/siteroot/test/htdocs\n\nuser = test\ngroup = test\n\nlisten.allowed_clients = 127.0.0.1\nlisten.owner = test\nlisten.group = test\nlisten.backlog = -1\npm = dynamic\npm.max_children = 5\npm.start_servers = 2\npm.min_spare_servers = 1\npm.max_spare_servers = 3\npm.max_requests = 200\npm.status_path = /status_31337\nrequest_terminate_timeout = 30s\ncatch_workers_output = yes\nphp_value[session.save_path] = /tmp</code></pre>\n\n<p><strong>Visible errors on the page:</strong></p>\n\n<pre>\n<code>Database connection &quot;Mysql&quot; is missing, or could not be created.\n\nError: An Internal Error Has Occurred.\nStack Trace\n\n    ROOTlibROOTCakeROOTModelROOTDatasourceROOTDboSource.php line 262 &rarr; Mysql-&gt;connect()\n    ROOTlibROOTCakeROOTModelROOTConnectionManager.php line 107 &rarr; DboSource-&gt;__construct(array)\n    ROOTlibROOTCakeROOTModelROOTModel.php line 3221 &rarr; ConnectionManager::getDataSource(string)\n    ROOTlibROOTCakeROOTModelROOTModel.php line 1108 &rarr; Model-&gt;setDataSource(string)\n    ROOTlibROOTCakeROOTModelROOTModel.php line 3243 &rarr; Model-&gt;setSource(string)\n    ROOTlibROOTCakeROOTModelROOTModel.php line 2696 &rarr; Model-&gt;getDataSource()\n    ROOTappROOTControllerROOTAppController.php line 70 &rarr; Model-&gt;find(string, array)\n    ROOTappROOTControllerROOTChallengesController.php line 57 &rarr; AppController-&gt;beforeFilter()\n    [internal function] &rarr; ChallengesController-&gt;beforeFilter(CakeEvent)\n    ROOTlibROOTCakeROOTEventROOTCakeEventManager.php line 248 &rarr; call_user_func(array, CakeEvent)\n    ROOTlibROOTCakeROOTControllerROOTController.php line 670 &rarr; CakeEventManager-&gt;dispatch(CakeEvent)\n    ROOTlibROOTCakeROOTRoutingROOTDispatcher.php line 184 &rarr; Controller-&gt;startupProcess()\n    ROOTlibROOTCakeROOTRoutingROOTDispatcher.php line 162 &rarr; Dispatcher-&gt;_invoke(ChallengesController, CakeRequest, CakeResponse)\n    ROOTappROOTwebrootROOTindex.php line 109 &rarr; Dispatcher-&gt;dispatch(CakeRequest, CakeResponse)\n    ROOTindex.php line 43 &rarr; require(string)\n\nCakePHP: the rapid development php framework</code></pre>\n\n<p><strong>Nginx Error log nginx :</strong></p>\n\n<pre>\n<code>2013/12/24 12:23:03 [error] 17792#0: *535 open() &quot;/wwwjail/siteroot/test/htdocs/css/default.css&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /css/default.css HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *536 open() &quot;/wwwjail/siteroot/test/htdocs/css/bootstrap.css&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /css/bootstrap.css HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *537 open() &quot;/wwwjail/siteroot/test/htdocs/css/jqplot.css&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /css/jqplot.css HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *538 open() &quot;/wwwjail/siteroot/test/htdocs/js/jqplot.js&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /js/jqplot.js HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *534 open() &quot;/wwwjail/siteroot/test/htdocs/js/holder.js&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /js/holder.js HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *531 open() &quot;/wwwjail/siteroot/test/htdocs/css/cake.generic.css&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /css/cake.generic.css HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *531 open() &quot;/wwwjail/siteroot/test/htdocs/img/cake.power.gif&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /img/cake.power.gif HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *535 open() &quot;/wwwjail/siteroot/test/htdocs/js/jqplot.js&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /js/jqplot.js HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *531 open() &quot;/wwwjail/siteroot/test/htdocs/js/holder.js&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /js/holder.js HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *531 open() &quot;/wwwjail/siteroot/test/htdocs/css/cake.generic.css&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /css/cake.generic.css HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;\n2013/12/24 12:23:03 [error] 17792#0: *531 open() &quot;/wwwjail/siteroot/test/htdocs/img/cake.power.gif&quot; failed (2: No such file or directory), client: myIP, server: domain.fr, request: &quot;GET /img/cake.power.gif HTTP/1.1&quot;, host: &quot;IP:80&quot;, referrer: &quot;http://IP:80/&quot;</code></pre>\n\n<p>On the <strong>mysql database credentials are correct</strong>, the user mysql user-test exist and full access to test.*</p>\n\n<p><em>cat /wwwjail/siteroot/test/htdocs/app/Config/database.php</em></p>\n\n<pre>\n<code>class DATABASE_CONFIG {\n\n    public $default = array(\n        &#39;datasource&#39; =&gt; &#39;Database/Mysql&#39;,\n        &#39;persistent&#39; =&gt; false,\n        &#39;host&#39; =&gt; &#39;127.0.0.1&#39;,\n        &#39;login&#39; =&gt; &#39;user-test&#39;,\n        &#39;password&#39; =&gt; &#39;mypassword&#39;,\n        &#39;database&#39; =&gt; &#39;test&#39;,\n        &#39;prefix&#39; =&gt; &#39;&#39;,\n        &#39;encoding&#39; =&gt; &#39;utf8&#39;\n    );\n}</code></pre>\n\n<p><strong>Checking the connection with the config file of CakePHP (script found on stackoverflow)</strong></p>\n\n<pre>\n<code>&lt;?php\ninclude(&quot;app/Config/database.php&quot;);\n$config= new DATABASE_CONFIG();\n\n$name = &#39;default&#39;;\n\n$settings=$config-&gt;{$name};\n$dsn = &#39;mysql:dbname=&#39;.$settings[&#39;database&#39;].&#39;;host=&#39;.$settings[&#39;host&#39;];\n$user = $settings[&#39;login&#39;];\n$password = $settings[&#39;password&#39;];\n\ntry {\n    $dbh = new PDO($dsn, $user, $password);\n    echo &quot;Connection succeeded with dsn: &quot;. $dsn . &quot;\\n&quot;;\n    $sql = &#39;SELECT id, title FROM posts&#39;;\n    echo &quot;Here is the contents of the table `posts:&quot;;\n    foreach ($dbh-&gt;query($sql) as $row) {\n        print $row[&#39;id&#39;] . &quot;\\t&quot; . $row[&#39;title&#39;] . &quot;\\n&quot;;\n    }\n} catch (PDOException $e) {\n    echo &#39;PDO error: &#39; . $e-&gt;getMessage();\n}\n\n?&gt;</code></pre>\n\n<p>====&gt; return: <code>Connection succeeded with dsn: mysql:dbname=test;host=127.0.0.1 Here is the contents of the table</code>posts:`</p>\n\n<p><strong>Checking socket with php.ini</strong></p>\n\n<p>*grep -i &#39;default_socket&#39; /etc/php5/fpm/php.ini*</p>\n\n<pre>\n<code>default_socket_timeout = 60\npdo_mysql.default_socket= /wwwjail/var/run/mysqld/mysqld.sock\nmysql.default_socket = /wwwjail/var/run/mysqld/mysqld.sock \nmysqli.default_socket = /wwwjail/var/run/mysqld/mysqld.sock</code></pre>\n\n<p><strong>Verification of the existence of the PDO extension.</strong></p>\n\n<pre>\n<code>var_dump( extension_loaded(&#39;pdo_mysql&#39;) );</code></pre>\n\n<p>return =&gt; bool(true)</p>\n\n<p>I hope I have provided much information about my problem. I am willing to perform various manipulations to test. (I think a problem server side configuration necessarily, although this configuration works for other basic applications connecting to mysql also).</p>\n\n<p>Sincerely.</p>\n', 1, 1, 0, '2013-12-25 19:53:23', '2013-12-25 19:53:23'),
(73, 'return number of contacts updated in google contacts through api', '<p>We have written code in <code>cakephp</code> to enter contacts in <code>Google contacts</code> through <code>api</code>, Contacts have added in Google through <code>Google xml</code> request , but how can we get total number of contacts added or updated in Google contacts after code successfully executed</p>\r\n\r\n<p>here is code:</p>\r\n\r\n<pre>\r\n<code>public function addContact($token=null,$atContacts=null){\r\nforeach ( $atContacts as $contact ) {\r\n$xml = &lt;&lt;&lt;&#39;EOF&#39;\r\n    &lt;atom:entry xmlns:atom=&#39;http://www.w3.org/2005/Atom&#39;               \r\n     xmlns:gd=&#39;http://schemas.google.com/g/2005&#39;&gt;\r\n     &lt;atom:category scheme=&#39;http://schemas.google.com/g/2005#kind&#39;       \r\n     term=&#39;http://schemas.google.com/contact/2008#contact&#39;/&gt;\r\n       &lt;title type=&quot;text&quot;&gt;TITLE&lt;/title&gt;\r\n       &lt;gd:name&gt;\r\n     &lt;gd:givenName&gt;First&lt;/gd:givenName&gt;\r\n     &lt;gd:additionalName&gt;ADDITIONALNAME&lt;/gd:additionalName&gt;\r\n  &lt;gd:familyName&gt;Last&lt;/gd:familyName&gt;\r\n &lt;gd:namePrefix&gt;NAMEPREFIX&lt;/gd:namePrefix&gt;\r\n &lt;gd:nameSuffix&gt;NAMESUFFIX&lt;/gd:nameSuffix&gt;\r\n  &lt;/gd:name&gt;\r\n &lt;gd:structuredPostalAddress rel=&#39;http://schemas.google.com/g/2005#work&#39; primary=&#39;true&#39;&gt;\r\n&lt;gd:city&gt;CITY&lt;/gd:city&gt;\r\n&lt;gd:street&gt;STREET&lt;/gd:street&gt;\r\n&lt;gd:region&gt;REGION&lt;/gd:region&gt;\r\n&lt;gd:postcode&gt;POSTCODE&lt;/gd:postcode&gt;\r\n&lt;gd:country&gt;COUNTRY&lt;/gd:country&gt;\r\n&lt;/gd:structuredPostalAddress&gt;\r\n  &lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#home&#39; primary=&#39;true&#39;&gt;\r\n HOMEPHONENUMBER\r\n &lt;/gd:phoneNumber&gt;\\\r\n&lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#mobile&#39;&gt;MOBILENO&lt;/gd:phoneNumber&gt;\r\n&lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#work&#39;&gt;WORKPHONENO&lt;/gd:phoneNumber&gt;\r\n&lt;gd:email label=&quot;home&quot; address=&quot;EMAILADDRESS&quot; displayName=&quot;DISPLAYNAME&quot; /&gt;\r\n&lt;/atom:entry&gt;\r\nEOF;\r\n\r\n\r\n        $xml = str_replace ( &quot;TITLE&quot;, $contact-&gt;Title, $xml );\r\n        $xml = str_replace ( &quot;EMAILADDRESS&quot;, $contact-&gt;EMailAddress, $xml );\r\n        $xml = str_replace ( &quot;DISPLAYNAME&quot;, $contact-&gt;FirstName, $xml );\r\n        $xml = str_replace ( &quot;HOMEPHONENUMBER&quot;, $contact-&gt;AlternatePhone, \r\n                    $xml );\r\n        $xml = str_replace ( &quot;MOBILENO&quot;, $contact-&gt;MobilePhone, $xml );\r\n        $xml = str_replace ( &quot;WORKPHONENO&quot;, $contact-&gt;Phone, $xml );\r\n        $xml = str_replace ( &quot;CITY&quot;, $contact-&gt;City, $xml );\r\n        $xml = str_replace ( &quot;STREET&quot;, $contact-&gt;AddressLine, $xml );\r\n        $xml = str_replace ( &quot;POSTCODE&quot;, $contact-&gt;ZipCode, $xml );\r\n        $xml = str_replace ( &quot;REGION&quot;, $contact-&gt;State, $xml );\r\n        $xml = str_replace ( &quot;COUNTRY&quot;, $contact-&gt;Country, $xml );\r\n$auth_header = array (&#39;Content-Type: application/atom+xml; charset=utf-8;&#39;,\r\n&#39;Authorization: GoogleLogin auth=&#39; . trim ( $token ),\r\n                &#39;Content-length:&#39; . strlen ( $xml ) );\r\n        $url = &#39;https://www.google.com/m8/feeds/contacts/default/full&#39;;\r\n        $curl = curl_init ();\r\n        curl_setopt ( $curl, CURLOPT_URL, $url );\r\n        curl_setopt ( $curl, CURLOPT_POST, 5 );\r\n        curl_setopt ( $curl, CURLOPT_POSTFIELDS, $xml );\r\n        curl_setopt ( $curl, CURLOPT_RETURNTRANSFER, TRUE );\r\n        curl_setopt ( $curl, CURLOPT_SSL_VERIFYPEER, FALSE );\r\n        curl_setopt ( $curl, CURLOPT_HTTPHEADER, $auth_header );\r\n        $xmlresponse = curl_exec ( $curl );\r\n                }\r\n    return $xmlresponse;\r\n}</code></pre>\r\n', 1, 1, 0, '2013-12-25 19:59:28', '2013-12-25 19:59:28');
INSERT INTO `questions` (`id`, `title`, `question`, `user_id`, `is_verified`, `is_active`, `created`, `modified`) VALUES
(74, ' google contacts api not adding name and address in google contact', '<p>we are sending xml through curl in cakephp, but only email and phone numbers are adding in<br />\r\ngoogle contacts , other fields are blank,can we get proper xml to add all fields in google contacts through api our xml code:</p>\r\n\r\n<pre>\r\n<code> $xml = &lt;&lt;&lt;&#39;EOF&#39;\r\n &lt;atom:entry xmlns:atom=&#39;http://www.w3.org/2005/Atom&#39;    \r\n xmlns:gd=&#39;http://schemas.google.com/g/2005&#39;&gt;\r\n\r\n &lt;atom:category scheme=&#39;http://schemas.google.com/g/2005#kind&#39;   \r\n term=&#39;http://schemas.google.com/contact/2008#contact&#39;/&gt;\r\n\r\n   &lt;title type=&quot;text&quot;&gt;TITLE&lt;/title&gt;\r\n  &lt;gd:name&gt;\r\n &lt;gd:givenName&gt;First&lt;/gd:givenName&gt;\r\n &lt;gd:additionalName&gt;ADDITIONALNAME&lt;/gd:additionalName&gt;\r\n &lt;gd:familyName&gt;Last&lt;/gd:familyName&gt;\r\n &lt;gd:namePrefix&gt;NAMEPREFIX&lt;/gd:namePrefix&gt;\r\n &lt;gd:nameSuffix&gt;NAMESUFFIX&lt;/gd:nameSuffix&gt;\r\n  &lt;/gd:name&gt;\r\n &lt;gd:structuredPostalAddress rel=&#39;http://schemas.google.com/g/2005#work&#39; primary=&#39;true&#39;&gt;\r\n &lt;gd:city&gt;CITY&lt;/gd:city&gt;\r\n &lt;gd:street&gt;STREET&lt;/gd:street&gt;\r\n &lt;gd:region&gt;REGION&lt;/gd:region&gt;\r\n&lt;gd:postcode&gt;POSTCODE&lt;/gd:postcode&gt;\r\n&lt;gd:country&gt;COUNTRY&lt;/gd:country&gt;\r\n &lt;/gd:structuredPostalAddress&gt;\r\n&lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#home&#39; primary=&#39;true&#39;&gt;\r\n  HOMEPHONENUMBER\r\n&lt;/gd:phoneNumber&gt;\\\r\n&lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#mobile&#39;&gt;MOBILENO&lt;/gd:phoneNumber&gt;\r\n&lt;gd:phoneNumber rel=&#39;http://schemas.google.com/g/2005#work&#39;&gt;WORKPHONENO&lt;/gd:phoneNumber&gt;\r\n&lt;gd:email label=&quot;home&quot; address=&quot;EMAILADDRESS&quot; displayName=&quot;DISPLAYNAME&quot; /&gt;\r\n&lt;/atom:entry&gt;\r\nEOF;</code></pre>\r\n', 1, 1, 0, '2013-12-25 20:00:31', '2013-12-25 20:00:31'),
(75, 'Associated model conditions being ignored', '<p>I have 2 models: Option and Modifier with such Option belongsTo Modifier relation:</p>\r\n\r\n<pre>\r\n<code>public $belongsTo = array(\r\n&#39;Modifier&#39; =&gt; array(\r\n    &#39;className&#39; =&gt; &#39;Modifier&#39;,\r\n    &#39;foreignKey&#39; =&gt; &#39;modifier_id&#39;,\r\n    &#39;conditions&#39; =&gt; array(&#39;Modifier.type&#39; =&gt; &#39;3&#39;),\r\n    &#39;fields&#39; =&gt; &#39;Modifier.name&#39;,\r\n    &#39;order&#39; =&gt; &#39;Modifier.name ASC&#39;\r\n)\r\n);</code></pre>\r\n\r\n<p>In OptionsController I try to get list of Modifiers:</p>\r\n\r\n<pre>\r\n<code>$modifiers = $this-&gt;Option-&gt;Modifier-&gt;find(&#39;list&#39;);</code></pre>\r\n\r\n<p>And CakePHP generates SQL without conditions, so I get full list of Modifiers. Why CakePHP 2.4.4 ignores conditions, defined in model belongsTo relation? It also ignores fields and order.</p>\r\n', 1, 1, 0, '2013-12-25 20:01:05', '2013-12-25 20:01:05'),
(76, ' What do I use - a Plugin, Component, or Behavior?', '<p>In my CakePHP app, I want to build a plugin or component that would take my data array before save, see if there are files to be uploaded (I will check for fields named <code>attachment</code>, <code>image</code>, <code>thumb</code> and <code>gallery</code>), upload them, create thumbnails if needed, write entries in the appropriate tables and modify the data array with the entry IDs.</p>\r\n\r\n<p>I will use this in several models so I want to make a reusable code (I already have it working as functions in AppModel but it is quite chaotic and I don&#39;t like it).</p>\r\n\r\n<p>Should I make a component that will connect to several Models, or should I make a plugin that will contain the component and the models?</p>\r\n\r\n<p>I like the second option better, but I don&#39;t know how to pull this out (how to load plugin models in the plugin component, or call plugin controller actions from the plugin component without redirect). I also don&#39;t know if this is the right way to do it.</p>\r\n', 1, 1, 0, '2013-12-25 20:01:57', '2013-12-25 20:01:57'),
(77, ' Why is PHPUnit in CakePHP stuck at older version?', '<p>I&#39;m running CakePHP via XAMPP on Ubuntu with PHPUnit 3.6, and I want to upgrade to PHPUnit 3.7. I ran the pear uninstall/install and running <code>phpunit --version</code> reports <code>PHPUnit 3.7.28 by Sebastian Bergmann.</code>.</p>\r\n\r\n<p>However, it now reports as v. 3.7.28 in CLI. However, the browser says version 3.6.</p>\r\n', 1, 1, 0, '2013-12-25 20:02:45', '2013-12-25 20:02:45'),
(78, ' deep association between models', '<p>hi guys i am new to cakephp now i&#39;m facing a little big problem here is the situation</p>\r\n\r\n<p>i hava a shop that hasMany Catalogs which is related to many products each product has a category i want to fetch them all just by getting the shop i dont know how to do it trying to use hasMAny gives me just the ids</p>\r\n\r\n<p>instead is there any way to get shop inside it array of catalogs each catalog has Product&#39;s array which has one array of category thank you</p>\r\n', 1, 1, 0, '2013-12-25 20:03:18', '2013-12-25 20:03:18'),
(79, 'CakePHP: how do I provide hard coded data for a model instead of a table to provide it?', '<p>I presently have a model called UserLevels which defines some user levels (user, premium user, admin, etc) and some properties of them (number, description, color, etc).</p>\r\n\r\n<p>I&#39;ve decided I would rather hard code this, and be able to use the __() method on the names and descriptions.</p>\r\n\r\n<p>How do I go about providing data to a model so that it doesn&#39;t use a database? Is there a better way to approach this?</p>\r\n\r\n<p>Thank you.</p>\r\n', 1, 1, 0, '2013-12-25 20:04:07', '2013-12-25 20:04:07'),
(80, 'Cakephp image -Can not determine the mimetype', '<p>cakephp 2.3</p>\r\n\r\n<p>I&#39;m uploading an image and I have an error saying that:</p>\r\n\r\n<pre>\r\n<code>Can not determine the mimetype.\r\n\r\nError: An Internal Error Has Occurred.</code></pre>\r\n\r\n<p>On my Model this is a part of my $validation</p>\r\n\r\n<pre>\r\n<code>&#39;file_name&#39; =&gt; array(\r\n            &#39;uploadError&#39; =&gt; array(\r\n                &#39;rule&#39; =&gt;&#39;uploadError&#39;,\r\n                &#39;message&#39; =&gt; &#39;Your image upload failed&#39;,\r\n                &#39;allowEmpty&#39; =&gt; FALSE,\r\n                //&#39;required&#39; =&gt; false,\r\n                //&#39;last&#39; =&gt; false, // Stop validation after this rule\r\n                //&#39;on&#39; =&gt; &#39;create&#39;, // Limit validation to &#39;create&#39; or &#39;update&#39; operations\r\n            ),\r\n            &#39;mimeType&#39; =&gt; array(\r\n                &#39;rule&#39; =&gt; array(&#39;mimeType&#39;, array(&#39;image/gif&#39;, &#39;image/png&#39;, &#39;image/jpg&#39;, &#39;image/jpeg&#39;)),\r\n                &#39;message&#39; =&gt; &#39;Please only upload images (gif, png, jpg).&#39;,\r\n                &#39;allowEmpty&#39; =&gt; FALSE,\r\n                ),\r\n            &#39;fileSize&#39; =&gt; array(\r\n                &#39;rule&#39; =&gt; array(&#39;fileSize&#39;, &#39;&lt;=&#39;, &#39;2MB&#39;),\r\n                &#39;message&#39; =&gt; &#39;Your image must be less than 2MB or(2048ko).&#39;,\r\n                &#39;allowEmpty&#39; =&gt; FALSE,\r\n                ),\r\n            &#39;processCoverUpload&#39; =&gt; array(\r\n                &#39;rule&#39; =&gt; &#39;processCoverUpload&#39;,\r\n                &#39;message&#39; =&gt; &#39;Unable to process cover image upload.&#39;,\r\n                &#39;allowEmpty&#39; =&gt; FALSE,\r\n                ),\r\n            &#39;unique&#39; =&gt; array(\r\n                &#39;rule&#39; =&gt; &#39;isUnique&#39;,\r\n                &#39;message&#39; =&gt; &#39;This file name is already exist in your folder&#39;,\r\n                &#39;required&#39; =&gt; &#39;create&#39;,\r\n                &#39;allowEmpty&#39; =&gt; FALSE,\r\n                ),\r\n        ),</code></pre>\r\n\r\n<p>I&#39;m only allow 3 types of mimetype. any help?</p>\r\n', 1, 1, 0, '2013-12-25 20:04:57', '2013-12-25 20:04:57'),
(81, 'How to Export Data in CSV in Multiple Sheets in a Single File?', '<p>I have developed <code>CAKEPHP</code> code for exporting data in <code>CSV format.</code></p>\r\n\r\n<p>It is working fine , but my question is if i want to export data at multiple sheet or in other words if i want to export data at <strong>&quot;Sheet 1&quot; and &quot;Sheet 2&quot; and &quot;Sheet 3&quot; in a single CSV file</strong>, how can i make it possible?</p>\r\n\r\n<p>thanks in advance</p>\r\n', 1, 1, 0, '2013-12-25 20:05:30', '2013-12-25 20:05:30'),
(82, 'How to show database in cake php', '<p>I am quite new in <code>cake php</code>, I have little knowledge about <code>cake php</code>.</p>\r\n\r\n<p>I created a database name item in <code>cake php</code>, I have also created the fields <code>id</code>, <code>name</code> , <code>date</code>, <code>priority</code>, <code>completed</code>.</p>\r\n\r\n<p>Then I have the following classes:</p>\r\n\r\n<ul>\r\n	<li><code>item.php</code> in <code>app/models/item.php</code></li>\r\n	<li><code>items_controller.php</code> in <code>app/controllers/items_controller.php</code></li>\r\n</ul>\r\n\r\n<p>When I run my code with the url <code>localhost/cake/item</code>, to see my database table, it is not working. The error message is get is,</p>\r\n\r\n<pre>\r\n<code>fatal_Error: unexpected T_CLASS</code></pre>\r\n\r\n<p>how i can abell to see my database table &amp; also give me some idea to how to launch Scaffolding in my url</p>\r\n', 1, 1, 0, '2013-12-25 20:07:36', '2013-12-25 20:07:36'),
(83, 'Cakephp there is a bug in PaginationRecallComponent', '<p>There is a bug in PaginatorRecallComponent (<a href="http://bakery.cakephp.org/articles/Zaphod/2012/03/27/paginationrecall_for_cakephp_2_x">http://bakery.cakephp.org/articles/Zaphod/2012/03/27/paginationrecall_for_cakephp_2_x</a>). Why if you change page with the Paginator, you can not go back to the first page? This is the code of PaginatorRecallComponent. Who can help me fix it?</p>\r\n\r\n<pre>\r\n<code>&lt;?php\r\n\r\nclass PaginationRecallComponent extends Component {\r\n\r\nvar $components = array(&#39;Session&#39;);\r\nvar $Controller = null;\r\n\r\npublic function initialize(Controller $controller) {\r\n    $this-&gt;Controller = &amp; $controller;\r\n    $options = array_merge($this-&gt;Controller-&gt;request-&gt;params, $this-&gt;Controller-&gt;params[&#39;url&#39;], $this-&gt;Controller-&gt;passedArgs\r\n    );\r\n    $vars = array(&#39;page&#39;, &#39;sort&#39;, &#39;direction&#39;, &#39;filter&#39;);\r\n    $keys = array_keys($options);\r\n    $count = count($keys);\r\n    for ($i = 1; $i &lt; $count; $i++) {\r\n        if (!in_array($keys[$i], $vars) || !is_string($keys[$i])) {\r\n            unset($options[$keys[$i]]);\r\n        }\r\n    }\r\n    if ($options) {\r\n        if ($this-&gt;Session-&gt;check(&quot;Pagination.{$this-&gt;Controller-&gt;modelClass}.options&quot;)) {\r\n            $options = array_merge($this-&gt;Session-&gt;read(&quot;Pagination.{$this-&gt;Controller-&gt;modelClass}.options&quot;), $options);\r\n        }\r\n        $this-&gt;Session-&gt;write(&quot;Pagination.{$this-&gt;Controller-&gt;modelClass}.options&quot;, $options);\r\n    }\r\n    if ($this-&gt;Session-&gt;check(&quot;Pagination.{$this-&gt;Controller-&gt;modelClass}.options&quot;)) {\r\n        $options = $this-&gt;Session-&gt;read(&quot;Pagination.{$this-&gt;Controller-&gt;modelClass}.options&quot;);\r\n        $this-&gt;Controller-&gt;passedArgs = array_merge($this-&gt;Controller-&gt;passedArgs, $options);\r\n        $this-&gt;Controller-&gt;request-&gt;params[&#39;named&#39;] = $options;\r\n    }\r\n}</code></pre>\r\n\r\n<p>}</p>\r\n', 1, 1, 0, '2013-12-25 20:08:53', '2013-12-25 20:08:53'),
(84, 'how can I print sql queries in cakephp controller?', '<p>I want to print sql queries in controler at the time of calling model&#39;s function, is there any way for it? please help me.</p>\r\n', 1, 1, 0, '2013-12-25 20:09:30', '2013-12-25 20:09:30');

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
